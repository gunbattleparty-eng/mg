{"version":3,"sources":["assets\\game_script\\scripts\\Bullet_29.js"],"names":["o","$object","require","$shape","$assetsLoader","$assetsMap","$resUtil","$countDownUtil","$seedUtil","$configContext","$gameContext","$gameSkillInfo","$enemyStatus","$baseBullet","_","cc","_decorator","k","ccclass","v","property","Vec3","ZERO","b","t","e","apply","arguments","buttleType","BulletType","drat","_type","ShapeType","Sphere","currentSpeedStatus","attackEnemys","Set","timeLeft","delayTime","rebound","r","anim","animName","isLoadedSkin","__extends","prototype","initButtle","i","call","clear","atk","skillParam","skillAtk","Skill4Param","FINAL","size","time","delayRecover","setScale","v3","changeSpeed","node","children","getComponent","Animation","setAnimation","loadSkin","burnTime","instance","loadRes","BundleNames","Game","AnimationClip","sp","isValid","ResUtil","assignWith","ins","buttleLayer","parent","addClip","play","onTrigger","isUse","Trigger","enter","object","add","stunTime","sufferDebuff","type","EnemyDebuffType","STUN","value","BURN","burnAtk","enemySlowTime","SLOW","enemySlowAdd","stay","CountDownUtil","getLastAtkTime","interval","gameRatio","setLastAtkTime","sufferAtk","id","skillId","skillSpecialitys","exit","updateFrame","removeSelf","stayTime","sendRelease","move","speed","getNormalSpeed","getSlowSpeed","velocity","normalizeSelf","multiplyScalar","getPosition","x","y","z","winSize","height","setPosition","releaseCount","getButtlePool","drat_release","getRes","AssetsMap","GameBundles","prefabs","assetsList","Bullet_30","instantiate","lowBulletLayer","basicSkillConfigMap","get","skill_tpye","randomFloat","insert","__decorate","exports"],"mappings":"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","sourceRoot":"/","sourcesContent":["var o;\r\nvar $object = require(\"./Object\");\r\nvar $shape = require(\"./Shape\");\r\nvar $assetsLoader = require(\"./AssetsLoader\");\r\nvar $assetsMap = require(\"./AssetsMap\");\r\nvar $resUtil = require(\"./ResUtil\");\r\nvar $countDownUtil = require(\"./CountDownUtil\");\r\nvar $seedUtil = require(\"./SeedUtil\");\r\nvar $configContext = require(\"./ConfigContext\");\r\nvar $gameContext = require(\"./GameContext\");\r\nvar $gameSkillInfo = require(\"./GameSkillInfo\");\r\nvar $enemyStatus = require(\"./EnemyStatus\");\r\nvar $baseBullet = require(\"./BaseBullet\");\r\nvar _ = cc._decorator;\r\nvar k = _.ccclass;\r\nvar v = (_.property, cc.Vec3.ZERO);\r\nvar b = (function (t) {\r\n    function e() {\r\n        var e = (null !== t && t.apply(this, arguments)) || this;\r\n        e.buttleType = $baseBullet.BulletType.drat;\r\n        e._type = $shape.ShapeType.Sphere;\r\n        e.currentSpeedStatus = 1;\r\n        e.attackEnemys = new Set();\r\n        e.timeLeft = 0;\r\n        e.delayTime = 0;\r\n        e.rebound = 0;\r\n        e.r = 70;\r\n        e.anim = null;\r\n        e.animName = \"bullet_29\";\r\n        e.isLoadedSkin = !1;\r\n        return e;\r\n    }\r\n    __extends(e, t);\r\n    e.prototype.initButtle = function (e, i) {\r\n        t.prototype.initButtle.call(this, e, i);\r\n        this.attackEnemys.clear();\r\n        this.currentSpeedStatus = 1;\r\n        this.rebound = 0;\r\n        this.atk = this.skillParam.skillAtk[$gameSkillInfo.Skill4Param.FINAL];\r\n        var o = this.skillParam.size;\r\n        this.timeLeft = this.skillParam.time[$gameSkillInfo.Skill4Param.FINAL];\r\n        this.delayTime = this.skillParam.delayRecover;\r\n        this.setScale(cc.v3(o, o));\r\n        this.r = 70 * o;\r\n        this.changeSpeed(0);\r\n        if (!this.anim) {\r\n            this.anim = this.node.children[0].getComponent(cc.Animation);\r\n        }\r\n        this.setAnimation(null);\r\n        this.loadSkin();\r\n    };\r\n    e.prototype.loadSkin = function () {\r\n        var t = this;\r\n        if (!this.isLoadedSkin && this.skillParam.burnTime > 0) {\r\n            this.isLoadedSkin = !0;\r\n            $assetsLoader.default.instance.loadRes(\r\n                $assetsMap.BundleNames.Game,\r\n                [\"/anim/bullet_29_1\"],\r\n                cc.AnimationClip,\r\n                null,\r\n                function (e, i) {\r\n                    var o = i[0];\r\n                    if (sp && cc.isValid(o)) {\r\n                        t.animName = \"bullet_29_1\";\r\n                        $resUtil.ResUtil.assignWith(o, $gameContext.default.ins.buttleLayer.parent);\r\n                        t.anim.addClip(o);\r\n                        t.anim.play(t.animName);\r\n                    }\r\n                }\r\n            );\r\n        }\r\n    };\r\n    e.prototype.setAnimation = function () {\r\n        this.anim.play(this.animName);\r\n    };\r\n    e.prototype.onTrigger = function (t, e) {\r\n        if (!this.isUse) {\r\n            if (e == $object.Trigger.enter) {\r\n                var i = t.object;\r\n                this.attackEnemys.add(i);\r\n                if (this.skillParam.stunTime > 0) {\r\n                    i.sufferDebuff({\r\n                        type: $enemyStatus.EnemyDebuffType.STUN,\r\n                        timeLeft: this.skillParam.stunTime,\r\n                        value: 0\r\n                    });\r\n                }\r\n                if (this.skillParam.burnTime > 0) {\r\n                    i.sufferDebuff({\r\n                        type: $enemyStatus.EnemyDebuffType.BURN,\r\n                        timeLeft: this.skillParam.burnTime,\r\n                        value: this.skillParam.burnAtk[$gameSkillInfo.Skill4Param.FINAL]\r\n                    });\r\n                }\r\n                if (this.skillParam.enemySlowTime > 0) {\r\n                    i.sufferDebuff({\r\n                        type: $enemyStatus.EnemyDebuffType.SLOW,\r\n                        timeLeft: this.skillParam.enemySlowTime,\r\n                        value: this.skillParam.enemySlowAdd\r\n                    });\r\n                }\r\n            } else {\r\n                if (e == $object.Trigger.stay) {\r\n                    i = t.object;\r\n                    if (\r\n                        $countDownUtil.CountDownUtil.time - i.getLastAtkTime(8) <=\r\n                        this.skillParam.interval / $gameContext.default.ins.gameRatio\r\n                    ) {\r\n                        return;\r\n                    }\r\n                    i.setLastAtkTime(8, $countDownUtil.CountDownUtil.time);\r\n                    i.sufferAtk({\r\n                        id: this.skillId,\r\n                        skillSpecialitys: this.skillSpecialitys,\r\n                        atk: this.atk\r\n                    });\r\n                } else {\r\n                    if (e == $object.Trigger.exit) {\r\n                        i = t.object;\r\n                        this.attackEnemys.delete(i);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    };\r\n    e.prototype.updateFrame = function (t) {\r\n        if (!this.isUse) {\r\n            this.timeLeft -= t;\r\n            if (0 === this.currentSpeedStatus) {\r\n                if (this.attackEnemys.size > 0) {\r\n                    this.delayTime = this.skillParam.delayRecover;\r\n                    this.changeSpeed(1);\r\n                }\r\n            } else {\r\n                if (1 === this.currentSpeedStatus) {\r\n                    if (this.attackEnemys.size <= 0) {\r\n                        this.delayTime -= t;\r\n                        if (this.delayTime <= 0) {\r\n                            this.delayTime = this.skillParam.delayRecover;\r\n                            this.changeSpeed(0);\r\n                        }\r\n                    }\r\n                } else {\r\n                    if (2 === this.currentSpeedStatus) {\r\n                        return void (\r\n                            this.timeLeft <= 0 && (this.attackEnemys.clear(), (this.isUse = !0), this.removeSelf())\r\n                        );\r\n                    }\r\n                }\r\n            }\r\n            if (this.timeLeft <= 0) {\r\n                this.currentSpeedStatus = 2;\r\n                this.timeLeft = this.skillParam.stayTime;\r\n                this.sendRelease();\r\n            }\r\n            this.move(t);\r\n        }\r\n    };\r\n    e.prototype.changeSpeed = function (t) {\r\n        if (this.currentSpeedStatus !== t) {\r\n            this.currentSpeedStatus = t;\r\n            0 === this.currentSpeedStatus\r\n                ? (this.speed = this.skillParam.getNormalSpeed(this.rebound))\r\n                : (this.speed = this.skillParam.getSlowSpeed());\r\n            this.velocity.normalizeSelf().multiplyScalar(this.speed);\r\n        }\r\n    };\r\n    e.prototype.move = function (t) {\r\n        var e = this.getPosition();\r\n        var i = this.velocity;\r\n        v.x = e.x + i.x * t;\r\n        v.y = e.y + i.y * t;\r\n        v.z = e.z + i.z * t;\r\n        v.x < -360 + this.r\r\n            ? ((v.x = -360 + this.r + 1), (this.velocity.x = -this.velocity.x), this.rebound++)\r\n            : v.x > 360 - this.r && ((v.x = 360 - this.r - 1), (this.velocity.x = -this.velocity.x), this.rebound++);\r\n        v.y < -450 + this.r\r\n            ? ((v.y = -450 + this.r + 1), (this.velocity.y = -this.velocity.y), this.rebound++)\r\n            : v.y > cc.winSize.height / 2 - this.r &&\r\n              ((v.y = cc.winSize.height / 2 - this.r - 1), (this.velocity.y = -this.velocity.y), this.rebound++);\r\n        this.setPosition(v);\r\n    };\r\n    e.prototype.sendRelease = function () {\r\n        if (!(this.skillParam.releaseCount <= 0)) {\r\n            for (var t = 0; t < 2; t++) {\r\n                var e = $gameContext.default.ins.getButtlePool($baseBullet.BulletType.drat_release);\r\n                if (!e) {\r\n                    var i = $assetsLoader.default.instance.getRes(\r\n                        $assetsMap.BundleNames.Game,\r\n                        $assetsMap.AssetsMap.GameBundles.prefabs.assetsList.Bullet_30\r\n                    );\r\n                    (e = $resUtil.ResUtil.instantiate(i, $gameContext.default.ins.lowBulletLayer.parent).getComponent(\r\n                        $baseBullet.default\r\n                    )).skillSpecialitys = $configContext.default.instance.basicSkillConfigMap.get(\r\n                        this.skillId\r\n                    ).skill_tpye;\r\n                }\r\n                var o = cc.Vec3.ZERO;\r\n                o.x = 0 === t ? $seedUtil.default.randomFloat(-1, 0) : $seedUtil.default.randomFloat(0, 1);\r\n                o.y = $seedUtil.default.randomFloat(-1, 1);\r\n                o.normalizeSelf();\r\n                e.setPosition(this.getPosition());\r\n                e.initButtle(o, this.skillId);\r\n                e.insert($gameContext.default.ins.lowBulletLayer);\r\n            }\r\n        }\r\n    };\r\n    return __decorate([k], e);\r\n})($baseBullet.default);\r\nexports.default = b;\r\n"]}