{"version":3,"sources":["assets\\game_script\\scripts\\ResKeeper.js"],"names":["o","exports","ResKeeper","r","cc","_decorator","a","ccclass","l","property","t","e","apply","arguments","cacheAssets","Set","__extends","prototype","cacheAsset","has","addRef","add","releaseAssets","forEach","decRef","clear","onDestroy","__decorate","Component"],"mappings":";;;;;;AAAA,IAAIA,CAAJ;AACAC,OAAO,CAACC,SAAR,GAAoB,KAAK,CAAzB;AACA,IAAIC,CAAC,GAAGC,EAAE,CAACC,UAAX;AACA,IAAIC,CAAC,GAAGH,CAAC,CAACI,OAAV;AACA,IAAIC,CAAC,IACAL,CAAC,CAACM,QAAF,EACA,UAAUC,CAAV,EAAa;EACV,SAASC,CAAT,GAAa;IACT,IAAIA,CAAC,GAAI,SAASD,CAAT,IAAcA,CAAC,CAACE,KAAF,CAAQ,IAAR,EAAcC,SAAd,CAAf,IAA4C,IAApD;IACAF,CAAC,CAACG,WAAF,GAAgB,IAAIC,GAAJ,EAAhB;IACA,OAAOJ,CAAP;EACH;;EACDK,SAAS,CAACL,CAAD,EAAID,CAAJ,CAAT;;EACAC,CAAC,CAACM,SAAF,CAAYC,UAAZ,GAAyB,UAAUR,CAAV,EAAa;IAClC,IAAI,CAAC,KAAKI,WAAL,CAAiBK,GAAjB,CAAqBT,CAArB,CAAL,EAA8B;MAC1BA,CAAC,CAACU,MAAF;MACA,KAAKN,WAAL,CAAiBO,GAAjB,CAAqBX,CAArB;IACH;EACJ,CALD;;EAMAC,CAAC,CAACM,SAAF,CAAYK,aAAZ,GAA4B,YAAY;IACpC,KAAKR,WAAL,CAAiBS,OAAjB,CAAyB,UAAUb,CAAV,EAAa;MAClCA,CAAC,CAACc,MAAF;IACH,CAFD;IAGA,KAAKV,WAAL,CAAiBW,KAAjB;EACH,CALD;;EAMAd,CAAC,CAACM,SAAF,CAAYS,SAAZ,GAAwB,YAAY;IAChC,KAAKJ,aAAL;EACH,CAFD;;EAGA,OAAOK,UAAU,CAAC,CAACrB,CAAD,CAAD,EAAMK,CAAN,CAAjB;AACH,CAvBD,CAuBGP,EAAE,CAACwB,SAvBN,CAFC,CAAL;AA0BA3B,OAAO,CAACC,SAAR,GAAoBM,CAApB","sourceRoot":"/","sourcesContent":["var o;\r\nexports.ResKeeper = void 0;\r\nvar r = cc._decorator;\r\nvar a = r.ccclass;\r\nvar l =\r\n    (r.property,\r\n    (function (t) {\r\n        function e() {\r\n            var e = (null !== t && t.apply(this, arguments)) || this;\r\n            e.cacheAssets = new Set();\r\n            return e;\r\n        }\r\n        __extends(e, t);\r\n        e.prototype.cacheAsset = function (t) {\r\n            if (!this.cacheAssets.has(t)) {\r\n                t.addRef();\r\n                this.cacheAssets.add(t);\r\n            }\r\n        };\r\n        e.prototype.releaseAssets = function () {\r\n            this.cacheAssets.forEach(function (t) {\r\n                t.decRef();\r\n            });\r\n            this.cacheAssets.clear();\r\n        };\r\n        e.prototype.onDestroy = function () {\r\n            this.releaseAssets();\r\n        };\r\n        return __decorate([a], e);\r\n    })(cc.Component));\r\nexports.ResKeeper = l;\r\n"]}