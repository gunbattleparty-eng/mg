{"version":3,"sources":["assets\\game_script\\scripts\\SkinShardView.js"],"names":["o","$assetsMap","require","$popupManager","$popupView","$platform","$aD","$adService","$roleContext","$userDataContext","h","cc","_decorator","m","ccclass","y","property","g","t","e","apply","arguments","btnAd","__extends","prototype","addEvent","on","clickAd","removeEvent","off","Ins","showRewardedVideo","Platform","currPlatForm","PlatformEnum","TOU_TIAO","toutiao","report","PopupManager","instance","open","AssetsMap","PopUpBundles","prefabs","assetsList","RewardView","infos","type","ext","num","i","ins","getPlayerSkinInfo","shard","setPlayerSKinInfo","setEgg","onClickClose","call","__decorate","Node","PopupView","exports"],"mappings":"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","sourceRoot":"/","sourcesContent":["var o;\r\nvar $assetsMap = require(\"./AssetsMap\");\r\nvar $popupManager = require(\"./PopupManager\");\r\nvar $popupView = require(\"./PopupView\");\r\nvar $platform = require(\"./Platform\");\r\nvar $aD = require(\"./AD\");\r\nvar $adService = require(\"./AdService\");\r\nvar $roleContext = require(\"./RoleContext\");\r\nvar $userDataContext = require(\"./UserDataContext\");\r\nvar h = cc._decorator;\r\nvar m = h.ccclass;\r\nvar y = h.property;\r\nvar g = (function (t) {\r\n    function e() {\r\n        var e = (null !== t && t.apply(this, arguments)) || this;\r\n        e.btnAd = null;\r\n        return e;\r\n    }\r\n    __extends(e, t);\r\n    e.prototype.addEvent = function () {\r\n        this.btnAd.on(\"click\", this.clickAd, this);\r\n    };\r\n    e.prototype.removeEvent = function () {\r\n        this.btnAd.off(\"click\", this.clickAd, this);\r\n    };\r\n    e.prototype.clickAd = function () {\r\n        var e = this;\r\n        $adService.default.Ins.showRewardedVideo(function () {\r\n            if ($platform.Platform.currPlatForm === $platform.PlatformEnum.TOU_TIAO) {\r\n                $aD.default.toutiao.report(\"Egg_skin\");\r\n            }\r\n            $popupManager.PopupManager.instance.open($assetsMap.AssetsMap.PopUpBundles.prefabs.assetsList.RewardView, {\r\n                infos: [\r\n                    {\r\n                        type: 9,\r\n                        ext: 2,\r\n                        num: 1\r\n                    }\r\n                ]\r\n            });\r\n            var i = $roleContext.default.ins.getPlayerSkinInfo(2);\r\n            i.shard += 1;\r\n            $roleContext.default.ins.setPlayerSKinInfo(i);\r\n            $userDataContext.default.Ins.setEgg(3, 1);\r\n            t.prototype.onClickClose.call(e);\r\n        });\r\n    };\r\n    __decorate([y(cc.Node)], e.prototype, \"btnAd\", void 0);\r\n    return __decorate([m], e);\r\n})($popupView.PopupView);\r\nexports.default = g;\r\n"]}