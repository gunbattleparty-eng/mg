{"version":3,"sources":["assets\\game_script\\scripts\\WaitingManager.js"],"names":["exports","WaitingManager","$countDownUtil","require","$uICache","$uIManager","$uIParam","a","t","uiManager","UIManager","instance","uiCache","UICache","prototype","show","e","i","n","s","getBaseUI","LayerType","WAITING","uiAddScene","node","parent","layerWaitding","registerCallback","CountDownUtil","scheduleOnce","close","cc","isValid","unSchedule","getCurrView","length","uiRemoveScene"],"mappings":";;;;;;AAAAA,OAAO,CAACC,cAAR,GAAyB,KAAK,CAA9B;;AACA,IAAIC,cAAc,GAAGC,OAAO,CAAC,iBAAD,CAA5B;;AACA,IAAIC,QAAQ,GAAGD,OAAO,CAAC,WAAD,CAAtB;;AACA,IAAIE,UAAU,GAAGF,OAAO,CAAC,aAAD,CAAxB;;AACA,IAAIG,QAAQ,GAAGH,OAAO,CAAC,WAAD,CAAtB;;AACA,IAAII,CAAC,GAAI,YAAY;EACjB,SAASC,CAAT,GAAa;IACT,KAAKC,SAAL,GAAiBJ,UAAU,CAACK,SAAX,CAAqBC,QAAtC;IACA,KAAKC,OAAL,GAAeR,QAAQ,CAACS,OAAT,CAAiBF,QAAhC;EACH;;EACDH,CAAC,CAACM,SAAF,CAAYC,IAAZ,GAAmB,UAAUP,CAAV,EAAaQ,CAAb,EAAgBC,CAAhB,EAAmB;IAClC,IAAIC,CAAC,GAAG,IAAR;;IACA,IAAI,KAAK,CAAL,KAAWV,CAAf,EAAkB;MACdA,CAAC,GAAG,CAAJ;IACH;;IACD,IAAI,KAAK,CAAL,KAAWS,CAAf,EAAkB;MACdA,CAAC,GAAG,CAAJ;IACH;;IACD,IAAI,MAAMA,CAAV,EAAa;MACT,IAAIE,CAAC,GAAG,KAAKP,OAAL,CAAaQ,SAAb,CAAuBd,QAAQ,CAACe,SAAT,CAAmBC,OAA1C,CAAR;MACA,KAAKb,SAAL,CAAec,UAAf,CAA0BjB,QAAQ,CAACe,SAAT,CAAmBC,OAA7C,EAAsDH,CAAtD;MACAA,CAAC,CAACK,IAAF,CAAOC,MAAP,GAAgB,KAAKhB,SAAL,CAAeiB,aAA/B;MACAP,CAAC,CAACQ,gBAAF,CAAmBX,CAAnB,EAAsBR,CAAtB;IACH,CALD,MAKO;MACHN,cAAc,CAAC0B,aAAf,CAA6BC,YAA7B,CACI,YAAY;QACRX,CAAC,CAACH,IAAF,CAAOP,CAAP,EAAUQ,CAAV,EAAa,CAAb;MACH,CAHL,EAII,IAJJ,EAKIC,CALJ;IAOH;EACJ,CAtBD;;EAuBAT,CAAC,CAACM,SAAF,CAAYgB,KAAZ,GAAoB,UAAUtB,CAAV,EAAa;IAC7B,IAAI,CAACuB,EAAE,CAACC,OAAH,CAAWxB,CAAX,CAAL,EAAoB;MAChBN,cAAc,CAAC0B,aAAf,CAA6BK,UAA7B,CAAwC,IAAxC;MACA,IAAIjB,CAAC,GAAG,KAAKJ,OAAL,CAAasB,WAAb,CAAyB5B,QAAQ,CAACe,SAAT,CAAmBC,OAA5C,CAAR;;MACA,IAAI,MAAMN,CAAC,CAACmB,MAAZ,EAAoB;QAChB;MACH;;MACD3B,CAAC,GAAGQ,CAAC,CAAC,CAAD,CAAL;IACH;;IACD,KAAKP,SAAL,CAAe2B,aAAf,CAA6B9B,QAAQ,CAACe,SAAT,CAAmBC,OAAhD,EAAyDd,CAAzD;EACH,CAVD;;EAWAA,CAAC,CAACG,QAAF,GAAa,IAAIH,CAAJ,EAAb;EACA,OAAOA,CAAP;AACH,CAzCO,EAAR;;AA0CAR,OAAO,CAACC,cAAR,GAAyBM,CAAzB","sourceRoot":"/","sourcesContent":["exports.WaitingManager = void 0;\r\nvar $countDownUtil = require(\"./CountDownUtil\");\r\nvar $uICache = require(\"./UICache\");\r\nvar $uIManager = require(\"./UIManager\");\r\nvar $uIParam = require(\"./UIParam\");\r\nvar a = (function () {\r\n    function t() {\r\n        this.uiManager = $uIManager.UIManager.instance;\r\n        this.uiCache = $uICache.UICache.instance;\r\n    }\r\n    t.prototype.show = function (t, e, i) {\r\n        var n = this;\r\n        if (void 0 === t) {\r\n            t = 5;\r\n        }\r\n        if (void 0 === i) {\r\n            i = 0;\r\n        }\r\n        if (0 === i) {\r\n            var s = this.uiCache.getBaseUI($uIParam.LayerType.WAITING);\r\n            this.uiManager.uiAddScene($uIParam.LayerType.WAITING, s);\r\n            s.node.parent = this.uiManager.layerWaitding;\r\n            s.registerCallback(e, t);\r\n        } else {\r\n            $countDownUtil.CountDownUtil.scheduleOnce(\r\n                function () {\r\n                    n.show(t, e, 0);\r\n                },\r\n                this,\r\n                i\r\n            );\r\n        }\r\n    };\r\n    t.prototype.close = function (t) {\r\n        if (!cc.isValid(t)) {\r\n            $countDownUtil.CountDownUtil.unSchedule(this);\r\n            var e = this.uiCache.getCurrView($uIParam.LayerType.WAITING);\r\n            if (0 === e.length) {\r\n                return;\r\n            }\r\n            t = e[0];\r\n        }\r\n        this.uiManager.uiRemoveScene($uIParam.LayerType.WAITING, t);\r\n    };\r\n    t.instance = new t();\r\n    return t;\r\n})();\r\nexports.WaitingManager = a;\r\n"]}