{"version":3,"sources":["assets\\game_script\\scripts\\GlobalHttp.js"],"names":["exports","GlobalHttp","$util","require","n","t","init","fly","config","timeout","interceptors","request","use","onSend","response","onSucceed","onError","url","includes","headers","e","data","isJSON","JSON","parse","Error","stringify"],"mappings":";;;;;;AAAAA,OAAO,CAACC,UAAR,GAAqB,KAAK,CAA1B;;AACA,IAAIC,KAAK,GAAGC,OAAO,CAAC,QAAD,CAAnB;;AACA,IAAIC,CAAC,GAAI,YAAY;EACjB,SAASC,CAAT,GAAa,CAAE;;EACfA,CAAC,CAACC,IAAF,GAAS,YAAY;IACjBC,GAAG,CAACC,MAAJ,CAAWC,OAAX,GAAqB,GAArB;IACAF,GAAG,CAACG,YAAJ,CAAiBC,OAAjB,CAAyBC,GAAzB,CAA6BP,CAAC,CAACQ,MAA/B;IACAN,GAAG,CAACG,YAAJ,CAAiBI,QAAjB,CAA0BF,GAA1B,CAA8BP,CAAC,CAACU,SAAhC,EAA2CV,CAAC,CAACW,OAA7C;EACH,CAJD;;EAKAX,CAAC,CAACQ,MAAF,GAAW,UAAUR,CAAV,EAAa;IACpB,IAAI,EAAEA,CAAC,CAACY,GAAF,CAAMC,QAAN,CAAe,OAAf,KAA2Bb,CAAC,CAACY,GAAF,CAAMC,QAAN,CAAe,OAAf,CAA7B,CAAJ,EAA2D;MACvDb,CAAC,CAACc,OAAF,CAAU,cAAV,IAA4B,kBAA5B;IACH;EACJ,CAJD;;EAKAd,CAAC,CAACU,SAAF,GAAc,UAAUV,CAAV,EAAa;IACvB,IAAIe,CAAC,GAAGf,CAAC,CAACgB,IAAV;;IACA,IAAInB,KAAK,WAAL,CAAcoB,MAAd,CAAqBF,CAArB,CAAJ,EAA6B;MACzBA,CAAC,GAAGG,IAAI,CAACC,KAAL,CAAWJ,CAAX,CAAJ;IACH;;IACD,OAAOA,CAAP;EACH,CAND;;EAOAf,CAAC,CAACW,OAAF,GAAY,UAAUX,CAAV,EAAa;IACrB,MAAM,IAAIoB,KAAJ,CAAU,YAAYF,IAAI,CAACG,SAAL,CAAerB,CAAf,CAAtB,CAAN;EACH,CAFD;;EAGA,OAAOA,CAAP;AACH,CAvBO,EAAR;;AAwBAL,OAAO,CAACC,UAAR,GAAqBG,CAArB","sourceRoot":"/","sourcesContent":["exports.GlobalHttp = void 0;\r\nvar $util = require(\"./Util\");\r\nvar n = (function () {\r\n    function t() {}\r\n    t.init = function () {\r\n        fly.config.timeout = 3e3;\r\n        fly.interceptors.request.use(t.onSend);\r\n        fly.interceptors.response.use(t.onSucceed, t.onError);\r\n    };\r\n    t.onSend = function (t) {\r\n        if (!(t.url.includes(\"/rank\") || t.url.includes(\"/auth\"))) {\r\n            t.headers[\"Content-Type\"] = \"application/json\";\r\n        }\r\n    };\r\n    t.onSucceed = function (t) {\r\n        var e = t.data;\r\n        if ($util.default.isJSON(e)) {\r\n            e = JSON.parse(e);\r\n        }\r\n        return e;\r\n    };\r\n    t.onError = function (t) {\r\n        throw new Error(\"接口请求失败:\" + JSON.stringify(t));\r\n    };\r\n    return t;\r\n})();\r\nexports.GlobalHttp = n;\r\n"]}