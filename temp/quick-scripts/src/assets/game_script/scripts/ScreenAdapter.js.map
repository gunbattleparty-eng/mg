{"version":3,"sources":["assets\\game_script\\scripts\\ScreenAdapter.js"],"names":["o","$storageUtil","require","a","cc","_decorator","l","ccclass","c","executionOrder","u","property","d","t","e","apply","arguments","isOpen","__extends","prototype","onLoad","StorageUtil","getItem","init","adapt","onEnable","view","setResizeCallback","onResize","winSize","width","height","i","Canvas","instance","designResolution","setFitWidth","setFitHeight","fitHeight","fitWidth","__decorate","Component","exports"],"mappings":";;;;;;AAAA,IAAIA,CAAJ;;AACA,IAAIC,YAAY,GAAGC,OAAO,CAAC,eAAD,CAA1B;;AACA,IAAIC,CAAC,GAAGC,EAAE,CAACC,UAAX;AACA,IAAIC,CAAC,GAAGH,CAAC,CAACI,OAAV;AACA,IAAIC,CAAC,GAAGL,CAAC,CAACM,cAAV;AACA,IAAIC,CAAC,GAAGP,CAAC,CAACQ,QAAV;;AACA,IAAIC,CAAC,GAAI,UAAUC,CAAV,EAAa;EAClB,SAASC,CAAT,GAAa;IACT,IAAIA,CAAC,GAAI,SAASD,CAAT,IAAcA,CAAC,CAACE,KAAF,CAAQ,IAAR,EAAcC,SAAd,CAAf,IAA4C,IAApD;IACAF,CAAC,CAACG,MAAF,GAAW,CAAC,CAAZ;IACA,OAAOH,CAAP;EACH;;EACDI,SAAS,CAACJ,CAAD,EAAID,CAAJ,CAAT;;EACAC,CAAC,CAACK,SAAF,CAAYC,MAAZ,GAAqB,YAAY;IAC7B,IAAIP,CAAC,GAAGZ,YAAY,CAACoB,WAAb,CAAyBC,OAAzB,CAAiC,OAAjC,EAA0C,CAAC,CAA3C,EAA8C,CAAC,CAA/C,CAAR;IACA,KAAKL,MAAL,GAAcJ,CAAd;;IACA,IAAI,KAAKI,MAAT,EAAiB;MACb,KAAKM,IAAL;IACH;;IACD,IAAI,KAAKN,MAAT,EAAiB;MACb,KAAKO,KAAL;IACH;EACJ,CATD;;EAUAV,CAAC,CAACK,SAAF,CAAYM,QAAZ,GAAuB,YAAY;IAC/B,IAAI,KAAKR,MAAT,EAAiB;MACb,KAAKO,KAAL;IACH;EACJ,CAJD;;EAKAV,CAAC,CAACK,SAAF,CAAYI,IAAZ,GAAmB,YAAY;IAC3B,IAAIV,CAAC,GAAG,IAAR;IACAT,EAAE,CAACsB,IAAH,CAAQC,iBAAR,CAA0B,YAAY;MAClC,OAAOd,CAAC,CAACe,QAAF,EAAP;IACH,CAFD;EAGH,CALD;;EAMAd,CAAC,CAACK,SAAF,CAAYS,QAAZ,GAAuB,YAAY;IAC/B,KAAKJ,KAAL;EACH,CAFD;;EAGAV,CAAC,CAACK,SAAF,CAAYK,KAAZ,GAAoB,YAAY;IAC5B,IAAIX,CAAC,GAAGT,EAAE,CAACyB,OAAX;IACA,IAAIf,CAAC,GAAGD,CAAC,CAACiB,KAAF,GAAUjB,CAAC,CAACkB,MAApB;IACA,IAAIC,CAAC,GAAG5B,EAAE,CAAC6B,MAAH,CAAUC,QAAV,CAAmBC,gBAA3B;IACA,IAAInC,CAAC,GAAGgC,CAAC,CAACF,KAAF,GAAUE,CAAC,CAACD,MAApB;IACAjB,CAAC,IAAI,CAAL,IAAUA,CAAC,IAAId,CAAf,GAAmB,KAAKoC,WAAL,EAAnB,GAAwC,KAAKC,YAAL,EAAxC;EACH,CAND;;EAOAvB,CAAC,CAACK,SAAF,CAAYkB,YAAZ,GAA2B,YAAY;IACnC,IAAIxB,CAAC,GAAGT,EAAE,CAAC6B,MAAH,CAAUC,QAAlB;IACArB,CAAC,CAACyB,SAAF,GAAc,CAAC,CAAf;IACAzB,CAAC,CAAC0B,QAAF,GAAa,CAAC,CAAd;EACH,CAJD;;EAKAzB,CAAC,CAACK,SAAF,CAAYiB,WAAZ,GAA0B,YAAY;IAClC,IAAIvB,CAAC,GAAGT,EAAE,CAAC6B,MAAH,CAAUC,QAAlB;IACArB,CAAC,CAACyB,SAAF,GAAc,CAAC,CAAf;IACAzB,CAAC,CAAC0B,QAAF,GAAa,CAAC,CAAd;EACH,CAJD;;EAKAC,UAAU,CAAC,CAAC9B,CAAD,CAAD,EAAMI,CAAC,CAACK,SAAR,EAAmB,QAAnB,EAA6B,KAAK,CAAlC,CAAV;;EACA,OAAOqB,UAAU,CAAC,CAAClC,CAAD,EAAIE,CAAC,CAAC,CAAC,CAAF,CAAL,CAAD,EAAaM,CAAb,CAAjB;AACH,CAlDO,CAkDLV,EAAE,CAACqC,SAlDE,CAAR;;AAmDAC,OAAO,WAAP,GAAkB9B,CAAlB","sourceRoot":"/","sourcesContent":["var o;\r\nvar $storageUtil = require(\"./StorageUtil\");\r\nvar a = cc._decorator;\r\nvar l = a.ccclass;\r\nvar c = a.executionOrder;\r\nvar u = a.property;\r\nvar d = (function (t) {\r\n    function e() {\r\n        var e = (null !== t && t.apply(this, arguments)) || this;\r\n        e.isOpen = !0;\r\n        return e;\r\n    }\r\n    __extends(e, t);\r\n    e.prototype.onLoad = function () {\r\n        var t = $storageUtil.StorageUtil.getItem(\"adapt\", !1, !1);\r\n        this.isOpen = t;\r\n        if (this.isOpen) {\r\n            this.init();\r\n        }\r\n        if (this.isOpen) {\r\n            this.adapt();\r\n        }\r\n    };\r\n    e.prototype.onEnable = function () {\r\n        if (this.isOpen) {\r\n            this.adapt();\r\n        }\r\n    };\r\n    e.prototype.init = function () {\r\n        var t = this;\r\n        cc.view.setResizeCallback(function () {\r\n            return t.onResize();\r\n        });\r\n    };\r\n    e.prototype.onResize = function () {\r\n        this.adapt();\r\n    };\r\n    e.prototype.adapt = function () {\r\n        var t = cc.winSize;\r\n        var e = t.width / t.height;\r\n        var i = cc.Canvas.instance.designResolution;\r\n        var o = i.width / i.height;\r\n        e <= 1 && e <= o ? this.setFitWidth() : this.setFitHeight();\r\n    };\r\n    e.prototype.setFitHeight = function () {\r\n        var t = cc.Canvas.instance;\r\n        t.fitHeight = !0;\r\n        t.fitWidth = !1;\r\n    };\r\n    e.prototype.setFitWidth = function () {\r\n        var t = cc.Canvas.instance;\r\n        t.fitHeight = !1;\r\n        t.fitWidth = !0;\r\n    };\r\n    __decorate([u], e.prototype, \"isOpen\", void 0);\r\n    return __decorate([l, c(-1)], e);\r\n})(cc.Component);\r\nexports.default = d;\r\n"]}