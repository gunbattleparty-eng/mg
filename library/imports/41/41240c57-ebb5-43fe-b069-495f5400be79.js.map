{"version":3,"sources":["assets\\game_script\\scripts\\BaseAd.js"],"names":["exports","BaseAd","$audioPlayer","require","n","t","adUnitId","adIns","musicVolume","effectsVolume","isOpenPreLoad","isLoaded","showing","isAutoShow","isConsume","isCanShow","hideing","onLoad","onError","onClose","onResize","onHide","showCallback","closeCallback","errorCallback","noRespondCount","prototype","setOpenPreLoad","initAd","onAdLoad","bind","onAdClose","onAdError","onAdResize","onAdHide","loadAd","console","warn","JSON","stringify","forbidderAd","hideAd","destroyAd","hide","reCreateAd","e","setTimeout","pause","pauseAll","cc","director","resume","resumeAll"],"mappings":"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","sourceRoot":"/","sourcesContent":["exports.BaseAd = void 0;\r\nvar $audioPlayer = require(\"./AudioPlayer\");\r\nvar n = (function () {\r\n    function t() {\r\n        this.adUnitId = null;\r\n        this.adIns = null;\r\n        this.musicVolume = -1;\r\n        this.effectsVolume = -1;\r\n        this.isOpenPreLoad = !0;\r\n        this.isLoaded = !1;\r\n        this.showing = !1;\r\n        this.isAutoShow = !1;\r\n        this.isConsume = !1;\r\n        this.isCanShow = !0;\r\n        this.hideing = !1;\r\n        this.onLoad = null;\r\n        this.onError = null;\r\n        this.onClose = null;\r\n        this.onResize = null;\r\n        this.onHide = null;\r\n        this.showCallback = null;\r\n        this.closeCallback = null;\r\n        this.errorCallback = null;\r\n        this.noRespondCount = 0;\r\n    }\r\n    t.prototype.setOpenPreLoad = function (t) {\r\n        this.isOpenPreLoad = t;\r\n    };\r\n    t.prototype.initAd = function (t) {\r\n        this.adUnitId = t;\r\n        this.adUnitId && \"\" !== this.adUnitId\r\n            ? ((this.onLoad = this.onAdLoad.bind(this)),\r\n              (this.onClose = this.onAdClose.bind(this)),\r\n              (this.onError = this.onAdError.bind(this)),\r\n              (this.onResize = this.onAdResize.bind(this)),\r\n              (this.onHide = this.onAdHide.bind(this)),\r\n              this.isOpenPreLoad && this.loadAd())\r\n            : console.warn(\"初始化广告参数为空\");\r\n    };\r\n    t.prototype.loadAd = function () {\r\n        console.warn(this.adUnitId, \"广告loadAd\");\r\n    };\r\n    t.prototype.onAdLoad = function () {\r\n        console.warn(this.adUnitId, \"广告onAdLoad\");\r\n    };\r\n    t.prototype.onAdError = function (t) {\r\n        console.warn(this.adUnitId, \"广告onAdError\", JSON.stringify(t));\r\n    };\r\n    t.prototype.onAdClose = function () {\r\n        console.warn(this.adUnitId, \"广告onAdClose\");\r\n    };\r\n    t.prototype.onAdHide = function () {\r\n        console.warn(this.adUnitId, \"广告onHide\");\r\n    };\r\n    t.prototype.onAdResize = function () {\r\n        console.warn(this.adUnitId, \"广告onAdResize\");\r\n    };\r\n    t.prototype.forbidderAd = function (t) {\r\n        console.warn(this.adUnitId, \"执行禁用\", t);\r\n        this.isCanShow = !t;\r\n        if (t) {\r\n            this.hideAd(!1);\r\n        }\r\n    };\r\n    t.prototype.hideAd = function (t) {\r\n        console.warn(this.adUnitId, \"执行隐藏\");\r\n        t ? this.isConsume && this.destroyAd() : this.showing && this.adIns.hide();\r\n    };\r\n    t.prototype.destroyAd = function (t) {\r\n        if (void 0 === t) {\r\n            t = !1;\r\n        }\r\n        this.isLoaded = !1;\r\n        this.isAutoShow = !1;\r\n        this.isConsume = !1;\r\n        this.showing = !1;\r\n        this.hideing = !1;\r\n        if (!t) {\r\n            this.showCallback = null;\r\n            this.closeCallback = null;\r\n            this.errorCallback = null;\r\n        }\r\n        console.warn(this.adUnitId, \"执行销毁\");\r\n    };\r\n    t.prototype.reCreateAd = function (t) {\r\n        var e = this;\r\n        console.warn(this.adUnitId, \"执行重建\");\r\n        this.destroyAd(t);\r\n        this.isAutoShow = t;\r\n        setTimeout(function () {\r\n            e.loadAd();\r\n        }, 100);\r\n    };\r\n    t.prototype.pause = function () {\r\n        $audioPlayer.default.pauseAll();\r\n        cc.director.pause();\r\n    };\r\n    t.prototype.resume = function () {\r\n        cc.director.resume();\r\n        $audioPlayer.default.resumeAll();\r\n    };\r\n    return t;\r\n})();\r\nexports.BaseAd = n;\r\n"]}