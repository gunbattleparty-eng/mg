{"version":3,"sources":["assets\\game_script\\scripts\\GameSpeedView.js"],"names":["o","$popupView","require","$platform","$aD","$adService","$userDataContext","$gameContext","p","cc","_decorator","f","ccclass","h","property","m","t","e","apply","arguments","anim1","anim2","btnSpeed1","btnSpeed2","__extends","prototype","onResetView","Ins","speedRecord","ins","gameRatio","render","addEvent","on","clickBtn","removeEvent","off","node","name","showRewardedVideo","Platform","currPlatForm","PlatformEnum","TOU_TIAO","toutiao","report","saveSpeedRecord","i","n","children","s","getComponent","Label","active","playAnimation","string","__decorate","dragonBones","ArmatureDisplay","Node","PopupView","exports"],"mappings":"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","sourceRoot":"/","sourcesContent":["var o;\r\nvar $popupView = require(\"./PopupView\");\r\nvar $platform = require(\"./Platform\");\r\nvar $aD = require(\"./AD\");\r\nvar $adService = require(\"./AdService\");\r\nvar $userDataContext = require(\"./UserDataContext\");\r\nvar $gameContext = require(\"./GameContext\");\r\nvar p = cc._decorator;\r\nvar f = p.ccclass;\r\nvar h = p.property;\r\nvar m = (function (t) {\r\n    function e() {\r\n        var e = (null !== t && t.apply(this, arguments)) || this;\r\n        e.anim1 = null;\r\n        e.anim2 = null;\r\n        e.btnSpeed1 = null;\r\n        e.btnSpeed2 = null;\r\n        return e;\r\n    }\r\n    __extends(e, t);\r\n    e.prototype.onResetView = function () {\r\n        var t = 0;\r\n        if ($userDataContext.default.Ins.speedRecord[0]) {\r\n            t = 1;\r\n            if (1.5 === $gameContext.default.ins.gameRatio) {\r\n                t = 2;\r\n            }\r\n        }\r\n        this.render(1, t);\r\n        t = 0;\r\n        if ($userDataContext.default.Ins.speedRecord[1]) {\r\n            t = 1;\r\n            if (2 === $gameContext.default.ins.gameRatio) {\r\n                t = 2;\r\n            }\r\n        }\r\n        this.render(2, t);\r\n    };\r\n    e.prototype.addEvent = function () {\r\n        this.btnSpeed1.on(\"click\", this.clickBtn, this);\r\n        this.btnSpeed2.on(\"click\", this.clickBtn, this);\r\n    };\r\n    e.prototype.removeEvent = function () {\r\n        this.btnSpeed1.off(\"click\", this.clickBtn, this);\r\n        this.btnSpeed2.off(\"click\", this.clickBtn, this);\r\n    };\r\n    e.prototype.clickBtn = function (t) {\r\n        var e = this;\r\n        if (\"btn_seed1\" === t.node.name) {\r\n            if (!$userDataContext.default.Ins.speedRecord[0]) {\r\n                return void $adService.default.Ins.showRewardedVideo(function () {\r\n                    if ($platform.Platform.currPlatForm === $platform.PlatformEnum.TOU_TIAO) {\r\n                        $aD.default.toutiao.report(\"game15x\");\r\n                    }\r\n                    $userDataContext.default.Ins.speedRecord[0] = !0;\r\n                    $userDataContext.default.Ins.saveSpeedRecord();\r\n                    e.onResetView();\r\n                });\r\n            }\r\n            if (1.5 !== $gameContext.default.ins.gameRatio) {\r\n                $gameContext.default.ins.gameRatio = 1.5;\r\n                return void this.onResetView();\r\n            }\r\n            if (1.5 === $gameContext.default.ins.gameRatio) {\r\n                $gameContext.default.ins.gameRatio = 1;\r\n                return void this.onResetView();\r\n            }\r\n        } else {\r\n            if (!$userDataContext.default.Ins.speedRecord[1]) {\r\n                return void $adService.default.Ins.showRewardedVideo(function () {\r\n                    if ($platform.Platform.currPlatForm === $platform.PlatformEnum.TOU_TIAO) {\r\n                        $aD.default.toutiao.report(\"game2x\");\r\n                    }\r\n                    $userDataContext.default.Ins.speedRecord[1] = !0;\r\n                    $userDataContext.default.Ins.saveSpeedRecord();\r\n                    e.onResetView();\r\n                });\r\n            }\r\n            if (2 !== $gameContext.default.ins.gameRatio) {\r\n                $gameContext.default.ins.gameRatio = 2;\r\n                return void this.onResetView();\r\n            }\r\n            if (2 === $gameContext.default.ins.gameRatio) {\r\n                $gameContext.default.ins.gameRatio = 1;\r\n                return void this.onResetView();\r\n            }\r\n        }\r\n    };\r\n    e.prototype.render = function (t, e) {\r\n        var i = 1 === t ? this.anim1 : this.anim2;\r\n        var o = 1 === t ? this.btnSpeed1 : this.btnSpeed2;\r\n        var n = o.children[2].children[0];\r\n        var s = o.children[2].children[1].getComponent(cc.Label);\r\n        n.active = !1;\r\n        o.children[0].active = !1;\r\n        o.children[1].active = !1;\r\n        0 === e\r\n            ? (i.playAnimation(\"off_\" + t, 0), (n.active = !0), (s.string = \"解锁\"))\r\n            : 1 === e\r\n            ? (i.playAnimation(\"off_\" + t, 0), (o.children[0].active = !0), (s.string = \"使用\"))\r\n            : 2 === e && (i.playAnimation(\"on_\" + t, 0), (o.children[1].active = !0), (s.string = \"取消\"));\r\n    };\r\n    __decorate([h(dragonBones.ArmatureDisplay)], e.prototype, \"anim1\", void 0);\r\n    __decorate([h(dragonBones.ArmatureDisplay)], e.prototype, \"anim2\", void 0);\r\n    __decorate([h(cc.Node)], e.prototype, \"btnSpeed1\", void 0);\r\n    __decorate([h(cc.Node)], e.prototype, \"btnSpeed2\", void 0);\r\n    return __decorate([f], e);\r\n})($popupView.PopupView);\r\nexports.default = m;\r\n"]}