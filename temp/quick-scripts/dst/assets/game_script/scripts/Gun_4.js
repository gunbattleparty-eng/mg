
                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/game_script/scripts/Gun_4.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'b42370Di2RHTK6rOEOJsk1n', 'Gun_4');
// game_script/scripts/Gun_4.js

"use strict";

var o;

var $assetsLoader = require("./AssetsLoader");

var $assetsMap = require("./AssetsMap");

var $resUtil = require("./ResUtil");

var $eventManager = require("./EventManager");

var $remoteAudio = require("./RemoteAudio");

var $seedUtil = require("./SeedUtil");

var $util = require("./Util");

var $configContext = require("./ConfigContext");

var $globalParam = require("./GlobalParam");

var $localEventName = require("./LocalEventName");

var $roleContext = require("./RoleContext");

var $baseBullet = require("./BaseBullet");

var $gameContext = require("./GameContext");

var $gameGemInfo = require("./GameGemInfo");

var $gameSkillInfo = require("./GameSkillInfo");

var $baseGun = require("./BaseGun");

var b = cc.Vec3.ZERO;

var w = function (t) {
  function e(e) {
    var i = t.call(this, e) || this;
    i.skin4AtkLeftCd = 0;
    i.skin4AtkCurrCount = 0;
    i.skillId = 61;
    i.skillParam = $gameContext["default"].ins.skillInfo.getSkillById(i.skillId);
    return i;
  }

  __extends(e, t);

  e.prototype.updateF = function (e) {
    t.prototype.updateF.call(this, e);

    if (!(this.isAttacking || $globalParam["default"].isGamePuase)) {
      this.timeLeft -= e;

      if (4 === $roleContext["default"].ins.currSkinInfo.skin && this.skin4AtkCurrCount >= $gameContext["default"].ins.skillInfo.skinAtkTargetCount) {
        this.skin4AtkLeftCd -= e;

        if (this.skin4AtkLeftCd <= 0) {
          this.sendSkin4Bullet();
        }
      }

      this.timeLeft <= 0 ? (this.isAttacking = !0, this.timeLeft = this.skillParam.skillCD[$gameSkillInfo.Skill4Param.FINAL], $eventManager["default"].send($localEventName["default"].RENDER_SKILL_CD_INFO, this.skillId, 0, -1), this.starGun() || (this.isAttacking = !1, this.timeLeft = 0)) : $eventManager["default"].send($localEventName["default"].RENDER_SKILL_CD_INFO, this.skillId, this.timeLeft / this.skillParam.skillCD[$gameSkillInfo.Skill4Param.FINAL], -1);
    }
  };

  e.prototype.sendSkin4Bullet = function () {
    var t = $gameContext["default"].ins.getRangeRankEnemy(this.pointNode, $gameContext["default"].ins.skillInfo.skinAtkRange);

    if (!t) {
      this.skin4AtkLeftCd = 2;
      return !1;
    }

    $eventManager["default"].send($localEventName["default"].SEND_SKILL_ANIM);
    var e = $gameContext["default"].ins.getButtlePool($baseBullet.BulletType.s_bullet_4);

    if (!e) {
      var i = $assetsLoader["default"].instance.getRes($assetsMap.BundleNames.Game, $assetsMap.AssetsMap.GameBundles.prefabs.assetsList.SBullet_4);
      e = $resUtil.ResUtil.instantiate(i, $gameContext["default"].ins.buttleLayer.parent).getComponent($baseBullet["default"]);
    }

    b.x = t.getPosition().x;
    b.y = -350;
    e.setPosition(b.clone());
    e.initButtle(null, this.skillId);
    e.insert($gameContext["default"].ins.buttleLayer);
    this.skin4AtkCurrCount = 0;
    this.skin4AtkLeftCd = $gameContext["default"].ins.skillInfo.skinAtkCd;
  };

  e.prototype.starGun = function () {
    var t = this;
    var e = $gameContext["default"].ins.getRangeRankEnemy(this.pointNode, this.skillParam.skillAtkRange[$gameSkillInfo.Skill4Param.FINAL]);

    if ($gameGemInfo.GameGemInfo.ins.hasGem($gameGemInfo.GemType.AddSkill) && $seedUtil["default"].probability(100 * $gameGemInfo.GameGemInfo.ins.get1($gameGemInfo.GemType.AddSkill))) {
      for (var i = 0; i < 2; i++) {
        this.schedulesOnce(function () {
          if (!e) {
            return !1;
          }

          t.sendButtle(e);
        }, 0.2 * i);
      }
    } else {
      {
        if (!e) {
          return !1;
        }

        this.sendButtle(e);
      }
    }

    this.isAttacking = !1;
    return !0;
  };

  e.prototype.sendButtle = function (t) {
    var e = this;

    var i = function i(_i) {
      o.schedulesOnce(function () {
        if (_i > 0) {
          t = $gameContext["default"].ins.getRangeRandomEnemyLayer(e.pointNode);
        }

        if (t && $util["default"].isValid(t.node)) {
          e.createButtle(t);
        }
      }, 0.3 * _i);
    };

    var o = this;

    for (var n = 0; n < this.skillParam.thunderComboCount + 1; n++) {
      i(n);
    }

    this.isAttacking = !1;
  };

  e.prototype.createButtle = function (t) {
    var e = $gameContext["default"].ins.getButtlePool($baseBullet.BulletType.thunder_bullet);

    if (!e) {
      var i = $assetsLoader["default"].instance.getRes($assetsMap.BundleNames.Game, $assetsMap.AssetsMap.GameBundles.prefabs.assetsList.Bullet_9);
      (e = $resUtil.ResUtil.instantiate(i, $gameContext["default"].ins.buttleLayer.parent).getComponent($baseBullet["default"])).skillSpecialitys = $configContext["default"].instance.basicSkillConfigMap.get(this.skillId).skill_tpye;
    }

    e.setPosition(t.node.position.clone());
    $remoteAudio["default"].instance.playEffectMusicRestrict("Lightningstrike", 0.3);
    e.targetEnemy = t;
    e.targetPos = t.getPosition().clone();
    e.isExtra = !1;
    e.initButtle(null, this.skillId);
    e.insert($gameContext["default"].ins.buttleLayer);
    e.setAnimation("");
    this.skin4AtkCurrCount++;
  };

  return e;
}($baseGun["default"]);

exports["default"] = w;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcZ2FtZV9zY3JpcHRcXHNjcmlwdHNcXEd1bl80LmpzIl0sIm5hbWVzIjpbIm8iLCIkYXNzZXRzTG9hZGVyIiwicmVxdWlyZSIsIiRhc3NldHNNYXAiLCIkcmVzVXRpbCIsIiRldmVudE1hbmFnZXIiLCIkcmVtb3RlQXVkaW8iLCIkc2VlZFV0aWwiLCIkdXRpbCIsIiRjb25maWdDb250ZXh0IiwiJGdsb2JhbFBhcmFtIiwiJGxvY2FsRXZlbnROYW1lIiwiJHJvbGVDb250ZXh0IiwiJGJhc2VCdWxsZXQiLCIkZ2FtZUNvbnRleHQiLCIkZ2FtZUdlbUluZm8iLCIkZ2FtZVNraWxsSW5mbyIsIiRiYXNlR3VuIiwiYiIsImNjIiwiVmVjMyIsIlpFUk8iLCJ3IiwidCIsImUiLCJpIiwiY2FsbCIsInNraW40QXRrTGVmdENkIiwic2tpbjRBdGtDdXJyQ291bnQiLCJza2lsbElkIiwic2tpbGxQYXJhbSIsImlucyIsInNraWxsSW5mbyIsImdldFNraWxsQnlJZCIsIl9fZXh0ZW5kcyIsInByb3RvdHlwZSIsInVwZGF0ZUYiLCJpc0F0dGFja2luZyIsImlzR2FtZVB1YXNlIiwidGltZUxlZnQiLCJjdXJyU2tpbkluZm8iLCJza2luIiwic2tpbkF0a1RhcmdldENvdW50Iiwic2VuZFNraW40QnVsbGV0Iiwic2tpbGxDRCIsIlNraWxsNFBhcmFtIiwiRklOQUwiLCJzZW5kIiwiUkVOREVSX1NLSUxMX0NEX0lORk8iLCJzdGFyR3VuIiwiZ2V0UmFuZ2VSYW5rRW5lbXkiLCJwb2ludE5vZGUiLCJza2luQXRrUmFuZ2UiLCJTRU5EX1NLSUxMX0FOSU0iLCJnZXRCdXR0bGVQb29sIiwiQnVsbGV0VHlwZSIsInNfYnVsbGV0XzQiLCJpbnN0YW5jZSIsImdldFJlcyIsIkJ1bmRsZU5hbWVzIiwiR2FtZSIsIkFzc2V0c01hcCIsIkdhbWVCdW5kbGVzIiwicHJlZmFicyIsImFzc2V0c0xpc3QiLCJTQnVsbGV0XzQiLCJSZXNVdGlsIiwiaW5zdGFudGlhdGUiLCJidXR0bGVMYXllciIsInBhcmVudCIsImdldENvbXBvbmVudCIsIngiLCJnZXRQb3NpdGlvbiIsInkiLCJzZXRQb3NpdGlvbiIsImNsb25lIiwiaW5pdEJ1dHRsZSIsImluc2VydCIsInNraW5BdGtDZCIsInNraWxsQXRrUmFuZ2UiLCJHYW1lR2VtSW5mbyIsImhhc0dlbSIsIkdlbVR5cGUiLCJBZGRTa2lsbCIsInByb2JhYmlsaXR5IiwiZ2V0MSIsInNjaGVkdWxlc09uY2UiLCJzZW5kQnV0dGxlIiwiZ2V0UmFuZ2VSYW5kb21FbmVteUxheWVyIiwiaXNWYWxpZCIsIm5vZGUiLCJjcmVhdGVCdXR0bGUiLCJuIiwidGh1bmRlckNvbWJvQ291bnQiLCJ0aHVuZGVyX2J1bGxldCIsIkJ1bGxldF85Iiwic2tpbGxTcGVjaWFsaXR5cyIsImJhc2ljU2tpbGxDb25maWdNYXAiLCJnZXQiLCJza2lsbF90cHllIiwicG9zaXRpb24iLCJwbGF5RWZmZWN0TXVzaWNSZXN0cmljdCIsInRhcmdldEVuZW15IiwidGFyZ2V0UG9zIiwiaXNFeHRyYSIsInNldEFuaW1hdGlvbiIsImV4cG9ydHMiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUEsSUFBSUEsQ0FBSjs7QUFDQSxJQUFJQyxhQUFhLEdBQUdDLE9BQU8sQ0FBQyxnQkFBRCxDQUEzQjs7QUFDQSxJQUFJQyxVQUFVLEdBQUdELE9BQU8sQ0FBQyxhQUFELENBQXhCOztBQUNBLElBQUlFLFFBQVEsR0FBR0YsT0FBTyxDQUFDLFdBQUQsQ0FBdEI7O0FBQ0EsSUFBSUcsYUFBYSxHQUFHSCxPQUFPLENBQUMsZ0JBQUQsQ0FBM0I7O0FBQ0EsSUFBSUksWUFBWSxHQUFHSixPQUFPLENBQUMsZUFBRCxDQUExQjs7QUFDQSxJQUFJSyxTQUFTLEdBQUdMLE9BQU8sQ0FBQyxZQUFELENBQXZCOztBQUNBLElBQUlNLEtBQUssR0FBR04sT0FBTyxDQUFDLFFBQUQsQ0FBbkI7O0FBQ0EsSUFBSU8sY0FBYyxHQUFHUCxPQUFPLENBQUMsaUJBQUQsQ0FBNUI7O0FBQ0EsSUFB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L0UsQ0FBaEI7SUFDQUMsQ0FBQyxDQUFDK0UsU0FBRixHQUFjaEYsQ0FBQyxDQUFDaUQsV0FBRixHQUFnQkcsS0FBaEIsRUFBZDtJQUNBbkQsQ0FBQyxDQUFDZ0YsT0FBRixHQUFZLENBQUMsQ0FBYjtJQUNBaEYsQ0FBQyxDQUFDb0QsVUFBRixDQUFhLElBQWIsRUFBbUIsS0FBSy9DLE9BQXhCO0lBQ0FMLENBQUMsQ0FBQ3FELE1BQUYsQ0FBUy9ELFlBQVksV0FBWixDQUFxQmlCLEdBQXJCLENBQXlCcUMsV0FBbEM7SUFDQTVDLENBQUMsQ0FBQ2lGLFlBQUYsQ0FBZSxFQUFmO0lBQ0EsS0FBSzdFLGlCQUFMO0VBQ0gsQ0FwQkQ7O0VBcUJBLE9BQU9KLENBQVA7QUFDSCxDQXJJTyxDQXFJTFAsUUFBUSxXQXJJSCxDQUFSOztBQXNJQXlGLE9BQU8sV0FBUCxHQUFrQnBGLENBQWxCIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgbztcclxudmFyICRhc3NldHNMb2FkZXIgPSByZXF1aXJlKFwiLi9Bc3NldHNMb2FkZXJcIik7XHJcbnZhciAkYXNzZXRzTWFwID0gcmVxdWlyZShcIi4vQXNzZXRzTWFwXCIpO1xyXG52YXIgJHJlc1V0aWwgPSByZXF1aXJlKFwiLi9SZXNVdGlsXCIpO1xyXG52YXIgJGV2ZW50TWFuYWdlciA9IHJlcXVpcmUoXCIuL0V2ZW50TWFuYWdlclwiKTtcclxudmFyICRyZW1vdGVBdWRpbyA9IHJlcXVpcmUoXCIuL1JlbW90ZUF1ZGlvXCIpO1xyXG52YXIgJHNlZWRVdGlsID0gcmVxdWlyZShcIi4vU2VlZFV0aWxcIik7XHJcbnZhciAkdXRpbCA9IHJlcXVpcmUoXCIuL1V0aWxcIik7XHJcbnZhciAkY29uZmlnQ29udGV4dCA9IHJlcXVpcmUoXCIuL0NvbmZpZ0NvbnRleHRcIik7XHJcbnZhciAkZ2xvYmFsUGFyYW0gPSByZXF1aXJlKFwiLi9HbG9iYWxQYXJhbVwiKTtcclxudmFyICRsb2NhbEV2ZW50TmFtZSA9IHJlcXVpcmUoXCIuL0xvY2FsRXZlbnROYW1lXCIpO1xyXG52YXIgJHJvbGVDb250ZXh0ID0gcmVxdWlyZShcIi4vUm9sZUNvbnRleHRcIik7XHJcbnZhciAkYmFzZUJ1bGxldCA9IHJlcXVpcmUoXCIuL0Jhc2VCdWxsZXRcIik7XHJcbnZhciAkZ2FtZUNvbnRleHQgPSByZXF1aXJlKFwiLi9HYW1lQ29udGV4dFwiKTtcclxudmFyICRnYW1lR2VtSW5mbyA9IHJlcXVpcmUoXCIuL0dhbWVHZW1JbmZvXCIpO1xyXG52YXIgJGdhbWVTa2lsbEluZm8gPSByZXF1aXJlKFwiLi9HYW1lU2tpbGxJbmZvXCIpO1xyXG52YXIgJGJhc2VHdW4gPSByZXF1aXJlKFwiLi9CYXNlR3VuXCIpO1xyXG52YXIgYiA9IGNjLlZlYzMuWkVSTztcclxudmFyIHcgPSAoZnVuY3Rpb24gKHQpIHtcclxuICAgIGZ1bmN0aW9uIGUoZSkge1xyXG4gICAgICAgIHZhciBpID0gdC5jYWxsKHRoaXMsIGUpIHx8IHRoaXM7XHJcbiAgICAgICAgaS5za2luNEF0a0xlZnRDZCA9IDA7XHJcbiAgICAgICAgaS5za2luNEF0a0N1cnJDb3VudCA9IDA7XHJcbiAgICAgICAgaS5za2lsbElkID0gNjE7XHJcbiAgICAgICAgaS5za2lsbFBhcmFtID0gJGdhbWVDb250ZXh0LmRlZmF1bHQuaW5zLnNraWxsSW5mby5nZXRTa2lsbEJ5SWQoaS5za2lsbElkKTtcclxuICAgICAgICByZXR1cm4gaTtcclxuICAgIH1cclxuICAgIF9fZXh0ZW5kcyhlLCB0KTtcclxuICAgIGUucHJvdG90eXBlLnVwZGF0ZUYgPSBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgIHQucHJvdG90eXBlLnVwZGF0ZUYuY2FsbCh0aGlzLCBlKTtcclxuICAgICAgICBpZiAoISh0aGlzLmlzQXR0YWNraW5nIHx8ICRnbG9iYWxQYXJhbS5kZWZhdWx0LmlzR2FtZVB1YXNlKSkge1xyXG4gICAgICAgICAgICB0aGlzLnRpbWVMZWZ0IC09IGU7XHJcbiAgICAgICAgICAgIGlmIChcclxuICAgICAgICAgICAgICAgIDQgPT09ICRyb2xlQ29udGV4dC5kZWZhdWx0Lmlucy5jdXJyU2tpbkluZm8uc2tpbiAmJlxyXG4gICAgICAgICAgICAgICAgdGhpcy5za2luNEF0a0N1cnJDb3VudCA+PSAkZ2FtZUNvbnRleHQuZGVmYXVsdC5pbnMuc2tpbGxJbmZvLnNraW5BdGtUYXJnZXRDb3VudFxyXG4gICAgICAgICAgICApIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2tpbjRBdGtMZWZ0Q2QgLT0gZTtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnNraW40QXRrTGVmdENkIDw9IDApIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNlbmRTa2luNEJ1bGxldCgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMudGltZUxlZnQgPD0gMFxyXG4gICAgICAgICAgICAgICAgPyAoKHRoaXMuaXNBdHRhY2tpbmcgPSAhMCksXHJcbiAgICAgICAgICAgICAgICAgICh0aGlzLnRpbWVMZWZ0ID0gdGhpcy5za2lsbFBhcmFtLnNraWxsQ0RbJGdhbWVTa2lsbEluZm8uU2tpbGw0UGFyYW0uRklOQUxdKSxcclxuICAgICAgICAgICAgICAgICAgJGV2ZW50TWFuYWdlci5kZWZhdWx0LnNlbmQoJGxvY2FsRXZlbnROYW1lLmRlZmF1bHQuUkVOREVSX1NLSUxMX0NEX0lORk8sIHRoaXMuc2tpbGxJZCwgMCwgLTEpLFxyXG4gICAgICAgICAgICAgICAgICB0aGlzLnN0YXJHdW4oKSB8fCAoKHRoaXMuaXNBdHRhY2tpbmcgPSAhMSksICh0aGlzLnRpbWVMZWZ0ID0gMCkpKVxyXG4gICAgICAgICAgICAgICAgOiAkZXZlbnRNYW5hZ2VyLmRlZmF1bHQuc2VuZChcclxuICAgICAgICAgICAgICAgICAgICAgICRsb2NhbEV2ZW50TmFtZS5kZWZhdWx0LlJFTkRFUl9TS0lMTF9DRF9JTkZPLFxyXG4gICAgICAgICAgICAgICAgICAgICAgdGhpcy5za2lsbElkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgdGhpcy50aW1lTGVmdCAvIHRoaXMuc2tpbGxQYXJhbS5za2lsbENEWyRnYW1lU2tpbGxJbmZvLlNraWxsNFBhcmFtLkZJTkFMXSxcclxuICAgICAgICAgICAgICAgICAgICAgIC0xXHJcbiAgICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIGUucHJvdG90eXBlLnNlbmRTa2luNEJ1bGxldCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgdCA9ICRnYW1lQ29udGV4dC5kZWZhdWx0Lmlucy5nZXRSYW5nZVJhbmtFbmVteShcclxuICAgICAgICAgICAgdGhpcy5wb2ludE5vZGUsXHJcbiAgICAgICAgICAgICRnYW1lQ29udGV4dC5kZWZhdWx0Lmlucy5za2lsbEluZm8uc2tpbkF0a1JhbmdlXHJcbiAgICAgICAgKTtcclxuICAgICAgICBpZiAoIXQpIHtcclxuICAgICAgICAgICAgdGhpcy5za2luNEF0a0xlZnRDZCA9IDI7XHJcbiAgICAgICAgICAgIHJldHVybiAhMTtcclxuICAgICAgICB9XHJcbiAgICAgICAgJGV2ZW50TWFuYWdlci5kZWZhdWx0LnNlbmQoJGxvY2FsRXZlbnROYW1lLmRlZmF1bHQuU0VORF9TS0lMTF9BTklNKTtcclxuICAgICAgICB2YXIgZSA9ICRnYW1lQ29udGV4dC5kZWZhdWx0Lmlucy5nZXRCdXR0bGVQb29sKCRiYXNlQnVsbGV0LkJ1bGxldFR5cGUuc19idWxsZXRfNCk7XHJcbiAgICAgICAgaWYgKCFlKSB7XHJcbiAgICAgICAgICAgIHZhciBpID0gJGFzc2V0c0xvYWRlci5kZWZhdWx0Lmluc3RhbmNlLmdldFJlcyhcclxuICAgICAgICAgICAgICAgICRhc3NldHNNYXAuQnVuZGxlTmFtZXMuR2FtZSxcclxuICAgICAgICAgICAgICAgICRhc3NldHNNYXAuQXNzZXRzTWFwLkdhbWVCdW5kbGVzLnByZWZhYnMuYXNzZXRzTGlzdC5TQnVsbGV0XzRcclxuICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgZSA9ICRyZXNVdGlsLlJlc1V0aWwuaW5zdGFudGlhdGUoaSwgJGdhbWVDb250ZXh0LmRlZmF1bHQuaW5zLmJ1dHRsZUxheWVyLnBhcmVudCkuZ2V0Q29tcG9uZW50KFxyXG4gICAgICAgICAgICAgICAgJGJhc2VCdWxsZXQuZGVmYXVsdFxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgIH1cclxuICAgICAgICBiLnggPSB0LmdldFBvc2l0aW9uKCkueDtcclxuICAgICAgICBiLnkgPSAtMzUwO1xyXG4gICAgICAgIGUuc2V0UG9zaXRpb24oYi5jbG9uZSgpKTtcclxuICAgICAgICBlLmluaXRCdXR0bGUobnVsbCwgdGhpcy5za2lsbElkKTtcclxuICAgICAgICBlLmluc2VydCgkZ2FtZUNvbnRleHQuZGVmYXVsdC5pbnMuYnV0dGxlTGF5ZXIpO1xyXG4gICAgICAgIHRoaXMuc2tpbjRBdGtDdXJyQ291bnQgPSAwO1xyXG4gICAgICAgIHRoaXMuc2tpbjRBdGtMZWZ0Q2QgPSAkZ2FtZUNvbnRleHQuZGVmYXVsdC5pbnMuc2tpbGxJbmZvLnNraW5BdGtDZDtcclxuICAgIH07XHJcbiAgICBlLnByb3RvdHlwZS5zdGFyR3VuID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciB0ID0gdGhpcztcclxuICAgICAgICB2YXIgZSA9ICRnYW1lQ29udGV4dC5kZWZhdWx0Lmlucy5nZXRSYW5nZVJhbmtFbmVteShcclxuICAgICAgICAgICAgdGhpcy5wb2ludE5vZGUsXHJcbiAgICAgICAgICAgIHRoaXMuc2tpbGxQYXJhbS5za2lsbEF0a1JhbmdlWyRnYW1lU2tpbGxJbmZvLlNraWxsNFBhcmFtLkZJTkFMXVxyXG4gICAgICAgICk7XHJcbiAgICAgICAgaWYgKFxyXG4gICAgICAgICAgICAkZ2FtZUdlbUluZm8uR2FtZUdlbUluZm8uaW5zLmhhc0dlbSgkZ2FtZUdlbUluZm8uR2VtVHlwZS5BZGRTa2lsbCkgJiZcclxuICAgICAgICAgICAgJHNlZWRVdGlsLmRlZmF1bHQucHJvYmFiaWxpdHkoMTAwICogJGdhbWVHZW1JbmZvLkdhbWVHZW1JbmZvLmlucy5nZXQxKCRnYW1lR2VtSW5mby5HZW1UeXBlLkFkZFNraWxsKSlcclxuICAgICAgICApIHtcclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCAyOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2NoZWR1bGVzT25jZShmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAhMTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgdC5zZW5kQnV0dGxlKGUpO1xyXG4gICAgICAgICAgICAgICAgfSwgMC4yICogaSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIWUpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gITE7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNlbmRCdXR0bGUoZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5pc0F0dGFja2luZyA9ICExO1xyXG4gICAgICAgIHJldHVybiAhMDtcclxuICAgIH07XHJcbiAgICBlLnByb3RvdHlwZS5zZW5kQnV0dGxlID0gZnVuY3Rpb24gKHQpIHtcclxuICAgICAgICB2YXIgZSA9IHRoaXM7XHJcbiAgICAgICAgdmFyIGkgPSBmdW5jdGlvbiAoaSkge1xyXG4gICAgICAgICAgICBvLnNjaGVkdWxlc09uY2UoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGkgPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdCA9ICRnYW1lQ29udGV4dC5kZWZhdWx0Lmlucy5nZXRSYW5nZVJhbmRvbUVuZW15TGF5ZXIoZS5wb2ludE5vZGUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKHQgJiYgJHV0aWwuZGVmYXVsdC5pc1ZhbGlkKHQubm9kZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICBlLmNyZWF0ZUJ1dHRsZSh0KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSwgMC4zICogaSk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICB2YXIgbyA9IHRoaXM7XHJcbiAgICAgICAgZm9yICh2YXIgbiA9IDA7IG4gPCB0aGlzLnNraWxsUGFyYW0udGh1bmRlckNvbWJvQ291bnQgKyAxOyBuKyspIHtcclxuICAgICAgICAgICAgaShuKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5pc0F0dGFja2luZyA9ICExO1xyXG4gICAgfTtcclxuICAgIGUucHJvdG90eXBlLmNyZWF0ZUJ1dHRsZSA9IGZ1bmN0aW9uICh0KSB7XHJcbiAgICAgICAgdmFyIGUgPSAkZ2FtZUNvbnRleHQuZGVmYXVsdC5pbnMuZ2V0QnV0dGxlUG9vbCgkYmFzZUJ1bGxldC5CdWxsZXRUeXBlLnRodW5kZXJfYnVsbGV0KTtcclxuICAgICAgICBpZiAoIWUpIHtcclxuICAgICAgICAgICAgdmFyIGkgPSAkYXNzZXRzTG9hZGVyLmRlZmF1bHQuaW5zdGFuY2UuZ2V0UmVzKFxyXG4gICAgICAgICAgICAgICAgJGFzc2V0c01hcC5CdW5kbGVOYW1lcy5HYW1lLFxyXG4gICAgICAgICAgICAgICAgJGFzc2V0c01hcC5Bc3NldHNNYXAuR2FtZUJ1bmRsZXMucHJlZmFicy5hc3NldHNMaXN0LkJ1bGxldF85XHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgIChlID0gJHJlc1V0aWwuUmVzVXRpbC5pbnN0YW50aWF0ZShpLCAkZ2FtZUNvbnRleHQuZGVmYXVsdC5pbnMuYnV0dGxlTGF5ZXIucGFyZW50KS5nZXRDb21wb25lbnQoXHJcbiAgICAgICAgICAgICAgICAkYmFzZUJ1bGxldC5kZWZhdWx0XHJcbiAgICAgICAgICAgICkpLnNraWxsU3BlY2lhbGl0eXMgPSAkY29uZmlnQ29udGV4dC5kZWZhdWx0Lmluc3RhbmNlLmJhc2ljU2tpbGxDb25maWdNYXAuZ2V0KHRoaXMuc2tpbGxJZCkuc2tpbGxfdHB5ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZS5zZXRQb3NpdGlvbih0Lm5vZGUucG9zaXRpb24uY2xvbmUoKSk7XHJcbiAgICAgICAgJHJlbW90ZUF1ZGlvLmRlZmF1bHQuaW5zdGFuY2UucGxheUVmZmVjdE11c2ljUmVzdHJpY3QoXCJMaWdodG5pbmdzdHJpa2VcIiwgMC4zKTtcclxuICAgICAgICBlLnRhcmdldEVuZW15ID0gdDtcclxuICAgICAgICBlLnRhcmdldFBvcyA9IHQuZ2V0UG9zaXRpb24oKS5jbG9uZSgpO1xyXG4gICAgICAgIGUuaXNFeHRyYSA9ICExO1xyXG4gICAgICAgIGUuaW5pdEJ1dHRsZShudWxsLCB0aGlzLnNraWxsSWQpO1xyXG4gICAgICAgIGUuaW5zZXJ0KCRnYW1lQ29udGV4dC5kZWZhdWx0Lmlucy5idXR0bGVMYXllcik7XHJcbiAgICAgICAgZS5zZXRBbmltYXRpb24oXCJcIik7XHJcbiAgICAgICAgdGhpcy5za2luNEF0a0N1cnJDb3VudCsrO1xyXG4gICAgfTtcclxuICAgIHJldHVybiBlO1xyXG59KSgkYmFzZUd1bi5kZWZhdWx0KTtcclxuZXhwb3J0cy5kZWZhdWx0ID0gdztcclxuIl19