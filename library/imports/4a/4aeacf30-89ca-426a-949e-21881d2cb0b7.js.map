{"version":3,"sources":["assets\\game_script\\scripts\\Gun_6.js"],"names":["o","$assetsLoader","require","$assetsMap","$resUtil","$eventManager","$seedUtil","$util","$configContext","$globalParam","$localEventName","$roleContext","$baseBullet","$gameContext","$gameGemInfo","$gameSkillInfo","$baseGun","v","cc","Vec3","b","t","e","i","call","skinAtkLeftCd","skinAtkCurrCount","skillId","skillParam","ins","skillInfo","getSkillById","__extends","prototype","updateF","isAttacking","isGamePuase","currSkinInfo","skin","skinAtkTargetCount","sendSkinBullet","timeLeft","skillCD","Skill4Param","FINAL","send","RENDER_SKILL_CD_INFO","starGun","getRangeRankEnemy","pointNode","skillAtkRange","sendButtle","pulseLaserCount","GameGemInfo","hasGem","GemType","AddSkill","probability","get1","getRangeRandomEnemyLayerByPos","position","node","sub","normalize","createButtle","pulseLaserSweepCount","getButtlePool","BulletType","pulse_laser","instance","getRes","BundleNames","Game","AssetsMap","GameBundles","prefabs","assetsList","Bullet_14","ResUtil","instantiate","buttleLayer","parent","getComponent","skillSpecialitys","basicSkillConfigMap","get","skill_tpye","setPosition","clone","isSweep","initButtle","insert","setAnimation","setAngle","dirConverAngle","getRandomEnemys","skinAtkRange","length","SEND_SKILL_ANIM","s_bullet_6","SBullet_6","lowBulletLayer","x","y","zIndex","sendSkinBullet2","skinAtkCd","patching","createSkillBullet","skinParam","schedulesOnce","s_bullet_6_1","SBullet_6_1","n","targetEnemy","exports"],"mappings":"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","sourceRoot":"/","sourcesContent":["var o;\r\nvar $assetsLoader = require(\"./AssetsLoader\");\r\nvar $assetsMap = require(\"./AssetsMap\");\r\nvar $resUtil = require(\"./ResUtil\");\r\nvar $eventManager = require(\"./EventManager\");\r\nvar $seedUtil = require(\"./SeedUtil\");\r\nvar $util = require(\"./Util\");\r\nvar $configContext = require(\"./ConfigContext\");\r\nvar $globalParam = require(\"./GlobalParam\");\r\nvar $localEventName = require(\"./LocalEventName\");\r\nvar $roleContext = require(\"./RoleContext\");\r\nvar $baseBullet = require(\"./BaseBullet\");\r\nvar $gameContext = require(\"./GameContext\");\r\nvar $gameGemInfo = require(\"./GameGemInfo\");\r\nvar $gameSkillInfo = require(\"./GameSkillInfo\");\r\nvar $baseGun = require(\"./BaseGun\");\r\nvar v = new cc.Vec3();\r\nvar b = (function (t) {\r\n    function e(e) {\r\n        var i = t.call(this, e) || this;\r\n        i.skinAtkLeftCd = 0;\r\n        i.skinAtkCurrCount = 0;\r\n        i.skillId = 100;\r\n        i.skillParam = $gameContext.default.ins.skillInfo.getSkillById(i.skillId);\r\n        return i;\r\n    }\r\n    __extends(e, t);\r\n    e.prototype.updateF = function (e) {\r\n        t.prototype.updateF.call(this, e);\r\n        if (!(this.isAttacking || $globalParam.default.isGamePuase)) {\r\n            if (\r\n                6 === $roleContext.default.ins.currSkinInfo.skin &&\r\n                this.skinAtkCurrCount >= $gameContext.default.ins.skillInfo.skinAtkTargetCount\r\n            ) {\r\n                this.skinAtkLeftCd -= e;\r\n                if (this.skinAtkLeftCd <= 0) {\r\n                    this.sendSkinBullet();\r\n                }\r\n            }\r\n            this.timeLeft -= e;\r\n            this.timeLeft <= 0\r\n                ? ((this.isAttacking = !0),\r\n                  (this.timeLeft = this.skillParam.skillCD[$gameSkillInfo.Skill4Param.FINAL]),\r\n                  $eventManager.default.send($localEventName.default.RENDER_SKILL_CD_INFO, this.skillId, 0, -1),\r\n                  this.starGun() || ((this.isAttacking = !1), (this.timeLeft = 0)))\r\n                : $eventManager.default.send(\r\n                      $localEventName.default.RENDER_SKILL_CD_INFO,\r\n                      this.skillId,\r\n                      this.timeLeft / this.skillParam.skillCD[$gameSkillInfo.Skill4Param.FINAL],\r\n                      -1\r\n                  );\r\n        }\r\n    };\r\n    e.prototype.starGun = function () {\r\n        var t = $gameContext.default.ins.getRangeRankEnemy(\r\n            this.pointNode,\r\n            this.skillParam.skillAtkRange[$gameSkillInfo.Skill4Param.FINAL]\r\n        );\r\n        return !!t && (this.sendButtle(t), (this.isAttacking = !1), !0);\r\n    };\r\n    e.prototype.sendButtle = function (t) {\r\n        var e = this.skillParam.pulseLaserCount;\r\n        if (\r\n            $gameGemInfo.GameGemInfo.ins.hasGem($gameGemInfo.GemType.AddSkill) &&\r\n            $seedUtil.default.probability(\r\n                $gameGemInfo.GameGemInfo.ins.get1($gameGemInfo.GemType.AddSkill) * this.skillId\r\n            )\r\n        ) {\r\n            e *= 2;\r\n        }\r\n        for (var i = 0; i < e; i++) {\r\n            if (i >= 1 && !(t = $gameContext.default.ins.getRangeRandomEnemyLayerByPos(this.pointNode.position))) {\r\n                return;\r\n            }\r\n            var o = t.node.position.sub(this.pointNode.position).normalize();\r\n            this.createButtle(o);\r\n        }\r\n        if (this.skillParam.pulseLaserSweepCount > 0) {\r\n            this.createButtle(null, !0);\r\n        }\r\n    };\r\n    e.prototype.createButtle = function (t, e) {\r\n        if (void 0 === e) {\r\n            e = !1;\r\n        }\r\n        var i = $gameContext.default.ins.getButtlePool($baseBullet.BulletType.pulse_laser);\r\n        if (!i) {\r\n            var o = $assetsLoader.default.instance.getRes(\r\n                $assetsMap.BundleNames.Game,\r\n                $assetsMap.AssetsMap.GameBundles.prefabs.assetsList.Bullet_14\r\n            );\r\n            (i = $resUtil.ResUtil.instantiate(o, $gameContext.default.ins.buttleLayer.parent).getComponent(\r\n                $baseBullet.default\r\n            )).skillSpecialitys = $configContext.default.instance.basicSkillConfigMap.get(this.skillId).skill_tpye;\r\n        }\r\n        i.setPosition(this.pointNode.position.clone());\r\n        i.isSweep = e;\r\n        i.initButtle(null, this.skillId);\r\n        i.insert($gameContext.default.ins.buttleLayer);\r\n        i.setAnimation(\"\");\r\n        if (!e) {\r\n            i.setAngle($util.default.dirConverAngle(t));\r\n            this.skinAtkCurrCount++;\r\n        }\r\n    };\r\n    e.prototype.sendSkinBullet = function () {\r\n        var t = $gameContext.default.ins.getRandomEnemys(\r\n            this.pointNode,\r\n            4,\r\n            $gameContext.default.ins.skillInfo.skinAtkRange\r\n        );\r\n        if (t.length <= 0) {\r\n            this.skinAtkLeftCd = 2;\r\n            return !1;\r\n        }\r\n        $eventManager.default.send($localEventName.default.SEND_SKILL_ANIM);\r\n        var e = $gameContext.default.ins.getButtlePool($baseBullet.BulletType.s_bullet_6);\r\n        if (!e) {\r\n            var i = $assetsLoader.default.instance.getRes(\r\n                $assetsMap.BundleNames.Game,\r\n                $assetsMap.AssetsMap.GameBundles.prefabs.assetsList.SBullet_6\r\n            );\r\n            e = $resUtil.ResUtil.instantiate(i, $gameContext.default.ins.lowBulletLayer.parent).getComponent(\r\n                $baseBullet.default\r\n            );\r\n        }\r\n        v.x = 0;\r\n        v.y = -280;\r\n        e.setPosition(v.clone());\r\n        e.initButtle(null, this.skillId);\r\n        e.node.zIndex = 100;\r\n        e.insert($gameContext.default.ins.lowBulletLayer);\r\n        this.sendSkinBullet2(t);\r\n        this.skinAtkCurrCount = 0;\r\n        this.skinAtkLeftCd = $gameContext.default.ins.skillInfo.skinAtkCd;\r\n    };\r\n    e.prototype.sendSkinBullet2 = function (t) {\r\n        var e = this;\r\n        this.patching(t, 4);\r\n        this.createSkillBullet(t);\r\n        for (var i = 1; i <= $gameContext.default.ins.skillInfo.skinParam[4] - 1; i++) {\r\n            this.schedulesOnce(function () {\r\n                var t = $gameContext.default.ins.getRandomEnemys(\r\n                    e.pointNode,\r\n                    4,\r\n                    $gameContext.default.ins.skillInfo.skinAtkRange\r\n                );\r\n                if (t.length > 0) {\r\n                    e.patching(t, 4);\r\n                    e.createSkillBullet(t);\r\n                }\r\n            }, i * $gameContext.default.ins.skillInfo.skinParam[3]);\r\n        }\r\n    };\r\n    e.prototype.createSkillBullet = function (t) {\r\n        for (var e = 0; e < t.length; e++) {\r\n            var i = $gameContext.default.ins.getButtlePool($baseBullet.BulletType.s_bullet_6_1);\r\n            if (!i) {\r\n                var o = $assetsLoader.default.instance.getRes(\r\n                    $assetsMap.BundleNames.Game,\r\n                    $assetsMap.AssetsMap.GameBundles.prefabs.assetsList.SBullet_6_1\r\n                );\r\n                i = $resUtil.ResUtil.instantiate(o, $gameContext.default.ins.lowBulletLayer.parent).getComponent(\r\n                    $baseBullet.default\r\n                );\r\n            }\r\n            var n = t[e].node.position.sub(this.pointNode.position).normalize();\r\n            v.x = 154 * e - 231;\r\n            v.y = -280;\r\n            i.targetEnemy = t[e];\r\n            i.setPosition(v);\r\n            i.initButtle(n, this.skillId);\r\n            i.node.zIndex = 99;\r\n            i.insert($gameContext.default.ins.lowBulletLayer);\r\n        }\r\n    };\r\n    e.prototype.patching = function (t, e) {\r\n        var i = t.length;\r\n        for (var o = i; o < e; o++) {\r\n            t[o] = t[o % i];\r\n        }\r\n    };\r\n    return e;\r\n})($baseGun.default);\r\nexports.default = b;\r\n"]}