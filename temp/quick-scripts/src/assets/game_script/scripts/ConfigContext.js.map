{"version":3,"sources":["assets\\game_script\\scripts\\ConfigContext.js"],"names":["$assetsLoader","require","$assetsMap","$platform","$seedUtil","$switchContext","u","t","configUrl","baseUrl","isStartRemote","isLoadedRemote","enemyConfigs","skillConfigs","basicSkillConfigs","levelInfoConfigs","gemConfigs","skillUpgradeConfigs","gemSkillConfigs","equipmentConfigs","gemBoxConfigs","shopResConfigs","shopDiamondConfigs","taskConfigs","onlineConfigs","playerSkinConfigs","gunSkinConfigs","signConfigs","sweepConfigs","robotConfigs","eggConfigs","chanceConfig","weekCardConfigs","skillConfigsMap","Map","basicSkillConfigMap","enemyConfigsMap","exchangeConfigs","adSwitchConfig","seedLevel","prototype","load","__awaiter","e","__generator","Promise","i","instance","loadConfigResJson","clear","o","length","n","set","id","sort","score","skillmaster_id","console","error","loadRemote","getAdSwitch","getAdSwitch2","Platform","currPlatForm","PlatformEnum","TOU_TIAO","WECHAT","getEnemyConfig","find","BundleNames","Configs","loadRes","cc","JsonAsset","s","push","json","assetManager","releaseAsset","log","getConfigByLevel","init","randomFromSync","r","addHP","a","get","Monsterspool","add_hp","add_atk","addatk","EX","EX_num","EX_coefficient","rewardtype","reward_num","gemstone_weight","TreasureChesttype","TreasureChest_num","phase_reward_time","phase_reward_num","getSweepConfig","rewardnum","loadNetResArray","url","loadAny","exports"],"mappings":"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","sourceRoot":"/","sourcesContent":["var $assetsLoader = require(\"./AssetsLoader\");\r\nvar $assetsMap = require(\"./AssetsMap\");\r\nvar $platform = require(\"./Platform\");\r\nvar $seedUtil = require(\"./SeedUtil\");\r\nvar $switchContext = require(\"./SwitchContext\");\r\nvar u = (function() {\r\n    function t() {\r\n        this.configUrl = \"https://cooperation.sjyywy.com/web2/wuff/tower-defence/configs/v2\";\r\n        this.baseUrl = \"https://cooperation.sjyywy.com/web2/glob_config/prod\";\r\n        this.isStartRemote = !0;\r\n        this.isLoadedRemote = !1;\r\n        this.enemyConfigs = [];\r\n        this.skillConfigs = [];\r\n        this.basicSkillConfigs = [];\r\n        this.levelInfoConfigs = [];\r\n        this.gemConfigs = [];\r\n        this.skillUpgradeConfigs = [];\r\n        this.gemSkillConfigs = [];\r\n        this.equipmentConfigs = [];\r\n        this.gemBoxConfigs = [];\r\n        this.shopResConfigs = [];\r\n        this.shopDiamondConfigs = [];\r\n        this.taskConfigs = [];\r\n        this.onlineConfigs = [];\r\n        this.playerSkinConfigs = [];\r\n        this.gunSkinConfigs = [];\r\n        this.signConfigs = [];\r\n        this.sweepConfigs = [];\r\n        this.robotConfigs = [];\r\n        this.eggConfigs = [];\r\n        this.chanceConfig = [];\r\n        this.weekCardConfigs = [];\r\n        this.skillConfigsMap = new Map();\r\n        this.basicSkillConfigMap = new Map();\r\n        this.enemyConfigsMap = new Map();\r\n        this.exchangeConfigs = [];\r\n        this.adSwitchConfig = null;\r\n        this.seedLevel = 0;\r\n    }\r\n    t.prototype.load = function() {\r\n        return __awaiter(this, void 0, void 0, function() {\r\n            var e = this;\r\n            return __generator(this, function() {\r\n                return [\r\n                    2,\r\n                    new Promise(function(i) {\r\n                        t.instance.loadConfigResJson(\r\n                            [\r\n                                \"/OrdinaryMonster_config\",\r\n                                \"/skill_config\",\r\n                                \"/jcskill_config\",\r\n                                \"/level_info_config\",\r\n                                \"/gemstone_config\",\r\n                                \"/skill_upgrade_config\",\r\n                                \"/gemstoneskill_config\",\r\n                                \"/equipment_config\",\r\n                                \"/TreasureChest_config\",\r\n                                \"/ResourceMall_config\",\r\n                                \"/DiamondMall_config\",\r\n                                \"/daytask_config\",\r\n                                \"/onlinereward_config\",\r\n                                \"/manskin_config\",\r\n                                \"/Gunskin_config\",\r\n                                \"/newman_config\",\r\n                                \"/Cradlebed_config\",\r\n                                \"/Petsskin_config\",\r\n                                \"/egg_configs\",\r\n                                \"/Chance_config\",\r\n                                \"/Weeklycard_config\"\r\n                            ],\r\n                            function(t) {\r\n                                e.enemyConfigs = t[0];\r\n                                e.skillConfigs = t[1];\r\n                                e.basicSkillConfigs = t[2];\r\n                                e.levelInfoConfigs = t[3];\r\n                                e.gemConfigs = t[4];\r\n                                e.skillUpgradeConfigs = t[5];\r\n                                e.gemSkillConfigs = t[6];\r\n                                e.equipmentConfigs = t[7];\r\n                                e.gemBoxConfigs = t[8];\r\n                                e.shopResConfigs = t[9];\r\n                                e.shopDiamondConfigs = t[10];\r\n                                e.taskConfigs = t[11];\r\n                                e.onlineConfigs = t[12];\r\n                                e.playerSkinConfigs = t[13];\r\n                                e.gunSkinConfigs = t[14];\r\n                                e.signConfigs = t[15];\r\n                                e.sweepConfigs = t[16];\r\n                                e.robotConfigs = t[17];\r\n                                e.eggConfigs = t[18];\r\n                                e.chanceConfig = t[19];\r\n                                e.weekCardConfigs = t[20];\r\n                                e.enemyConfigsMap.clear();\r\n                                for (var o = 0; o < e.enemyConfigs.length; o++) {\r\n                                    var n = e.enemyConfigs[o];\r\n                                    e.enemyConfigsMap.set(n.id, n);\r\n                                }\r\n                                e.skillConfigsMap.clear();\r\n                                for (o = 0; o < e.skillConfigs.length; o++) {\r\n                                    n = e.skillConfigs[o];\r\n                                    e.skillConfigsMap.set(n.id, n);\r\n                                }\r\n                                e.basicSkillConfigs.sort(function(t, e) {\r\n                                    return t.score - e.score;\r\n                                });\r\n                                for (o = 0; o < e.basicSkillConfigs.length; o++) {\r\n                                    n = e.basicSkillConfigs[o];\r\n                                    e.basicSkillConfigMap.set(n.skillmaster_id, n);\r\n                                }\r\n                                e.shopDiamondConfigs.sort(function(t, e) {\r\n                                    return t.sort - e.sort;\r\n                                });\r\n                                e.shopResConfigs.sort(function(t, e) {\r\n                                    return t.sort - e.sort;\r\n                                });\r\n                                if (i) {\r\n                                    i(null);\r\n                                }\r\n                            }\r\n                        );\r\n                    }).catch(function(t) {\r\n                        console.error(t);\r\n                    })\r\n                ];\r\n            });\r\n        });\r\n    };\r\n    t.prototype.loadRemote = function(e) {\r\n        var i = this;\r\n        i.isLoadedRemote = !0;\r\n        i.adSwitchConfig = {\r\n            \"tt_open_shop_diamond\": true,\r\n            \"wx_open_shop_diamond\": true\r\n        };\r\n\r\n        i.exchangeConfigs = [{\r\n                \"id\": 1,\r\n                \"name\": \"MGQ666\",\r\n                \"tipsimg\": [\r\n                    7\r\n                ],\r\n                \"num\": [\r\n                    2\r\n                ],\r\n                \"channel\": [\r\n                    1,\r\n                    9,\r\n                    6\r\n                ]\r\n            },\r\n            {\r\n                \"id\": 2,\r\n                \"name\": \"MGQ888\",\r\n                \"tipsimg\": [\r\n                    7\r\n                ],\r\n                \"num\": [\r\n                    3\r\n                ],\r\n                \"channel\": [\r\n                    1,\r\n                    9,\r\n                    6\r\n                ]\r\n            },\r\n            {\r\n                \"id\": 3,\r\n                \"name\": \"MGQ999\",\r\n                \"tipsimg\": [\r\n                    7\r\n                ],\r\n                \"num\": [\r\n                    4\r\n                ],\r\n                \"channel\": [\r\n                    1,\r\n                    9,\r\n                    6\r\n                ]\r\n            }\r\n        ];\r\n        if (e) {\r\n            e();\r\n        }\r\n        // if (this.isStartRemote) {\r\n        //     var o = new Date().getTime();\r\n        //     var n = [\r\n        //         this.baseUrl + \"/ad_config\" + $switchContext.SwitchContext.configId + \".json?sign=\" + o,\r\n        //         this.baseUrl + \"/Redemptioncode_configs\" + $switchContext.SwitchContext.configId + \".json?sign=\" + o\r\n        //     ];\r\n        //     t.loadNetResArray(n, null)\r\n        //         .then(function (t) {\r\n        //             i.isLoadedRemote = !0;\r\n        //             i.adSwitchConfig = t[0];\r\n        //             i.exchangeConfigs = t[1];\r\n        //             if (e) {\r\n        //                 e();\r\n        //             }\r\n        //         })\r\n        //         .catch(function () {\r\n        //             if (e) {\r\n        //                 e();\r\n        //             }\r\n        //         });\r\n        // } else {\r\n        //     if (e) {\r\n        //         e();\r\n        //     }\r\n        // }\r\n    };\r\n    t.prototype.getAdSwitch = function(t) {\r\n        return !(!this.adSwitchConfig || !this.adSwitchConfig[t]) && this.adSwitchConfig[t];\r\n    };\r\n    t.prototype.getAdSwitch2 = function(e) {\r\n        var i = \"\";\r\n        $platform.Platform.currPlatForm === $platform.PlatformEnum.TOU_TIAO ?\r\n            (i = \"tt_\" + e) :\r\n            $platform.Platform.currPlatForm === $platform.PlatformEnum.WECHAT && (i = \"wx_\" + e);\r\n        return !(\"\" !== i && !t.instance.getAdSwitch(i));\r\n    };\r\n    t.prototype.getEnemyConfig = function(t) {\r\n        return this.enemyConfigs.find(function(e) {\r\n            return e.id == t;\r\n        });\r\n    };\r\n    t.prototype.loadConfigResJson = function(t, e) {\r\n        var i = $assetsMap.BundleNames.Configs;\r\n        $assetsLoader.default.instance.loadRes(i, t, cc.JsonAsset, null, function(i, o) {\r\n            if (o.length > 0) {\r\n                var n = [];\r\n                for (var s = 0; s < o.length; s++) {\r\n                    n.push(o[s].json);\r\n                    cc.assetManager.releaseAsset(o[s]);\r\n                }\r\n                if (e) {\r\n                    e(n);\r\n                }\r\n            } else {\r\n                e && e(null);\r\n                console.log(\"json为空:\", t);\r\n            }\r\n        });\r\n    };\r\n    t.prototype.getConfigByLevel = function(e) {\r\n        var i = this;\r\n        if (this.levelInfoConfigs.length >= e) {\r\n            this.seedLevel = e;\r\n            return t.instance.levelInfoConfigs.find(function(t) {\r\n                return t.id === e;\r\n            });\r\n        }\r\n        $seedUtil.default.init(e);\r\n        this.seedLevel = $seedUtil.default.randomFromSync(1, this.levelInfoConfigs.length);\r\n        var o = t.instance.levelInfoConfigs.find(function(t) {\r\n            return t.id === i.seedLevel;\r\n        });\r\n        var n = [];\r\n        var s = [];\r\n        for (var r = 0; r < o.addHP.length; r++) {\r\n            var a = this.enemyConfigsMap.get(o.Monsterspool[r]);\r\n            n.push(e * a.add_hp);\r\n            s.push(e * a.add_atk);\r\n        }\r\n        return {\r\n            id: e,\r\n            Monsterspool: o.Monsterspool,\r\n            addHP: n,\r\n            addatk: s,\r\n            EX: o.EX,\r\n            EX_num: o.EX_num,\r\n            EX_coefficient: o.EX_coefficient,\r\n            rewardtype: o.rewardtype,\r\n            reward_num: o.reward_num,\r\n            gemstone_weight: o.gemstone_weight,\r\n            TreasureChesttype: o.TreasureChesttype,\r\n            TreasureChest_num: o.TreasureChest_num,\r\n            phase_reward_time: o.phase_reward_time,\r\n            phase_reward_num: o.phase_reward_num\r\n        };\r\n    };\r\n    t.prototype.getSweepConfig = function(e) {\r\n        if (this.levelInfoConfigs.length >= e) {\r\n            this.seedLevel = e;\r\n            return t.instance.sweepConfigs.find(function(t) {\r\n                return t.id === e;\r\n            });\r\n        }\r\n        $seedUtil.default.init(e);\r\n        this.seedLevel = $seedUtil.default.randomFromSync(1, this.levelInfoConfigs.length);\r\n        var i = e - this.levelInfoConfigs.length;\r\n        var o = this.sweepConfigs[this.sweepConfigs.length - 1];\r\n        var n = [];\r\n        for (var s = 0; s < o.rewardnum.length; s++) {\r\n            n.push(o.rewardnum[s] + i);\r\n        }\r\n        return {\r\n            id: e,\r\n            rewardnum: n\r\n        };\r\n    };\r\n    t.loadNetResArray = function(t, e) {\r\n        return __awaiter(this, void 0, Promise, function() {\r\n            var i;\r\n            var o;\r\n            return __generator(this, function() {\r\n                i = [];\r\n                for (o = 0; o < t.length; o++) {\r\n                    i.push({\r\n                        url: t[o]\r\n                    });\r\n                }\r\n                return [\r\n                    2,\r\n                    new Promise(function(t, o) {\r\n                        cc.assetManager.loadAny(\r\n                            i,\r\n                            function(t, i) {\r\n                                if (e) {\r\n                                    e(t, i);\r\n                                }\r\n                            },\r\n                            function(e, i) {\r\n                                e ? o(e) : t(i);\r\n                            }\r\n                        );\r\n                    })\r\n                ];\r\n            });\r\n        });\r\n    };\r\n    t.instance = new t();\r\n    return t;\r\n})();\r\nexports.default = u;"]}