{"version":3,"sources":["assets\\game_script\\scripts\\RoleContext.js"],"names":["$eventManager","require","$storageUtil","$startView","$configContext","$localEventName","$localName","c","t","packList","currSkinInfo","skin","gun","robot","playerskinPacks","id","isHave","shard","gunSkinPacks","robotSkinPacks","gunCache","robotCache","isPlayerCache","Object","defineProperty","get","_ins","enumerable","configurable","prototype","init","StorageUtil","getItem","PACK_INFO","SKIN_INFO","SKINS","GUN_SKINS","ROBOT_SKINS","setCurrInfo","setItem","getPlayerSkinInfo","find","e","hasPlayerSkinDot","i","instance","playerSkinConfigs","shard_num","value","o","length","n","getGunSkinInfo","hasGunSkinDot","gunSkinConfigs","getRobotSkinInfo","isHaveRobot","robotConfigs","hasRobotSkinDot","getGunAllAtkAdd","filter","map","includes","Gunskin_add_attribute","setGunSkinInfo","findIndex","push","send","RENDER_DOT","MenuType","Role","saveGunSkin","setRobotSkinInfo","Skill","saveRobotSkin","getRobotProps","Map","Petsskin_add_attribute","s","set","setPlayerSKinInfo","savePlayerSkin","lockAndUnlock","isLock","addPackItem","num","part","grade","Grade","useCount","isUse","sort","returnPackItem","usePackItem","splice","delPackItem","getPackInfo","showPackInfoList","isCanComposeGem","getCanComposeGemList","concat","save","exports"],"mappings":"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","sourceRoot":"/","sourcesContent":["var $eventManager = require(\"./EventManager\");\r\nvar $storageUtil = require(\"./StorageUtil\");\r\nvar $startView = require(\"./StartView\");\r\nvar $configContext = require(\"./ConfigContext\");\r\nvar $localEventName = require(\"./LocalEventName\");\r\nvar $localName = require(\"./LocalName\");\r\nvar c = (function () {\r\n    function t() {\r\n        this.packList = [];\r\n        this.currSkinInfo = {\r\n            skin: 1,\r\n            gun: 1,\r\n            robot: 1\r\n        };\r\n        this.playerskinPacks = [\r\n            {\r\n                id: 1,\r\n                isHave: !0,\r\n                shard: 0\r\n            }\r\n        ];\r\n        this.gunSkinPacks = [\r\n            {\r\n                id: 1,\r\n                isHave: !0,\r\n                shard: 0\r\n            }\r\n        ];\r\n        this.robotSkinPacks = [\r\n            {\r\n                id: 1,\r\n                isHave: !0,\r\n                shard: 0\r\n            }\r\n        ];\r\n        this.gunCache = !1;\r\n        this.robotCache = !1;\r\n        this.isPlayerCache = !1;\r\n    }\r\n    Object.defineProperty(t, \"ins\", {\r\n        get: function () {\r\n            if (!t._ins) {\r\n                t._ins = new t();\r\n            }\r\n            return t._ins;\r\n        },\r\n        enumerable: !1,\r\n        configurable: !0\r\n    });\r\n    t.prototype.init = function () {\r\n        this.packList = $storageUtil.StorageUtil.getItem($localName.default.PACK_INFO, this.packList);\r\n        this.currSkinInfo = $storageUtil.StorageUtil.getItem($localName.default.SKIN_INFO, this.currSkinInfo);\r\n        this.playerskinPacks = $storageUtil.StorageUtil.getItem($localName.default.SKINS, this.playerskinPacks);\r\n        this.gunSkinPacks = $storageUtil.StorageUtil.getItem($localName.default.GUN_SKINS, this.gunSkinPacks);\r\n        this.robotSkinPacks = $storageUtil.StorageUtil.getItem($localName.default.ROBOT_SKINS, this.robotSkinPacks);\r\n    };\r\n    t.prototype.setCurrInfo = function (t) {\r\n        this.currSkinInfo = t;\r\n        $storageUtil.StorageUtil.setItem($localName.default.SKIN_INFO, this.currSkinInfo);\r\n    };\r\n    t.prototype.getPlayerSkinInfo = function (t) {\r\n        return (\r\n            this.playerskinPacks.find(function (e) {\r\n                return e.id === t;\r\n            }) || {\r\n                id: t,\r\n                isHave: !1,\r\n                shard: 0\r\n            }\r\n        );\r\n    };\r\n    t.prototype.hasPlayerSkinDot = function () {\r\n        var t = this;\r\n        var e = function (e) {\r\n            if (\r\n                !i.playerskinPacks[e].isHave &&\r\n                i.playerskinPacks[e].shard > 0 &&\r\n                $configContext.default.instance.playerSkinConfigs.find(function (i) {\r\n                    return i.id === t.playerskinPacks[e].id;\r\n                }).shard_num <= i.playerskinPacks[e].shard\r\n            ) {\r\n                return {\r\n                    value: !0\r\n                };\r\n            }\r\n        };\r\n        var i = this;\r\n        for (var o = 0; o < this.playerskinPacks.length; o++) {\r\n            var n = e(o);\r\n            if (\"object\" == typeof n) {\r\n                return n.value;\r\n            }\r\n        }\r\n        return !1;\r\n    };\r\n    t.prototype.getGunSkinInfo = function (t) {\r\n        return (\r\n            this.gunSkinPacks.find(function (e) {\r\n                return e.id === t;\r\n            }) || {\r\n                id: t,\r\n                isHave: !1,\r\n                shard: 0\r\n            }\r\n        );\r\n    };\r\n    t.prototype.hasGunSkinDot = function () {\r\n        var t = this;\r\n        var e = function (e) {\r\n            if (\r\n                !i.gunSkinPacks[e].isHave &&\r\n                i.gunSkinPacks[e].shard > 0 &&\r\n                $configContext.default.instance.gunSkinConfigs.find(function (i) {\r\n                    return i.id === t.gunSkinPacks[e].id;\r\n                }).shard_num <= i.gunSkinPacks[e].shard\r\n            ) {\r\n                return {\r\n                    value: !0\r\n                };\r\n            }\r\n        };\r\n        var i = this;\r\n        for (var o = 0; o < this.gunSkinPacks.length; o++) {\r\n            var n = e(o);\r\n            if (\"object\" == typeof n) {\r\n                return n.value;\r\n            }\r\n        }\r\n        return !1;\r\n    };\r\n    t.prototype.getRobotSkinInfo = function (t) {\r\n        return (\r\n            this.robotSkinPacks.find(function (e) {\r\n                return e.id === t;\r\n            }) || {\r\n                id: t,\r\n                isHave: !1,\r\n                shard: 0\r\n            }\r\n        );\r\n    };\r\n    t.prototype.isHaveRobot = function (t) {\r\n        var e = this.getRobotSkinInfo(t);\r\n        if (e && e.isHave) {\r\n            return !0;\r\n        }\r\n        var i = $configContext.default.instance.robotConfigs.find(function (e) {\r\n            return e.id === t;\r\n        });\r\n        return e.shard >= i.shard_num;\r\n    };\r\n    t.prototype.hasRobotSkinDot = function () {\r\n        var t = this;\r\n        var e = function (e) {\r\n            if (\r\n                !i.robotSkinPacks[e].isHave &&\r\n                i.robotSkinPacks[e].shard > 0 &&\r\n                $configContext.default.instance.robotConfigs.find(function (i) {\r\n                    return i.id === t.robotSkinPacks[e].id;\r\n                }).shard_num <= i.robotSkinPacks[e].shard\r\n            ) {\r\n                return {\r\n                    value: !0\r\n                };\r\n            }\r\n        };\r\n        var i = this;\r\n        for (var o = 0; o < this.robotSkinPacks.length; o++) {\r\n            var n = e(o);\r\n            if (\"object\" == typeof n) {\r\n                return n.value;\r\n            }\r\n        }\r\n        return !1;\r\n    };\r\n    t.prototype.getGunAllAtkAdd = function () {\r\n        var t = this.gunSkinPacks\r\n            .filter(function (t) {\r\n                return t.isHave;\r\n            })\r\n            .map(function (t) {\r\n                return t.id;\r\n            });\r\n        var e = $configContext.default.instance.gunSkinConfigs.filter(function (e) {\r\n            return t.includes(e.id);\r\n        });\r\n        var i = 0;\r\n        for (var o = 0; o < e.length; o++) {\r\n            i += e[o].Gunskin_add_attribute[0];\r\n        }\r\n        return i;\r\n    };\r\n    t.prototype.setGunSkinInfo = function (t, e) {\r\n        if (void 0 === e) {\r\n            e = !0;\r\n        }\r\n        var i = this.gunSkinPacks.findIndex(function (e) {\r\n            return e.id === t.id;\r\n        });\r\n        -1 !== i ? (this.gunSkinPacks[i] = t) : this.gunSkinPacks.push(t);\r\n        e\r\n            ? ($storageUtil.StorageUtil.setItem($localName.default.GUN_SKINS, this.gunSkinPacks),\r\n              $eventManager.default.send($localEventName.default.RENDER_DOT, $startView.MenuType.Role))\r\n            : (this.gunCache = !0);\r\n    };\r\n    t.prototype.saveGunSkin = function () {\r\n        if (this.gunCache) {\r\n            this.gunCache = !1;\r\n            $storageUtil.StorageUtil.setItem($localName.default.GUN_SKINS, this.gunSkinPacks);\r\n            $eventManager.default.send($localEventName.default.RENDER_DOT, $startView.MenuType.Role);\r\n        }\r\n    };\r\n    t.prototype.setRobotSkinInfo = function (t, e) {\r\n        if (void 0 === e) {\r\n            e = !0;\r\n        }\r\n        var i = this.robotSkinPacks.findIndex(function (e) {\r\n            return e.id === t.id;\r\n        });\r\n        -1 !== i ? (this.robotSkinPacks[i] = t) : this.robotSkinPacks.push(t);\r\n        e\r\n            ? ($storageUtil.StorageUtil.setItem($localName.default.ROBOT_SKINS, this.robotSkinPacks),\r\n              $eventManager.default.send($localEventName.default.RENDER_DOT, $startView.MenuType.Skill))\r\n            : (this.robotCache = !0);\r\n    };\r\n    t.prototype.saveRobotSkin = function () {\r\n        if (this.robotCache) {\r\n            this.robotCache = !1;\r\n            $storageUtil.StorageUtil.setItem($localName.default.ROBOT_SKINS, this.robotSkinPacks);\r\n            $eventManager.default.send($localEventName.default.RENDER_DOT, $startView.MenuType.Skill);\r\n        }\r\n    };\r\n    t.prototype.getRobotProps = function () {\r\n        var t = this;\r\n        if (1 === this.currSkinInfo.robot) {\r\n            new Map();\r\n        }\r\n        var e = $configContext.default.instance.robotConfigs.find(function (e) {\r\n            return e.id === t.currSkinInfo.robot;\r\n        });\r\n        var i = new Map();\r\n        if (0 === e.Petsskin_add_attribute.length) {\r\n            return i;\r\n        }\r\n        for (var o = 0; o < e.Petsskin_add_attribute[0].length; o++) {\r\n            var n = e.Petsskin_add_attribute[0][o];\r\n            var s = e.Petsskin_add_attribute[1][o];\r\n            i.set(s, [n]);\r\n        }\r\n        return i;\r\n    };\r\n    t.prototype.setPlayerSKinInfo = function (t, e) {\r\n        if (void 0 === e) {\r\n            e = !0;\r\n        }\r\n        var i = this.playerskinPacks.findIndex(function (e) {\r\n            return e.id === t.id;\r\n        });\r\n        -1 !== i ? (this.playerskinPacks[i] = t) : this.playerskinPacks.push(t);\r\n        e\r\n            ? ($storageUtil.StorageUtil.setItem($localName.default.SKINS, this.playerskinPacks),\r\n              $eventManager.default.send($localEventName.default.RENDER_DOT, $startView.MenuType.Role))\r\n            : (this.isPlayerCache = !0);\r\n    };\r\n    t.prototype.savePlayerSkin = function () {\r\n        if (this.isPlayerCache) {\r\n            this.isPlayerCache = !1;\r\n            $storageUtil.StorageUtil.setItem($localName.default.SKINS, this.playerskinPacks);\r\n            $eventManager.default.send($localEventName.default.RENDER_DOT, $startView.MenuType.Role);\r\n        }\r\n    };\r\n    t.prototype.lockAndUnlock = function (t) {\r\n        var e = this.packList.findIndex(function (e) {\r\n            return e.id === t;\r\n        });\r\n        return (\r\n            -1 !== e &&\r\n            ((this.packList[e].isLock = !this.packList[e].isLock),\r\n            $storageUtil.StorageUtil.setItem($localName.default.PACK_INFO, this.packList),\r\n            this.packList[e].isLock)\r\n        );\r\n    };\r\n    t.prototype.addPackItem = function (t, e) {\r\n        var i = this.packList.findIndex(function (e) {\r\n            return e.id === t.id;\r\n        });\r\n        -1 !== i\r\n            ? (this.packList[i].num += e)\r\n            : this.packList.push({\r\n                  id: t.id,\r\n                  part: t.part,\r\n                  grade: t.Grade,\r\n                  useCount: 0,\r\n                  isUse: !1,\r\n                  num: e,\r\n                  isLock: !1\r\n              });\r\n        this.packList.sort(function (t, e) {\r\n            return t.grade > e.grade ? -1 : t.grade < e.grade ? 1 : t.part < e.part ? -1 : t.part > e.part ? 1 : 0;\r\n        });\r\n        $storageUtil.StorageUtil.setItem($localName.default.PACK_INFO, this.packList);\r\n    };\r\n    t.prototype.returnPackItem = function (t, e) {\r\n        var i = this.packList.findIndex(function (e) {\r\n            return e.id === t.id;\r\n        });\r\n        if (-1 !== i) {\r\n            this.packList[i].num += e;\r\n            this.packList[i].useCount--;\r\n            this.packList[i].isUse = !1;\r\n        }\r\n        $storageUtil.StorageUtil.setItem($localName.default.PACK_INFO, this.packList);\r\n    };\r\n    t.prototype.usePackItem = function (t, e) {\r\n        var i = this.packList.findIndex(function (e) {\r\n            return e.id === t;\r\n        });\r\n        this.packList[i].useCount++;\r\n        this.packList[i].isUse = !0;\r\n        if (-1 !== i) {\r\n            this.packList[i].num >= e ? (this.packList[i].num -= e) : this.packList.splice(i, 1);\r\n        }\r\n        $storageUtil.StorageUtil.setItem($localName.default.PACK_INFO, this.packList);\r\n    };\r\n    t.prototype.delPackItem = function (t, e) {\r\n        var i = this.packList.findIndex(function (e) {\r\n            return e.id === t;\r\n        });\r\n        if (-1 !== i) {\r\n            this.packList[i].num -= e;\r\n            if (!this.packList[i].isUse && this.packList[i].num <= 0) {\r\n                this.packList.splice(i, 1);\r\n            }\r\n            $storageUtil.StorageUtil.setItem($localName.default.PACK_INFO, this.packList);\r\n        }\r\n    };\r\n    t.prototype.getPackInfo = function (t) {\r\n        return this.packList.find(function (e) {\r\n            return e.id === t;\r\n        });\r\n    };\r\n    t.prototype.showPackInfoList = function () {\r\n        return this.packList.filter(function (t) {\r\n            return t.num > 0;\r\n        });\r\n    };\r\n    t.prototype.isCanComposeGem = function () {\r\n        var t = 0;\r\n        var e = [];\r\n        var i = -1;\r\n        for (var o = 0; o < this.packList.length; o++) {\r\n            if (!(this.packList[o].isLock || this.packList[o].useCount > 0 || this.packList[o].grade >= 7)) {\r\n                for (var n = 0; n < this.packList[o].num; n++) {\r\n                    if (\r\n                        (i !== this.packList[o].grade && ((i = this.packList[o].grade), (e.length = 0), (t = 0)),\r\n                        t++,\r\n                        e.push(this.packList[o].id),\r\n                        t >= 5)\r\n                    ) {\r\n                        return !0;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        return !1;\r\n    };\r\n    t.prototype.getCanComposeGemList = function () {\r\n        var t = [];\r\n        var e = 0;\r\n        var i = [];\r\n        var o = -1;\r\n        for (var n = 0; n < this.packList.length; n++) {\r\n            if (!(this.packList[n].isLock || this.packList[n].useCount > 0 || this.packList[n].grade >= 7)) {\r\n                for (var s = 0; s < this.packList[n].num; s++) {\r\n                    o !== this.packList[n].grade && ((o = this.packList[n].grade), (i.length = 0), (e = 0));\r\n                    e++;\r\n                    i.push(this.packList[n].id);\r\n                    e >= 5 && ((t = t.concat(i)), (i.length = 0), (e = 0));\r\n                }\r\n            }\r\n        }\r\n        return t;\r\n    };\r\n    t.prototype.save = function () {\r\n        $storageUtil.StorageUtil.setItem($localName.default.PACK_INFO, this.packList);\r\n    };\r\n    t._ins = null;\r\n    return t;\r\n})();\r\nexports.default = c;\r\n"]}