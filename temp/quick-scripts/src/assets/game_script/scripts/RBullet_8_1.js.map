{"version":3,"sources":["assets\\game_script\\scripts\\RBullet_8_1.js"],"names":["o","$object","require","$gameContext","$gameSkillInfo","$baseBullet","u","cc","_decorator","d","ccclass","p","property","Vec3","t","e","apply","arguments","buttleType","BulletType","r_bullet_8_1","penetrationCount","__extends","prototype","initButtle","speed","ins","skillInfo","robotParam","call","atk","Math","ceil","skillParam","skillAtk","Skill4Param","FINAL","velocity","set","multiplyScalar","onTrigger","i","object","Trigger","enter","sufferAtk","skillSpecialitys","removeSelf","__decorate","exports"],"mappings":";;;;;;AAAA,IAAIA,CAAJ;;AACA,IAAIC,OAAO,GAAGC,OAAO,CAAC,UAAD,CAArB;;AACA,IAAIC,YAAY,GAAGD,OAAO,CAAC,eAAD,CAA1B;;AACA,IAAIE,cAAc,GAAGF,OAAO,CAAC,iBAAD,CAA5B;;AACA,IAAIG,WAAW,GAAGH,OAAO,CAAC,cAAD,CAAzB;;AACA,IAAII,CAAC,GAAGC,EAAE,CAACC,UAAX;AACA,IAAIC,CAAC,GAAGH,CAAC,CAACI,OAAV;AACA,IAAIC,CAAC,IACAL,CAAC,CAACM,QAAF,EACD,IAAIL,EAAE,CAACM,IAAP,EADC,EAEA,UAAUC,CAAV,EAAa;EACV,SAASC,CAAT,GAAa;IACT,IAAIA,CAAC,GAAI,SAASD,CAAT,IAAcA,CAAC,CAACE,KAAF,CAAQ,IAAR,EAAcC,SAAd,CAAf,IAA4C,IAApD;IACAF,CAAC,CAACG,UAAF,GAAeb,WAAW,CAACc,UAAZ,CAAuBC,YAAtC;IACAL,CAAC,CAACM,gBAAF,GAAqB,CAArB;IACA,OAAON,CAAP;EACH;;EACDO,SAAS,CAACP,CAAD,EAAID,CAAJ,CAAT;;EACAC,CAAC,CAACQ,SAAF,CAAYC,UAAZ,GAAyB,UAAUT,CAAV,EAAa;IAClC,KAAKU,KAAL,GAAatB,YAAY,WAAZ,CAAqBuB,GAArB,CAAyBC,SAAzB,CAAmCC,UAAnC,CAA8C,CAA9C,CAAb;IACAd,CAAC,CAACS,SAAF,CAAYC,UAAZ,CAAuBK,IAAvB,CAA4B,IAA5B,EAAkCd,CAAlC,EAAqC,IAArC;IACA,KAAKe,GAAL,GAAWC,IAAI,CAACC,IAAL,CACP7B,YAAY,WAAZ,CAAqBuB,GAArB,CAAyBC,SAAzB,CAAmCC,UAAnC,CAA8C,CAA9C,IACI,KAAKK,UAAL,CAAgBC,QAAhB,CAAyB9B,cAAc,CAAC+B,WAAf,CAA2BC,KAApD,CAFG,CAAX;IAIA,KAAKf,gBAAL,GAAwBlB,YAAY,WAAZ,CAAqBuB,GAArB,CAAyBC,SAAzB,CAAmCC,UAAnC,CAA8C,CAA9C,CAAxB;;IACA,IAAIb,CAAJ,EAAO;MACH,KAAKsB,QAAL,CAAcC,GAAd,CAAkBvB,CAAlB,EAAqBwB,cAArB,CAAoC,KAAKd,KAAzC;IACH;EACJ,CAXD;;EAYAV,CAAC,CAACQ,SAAF,CAAYiB,SAAZ,GAAwB,UAAU1B,CAAV,EAAaC,CAAb,EAAgB;IACpC,IAAI,EAAE,KAAKM,gBAAL,IAAyB,CAA3B,CAAJ,EAAmC;MAC/B,IAAIoB,CAAC,GAAG3B,CAAC,CAAC4B,MAAV;MACA,OAAO3B,CAAC,KAAKd,OAAO,CAAC0C,OAAR,CAAgBC,KAAtB,KACF,KAAKvB,gBAAL,IACDoB,CAAC,CAACI,SAAF,CAAY;QACRC,gBAAgB,EAAE,KAAKA,gBADf;QAERhB,GAAG,EAAE,KAAKA;MAFF,CAAZ,CADC,EAKD,KAAKT,gBAAL,IAAyB,CANtB,IAOD,KAAK0B,UAAL,EAPC,GAQD,KAAK,CARX;IASH;EACJ,CAbD;;EAcA,OAAOC,UAAU,CAAC,CAACvC,CAAD,CAAD,EAAMM,CAAN,CAAjB;AACH,CAnCD,CAmCGV,WAAW,WAnCd,CAHC,CAAL;AAuCA4C,OAAO,WAAP,GAAkBtC,CAAlB","sourceRoot":"/","sourcesContent":["var o;\r\nvar $object = require(\"./Object\");\r\nvar $gameContext = require(\"./GameContext\");\r\nvar $gameSkillInfo = require(\"./GameSkillInfo\");\r\nvar $baseBullet = require(\"./BaseBullet\");\r\nvar u = cc._decorator;\r\nvar d = u.ccclass;\r\nvar p =\r\n    (u.property,\r\n    new cc.Vec3(),\r\n    (function (t) {\r\n        function e() {\r\n            var e = (null !== t && t.apply(this, arguments)) || this;\r\n            e.buttleType = $baseBullet.BulletType.r_bullet_8_1;\r\n            e.penetrationCount = 0;\r\n            return e;\r\n        }\r\n        __extends(e, t);\r\n        e.prototype.initButtle = function (e) {\r\n            this.speed = $gameContext.default.ins.skillInfo.robotParam[6];\r\n            t.prototype.initButtle.call(this, e, null);\r\n            this.atk = Math.ceil(\r\n                $gameContext.default.ins.skillInfo.robotParam[0] *\r\n                    this.skillParam.skillAtk[$gameSkillInfo.Skill4Param.FINAL]\r\n            );\r\n            this.penetrationCount = $gameContext.default.ins.skillInfo.robotParam[7];\r\n            if (e) {\r\n                this.velocity.set(e).multiplyScalar(this.speed);\r\n            }\r\n        };\r\n        e.prototype.onTrigger = function (t, e) {\r\n            if (!(this.penetrationCount <= 0)) {\r\n                var i = t.object;\r\n                return e === $object.Trigger.enter &&\r\n                    (this.penetrationCount--,\r\n                    i.sufferAtk({\r\n                        skillSpecialitys: this.skillSpecialitys,\r\n                        atk: this.atk\r\n                    }),\r\n                    this.penetrationCount <= 0)\r\n                    ? this.removeSelf()\r\n                    : void 0;\r\n            }\r\n        };\r\n        return __decorate([d], e);\r\n    })($baseBullet.default));\r\nexports.default = p;\r\n"]}