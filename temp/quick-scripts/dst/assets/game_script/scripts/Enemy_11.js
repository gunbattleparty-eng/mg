
                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/game_script/scripts/Enemy_11.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '74db4fEj4hM44W6gNrVo7IF', 'Enemy_11');
// game_script/scripts/Enemy_11.js

"use strict";

var o;

var $eventManager = require("./EventManager");

var $localEventName = require("./LocalEventName");

var $baseBullet = require("./BaseBullet");

var $baseEnemy = require("./BaseEnemy");

var $enemyStatus = require("./EnemyStatus");

var d = cc._decorator;
var p = d.ccclass;
var f = (d.property, function (t) {
  function e() {
    var e = null !== t && t.apply(this, arguments) || this;
    e.minHp = 0;
    e.addTime = 0;
    e.addUnitHp = 0;
    e.isAdded = !1;
    e.addHping = !1;
    e.dtAddTime = 1;
    e.dtAddLeft = 0;
    return e;
  }

  __extends(e, t);

  e.prototype.initEnemy = function (e, i, o) {
    if (void 0 === o) {
      o = 0;
    }

    t.prototype.initEnemy.call(this, e, i, o);
    this.statusManager.specialityAtkAdd.set($baseBullet.BulletSpeciality.fire, this.config.value[3]);
    this.minHp = this.statusManager.initHp * this.config.value[0];
    this.addTime = this.config.value[1];
    this.addUnitHp = Math.ceil(this.minHp / this.addTime);
    this.dtAddLeft = this.dtAddTime;
    this.addHping = !1;
    this.isAdded = !1;
  };

  e.prototype.sufferDebuff = function (e) {
    if (e.type === $enemyStatus.EnemyDebuffType.BURN) {
      e.timeLeft *= this.config.value[4] + 1;
      e.value *= this.config.value[3] + 1;
    }

    t.prototype.sufferDebuff.call(this, e);
  };

  e.prototype.updateFrame = function (e) {
    if (!this.statusManager.isDie) {
      t.prototype.updateFrame.call(this, e);

      if (this.addHping && this.hasDebuff($enemyStatus.EnemyDebuffType.FORBID_RECOVER)) {
        this.addHping = !1;
        return void (this.hasDebuff($enemyStatus.EnemyDebuffType.RECOVER) && this.removeDebuff($enemyStatus.EnemyDebuffType.RECOVER));
      }

      if (!this.isAdded && this.statusManager.hp <= this.minHp) {
        this.isAdded = !0;
        this.addHping = !0;
        this.sufferDebuff({
          type: $enemyStatus.EnemyDebuffType.RECOVER,
          timeLeft: this.addTime,
          value: -1
        });
      }

      if (this.addHping) {
        this.dtAddLeft -= e;

        if (this.dtAddLeft <= 0) {
          this.dtAddLeft = this.dtAddTime;
          this.addTime -= 1;
          this.statusManager.hp += this.addUnitHp;
          this.statusManager.hp = Math.min(this.statusManager.hp, this.statusManager.initHp);
          $eventManager["default"].send($localEventName["default"].HURT_ANIM, this.getAnimPos(), this.addUnitHp, 2, 1);

          if (this.addTime <= 0) {
            this.addHping = !1;
          }
        }
      }
    }
  };

  return __decorate([p], e);
}($baseEnemy["default"]));
exports["default"] = f;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcZ2FtZV9zY3JpcHRcXHNjcmlwdHNcXEVuZW15XzExLmpzIl0sIm5hbWVzIjpbIm8iLCIkZXZlbnRNYW5hZ2VyIiwicmVxdWlyZSIsIiRsb2NhbEV2ZW50TmFtZSIsIiRiYXNlQnVsbGV0IiwiJGJhc2VFbmVteSIsIiRlbmVteVN0YXR1cyIsImQiLCJjYyIsIl9kZWNvcmF0b3IiLCJwIiwiY2NjbGFzcyIsImYiLCJwcm9wZXJ0eSIsInQiLCJlIiwiYXBwbHkiLCJhcmd1bWVudHMiLCJtaW5IcCIsImFkZFRpbWUiLCJhZGRVbml0SHAiLCJpc0FkZGVkIiwiYWRkSHBpbmciLCJkdEFkZFRpbWUiLCJkdEFkZExlZnQiLCJfX2V4dGVuZHMiLCJwcm90b3R5cGUiLCJpbml0RW5lbXkiLCJpIiwiY2FsbCIsInN0YXR1c01hbmFnZXIiLCJzcGVjaWFsaXR5QXRrQWRkIiwic2V0IiwiQnVsbGV0U3BlY2lhbGl0eSIsImZpcmUiLCJjb25maWciLCJ2YWx1ZSIsImluaXRIcCIsIk1hdGgiLCJjZWlsIiwic3VmZmVyRGVidWZmIiwidHlwZSIsIkVuZW15RGVidWZmVHlwZSIsIkJVUk4iLCJ0aW1lTGVmdCIsInVwZGF0ZUZyYW1lIiwiaXNEaWUiLCJoYXNEZWJ1ZmYiLCJGT1JCSURfUkVDT1ZFUiIsIlJFQ09WRVIiLCJyZW1vdmVEZWJ1ZmYiLCJocCIsIm1pbiIsInNlbmQiLCJIVVJUX0FOSU0iLCJnZXRBbmltUG9zIiwiX19kZWNvcmF0ZSIsImV4cG9ydHMiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUEsSUFBSUEsQ0FBSjs7QUFDQSxJQUFJQyxhQUFhLEdBQUdDLE9BQU8sQ0FBQyxnQkFBRCxDQUEzQjs7QUFDQSxJQUFJQyxlQUFlLEdBQUdELE9BQU8sQ0FBQyxrQkFBRCxDQUE3Qjs7QUFDQSxJQUFJRSxXQUFXLEdBQUdGLE9BQU8sQ0FBQyxjQUFELENBQXpCOztBQUNBLElBQUlHLFVBQVUsR0FBR0gsT0FBTyxDQUFDLGFBQUQsQ0FBeEI7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ckIsYUFBTCxDQUFtQk8sTUFBbkQsQ0FBeEI7VUFDQXBDLGFBQWEsV0FBYixDQUFzQm9ELElBQXRCLENBQ0lsRCxlQUFlLFdBQWYsQ0FBd0JtRCxTQUQ1QixFQUVJLEtBQUtDLFVBQUwsRUFGSixFQUdJLEtBQUtuQyxTQUhULEVBSUksQ0FKSixFQUtJLENBTEo7O1VBT0EsSUFBSSxLQUFLRCxPQUFMLElBQWdCLENBQXBCLEVBQXVCO1lBQ25CLEtBQUtHLFFBQUwsR0FBZ0IsQ0FBQyxDQUFqQjtVQUNIO1FBQ0o7TUFDSjtJQUNKO0VBQ0osQ0F2Q0Q7O0VBd0NBLE9BQU9rQyxVQUFVLENBQUMsQ0FBQzlDLENBQUQsQ0FBRCxFQUFNSyxDQUFOLENBQWpCO0FBQ0gsQ0ExRUQsQ0EwRUdWLFVBQVUsV0ExRWIsQ0FGQyxDQUFMO0FBNkVBb0QsT0FBTyxXQUFQLEdBQWtCN0MsQ0FBbEIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbInZhciBvO1xyXG52YXIgJGV2ZW50TWFuYWdlciA9IHJlcXVpcmUoXCIuL0V2ZW50TWFuYWdlclwiKTtcclxudmFyICRsb2NhbEV2ZW50TmFtZSA9IHJlcXVpcmUoXCIuL0xvY2FsRXZlbnROYW1lXCIpO1xyXG52YXIgJGJhc2VCdWxsZXQgPSByZXF1aXJlKFwiLi9CYXNlQnVsbGV0XCIpO1xyXG52YXIgJGJhc2VFbmVteSA9IHJlcXVpcmUoXCIuL0Jhc2VFbmVteVwiKTtcclxudmFyICRlbmVteVN0YXR1cyA9IHJlcXVpcmUoXCIuL0VuZW15U3RhdHVzXCIpO1xyXG52YXIgZCA9IGNjLl9kZWNvcmF0b3I7XHJcbnZhciBwID0gZC5jY2NsYXNzO1xyXG52YXIgZiA9XHJcbiAgICAoZC5wcm9wZXJ0eSxcclxuICAgIChmdW5jdGlvbiAodCkge1xyXG4gICAgICAgIGZ1bmN0aW9uIGUoKSB7XHJcbiAgICAgICAgICAgIHZhciBlID0gKG51bGwgIT09IHQgJiYgdC5hcHBseSh0aGlzLCBhcmd1bWVudHMpKSB8fCB0aGlzO1xyXG4gICAgICAgICAgICBlLm1pbkhwID0gMDtcclxuICAgICAgICAgICAgZS5hZGRUaW1lID0gMDtcclxuICAgICAgICAgICAgZS5hZGRVbml0SHAgPSAwO1xyXG4gICAgICAgICAgICBlLmlzQWRkZWQgPSAhMTtcclxuICAgICAgICAgICAgZS5hZGRIcGluZyA9ICExO1xyXG4gICAgICAgICAgICBlLmR0QWRkVGltZSA9IDE7XHJcbiAgICAgICAgICAgIGUuZHRBZGRMZWZ0ID0gMDtcclxuICAgICAgICAgICAgcmV0dXJuIGU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIF9fZXh0ZW5kcyhlLCB0KTtcclxuICAgICAgICBlLnByb3RvdHlwZS5pbml0RW5lbXkgPSBmdW5jdGlvbiAoZSwgaSwgbykge1xyXG4gICAgICAgICAgICBpZiAodm9pZCAwID09PSBvKSB7XHJcbiAgICAgICAgICAgICAgICBvID0gMDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0LnByb3RvdHlwZS5pbml0RW5lbXkuY2FsbCh0aGlzLCBlLCBpLCBvKTtcclxuICAgICAgICAgICAgdGhpcy5zdGF0dXNNYW5hZ2VyLnNwZWNpYWxpdHlBdGtBZGQuc2V0KCRiYXNlQnVsbGV0LkJ1bGxldFNwZWNpYWxpdHkuZmlyZSwgdGhpcy5jb25maWcudmFsdWVbM10pO1xyXG4gICAgICAgICAgICB0aGlzLm1pbkhwID0gdGhpcy5zdGF0dXNNYW5hZ2VyLmluaXRIcCAqIHRoaXMuY29uZmlnLnZhbHVlWzBdO1xyXG4gICAgICAgICAgICB0aGlzLmFkZFRpbWUgPSB0aGlzLmNvbmZpZy52YWx1ZVsxXTtcclxuICAgICAgICAgICAgdGhpcy5hZGRVbml0SHAgPSBNYXRoLmNlaWwodGhpcy5taW5IcCAvIHRoaXMuYWRkVGltZSk7XHJcbiAgICAgICAgICAgIHRoaXMuZHRBZGRMZWZ0ID0gdGhpcy5kdEFkZFRpbWU7XHJcbiAgICAgICAgICAgIHRoaXMuYWRkSHBpbmcgPSAhMTtcclxuICAgICAgICAgICAgdGhpcy5pc0FkZGVkID0gITE7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBlLnByb3RvdHlwZS5zdWZmZXJEZWJ1ZmYgPSBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgICAgICBpZiAoZS50eXBlID09PSAkZW5lbXlTdGF0dXMuRW5lbXlEZWJ1ZmZUeXBlLkJVUk4pIHtcclxuICAgICAgICAgICAgICAgIGUudGltZUxlZnQgKj0gdGhpcy5jb25maWcudmFsdWVbNF0gKyAxO1xyXG4gICAgICAgICAgICAgICAgZS52YWx1ZSAqPSB0aGlzLmNvbmZpZy52YWx1ZVszXSArIDE7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdC5wcm90b3R5cGUuc3VmZmVyRGVidWZmLmNhbGwodGhpcywgZSk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBlLnByb3RvdHlwZS51cGRhdGVGcmFtZSA9IGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgICAgIGlmICghdGhpcy5zdGF0dXNNYW5hZ2VyLmlzRGllKSB7XHJcbiAgICAgICAgICAgICAgICB0LnByb3RvdHlwZS51cGRhdGVGcmFtZS5jYWxsKHRoaXMsIGUpO1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuYWRkSHBpbmcgJiYgdGhpcy5oYXNEZWJ1ZmYoJGVuZW15U3RhdHVzLkVuZW15RGVidWZmVHlwZS5GT1JCSURfUkVDT1ZFUikpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmFkZEhwaW5nID0gITE7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZvaWQgKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmhhc0RlYnVmZigkZW5lbXlTdGF0dXMuRW5lbXlEZWJ1ZmZUeXBlLlJFQ09WRVIpICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucmVtb3ZlRGVidWZmKCRlbmVteVN0YXR1cy5FbmVteURlYnVmZlR5cGUuUkVDT1ZFUilcclxuICAgICAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLmlzQWRkZWQgJiYgdGhpcy5zdGF0dXNNYW5hZ2VyLmhwIDw9IHRoaXMubWluSHApIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmlzQWRkZWQgPSAhMDtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmFkZEhwaW5nID0gITA7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zdWZmZXJEZWJ1ZmYoe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAkZW5lbXlTdGF0dXMuRW5lbXlEZWJ1ZmZUeXBlLlJFQ09WRVIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpbWVMZWZ0OiB0aGlzLmFkZFRpbWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiAtMVxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuYWRkSHBpbmcpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmR0QWRkTGVmdCAtPSBlO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmR0QWRkTGVmdCA8PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZHRBZGRMZWZ0ID0gdGhpcy5kdEFkZFRpbWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYWRkVGltZSAtPSAxO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXR1c01hbmFnZXIuaHAgKz0gdGhpcy5hZGRVbml0SHA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdHVzTWFuYWdlci5ocCA9IE1hdGgubWluKHRoaXMuc3RhdHVzTWFuYWdlci5ocCwgdGhpcy5zdGF0dXNNYW5hZ2VyLmluaXRIcCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRldmVudE1hbmFnZXIuZGVmYXVsdC5zZW5kKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJGxvY2FsRXZlbnROYW1lLmRlZmF1bHQuSFVSVF9BTklNLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5nZXRBbmltUG9zKCksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmFkZFVuaXRIcCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAxXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmFkZFRpbWUgPD0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hZGRIcGluZyA9ICExO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgICByZXR1cm4gX19kZWNvcmF0ZShbcF0sIGUpO1xyXG4gICAgfSkoJGJhc2VFbmVteS5kZWZhdWx0KSk7XHJcbmV4cG9ydHMuZGVmYXVsdCA9IGY7XHJcbiJdfQ==