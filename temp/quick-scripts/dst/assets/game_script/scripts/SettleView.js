
                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/game_script/scripts/SettleView.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '56b49a9H/pMmpdSblb2Wx0/', 'SettleView');
// game_script/scripts/SettleView.js

"use strict";

var o;

var $assetsLoader = require("./AssetsLoader");

var $assetsMap = require("./AssetsMap");

var $resUtil = require("./ResUtil");

var $list = require("./List");

var $popupManager = require("./PopupManager");

var $uIManager = require("./UIManager");

var $popupView = require("./PopupView");

var $platform = require("./Platform");

var $remoteAudio = require("./RemoteAudio");

var $seedUtil = require("./SeedUtil");

var $aD = require("./AD");

var $adService = require("./AdService");

var $battleContext = require("./BattleContext");

var $configContext = require("./ConfigContext");

var $globalParam = require("./GlobalParam");

var $roleContext = require("./RoleContext");

var $taskContext = require("./TaskContext");

var $userDataContext = require("./UserDataContext");

var $gameContext = require("./GameContext");

var $rankService = require("./RankService");

var $skillHurtItem = require("./SkillHurtItem");

var P = cc._decorator;
var R = P.ccclass;
var B = P.property;

var x = function (t) {
  function e() {
    var e = null !== t && t.apply(this, arguments) || this;
    e.list = null;
    e.successTitle = null;
    e.failTitle = null;
    e.rewardNode = null;
    e.btnAd = null;
    e.skillIds = [];
    e.rewardInfos = [];
    e.isUpgrade = !1;
    return e;
  }

  __extends(e, t);

  e.prototype.onLoad = function () {
    var t = this;
    $gameContext["default"].ins.hurtRecord.forEach(function (e, i) {
      t.skillIds.push(i);
    });

    if (0 !== this.skillIds.length) {
      this.list.numItems = this.skillIds.length;
    }
  };

  e.prototype.onResetView = function () {
    var t;
    var e = this.uiParam.param.isSuccess;
    this.successTitle.active = e;
    this.failTitle.active = !e;
    var i = 0;
    var o = 0;
    var n = 0;
    var s = 0;
    var r = 0;

    if (null === (t = this.uiParam.param) || void 0 === t ? void 0 : t.isPause) {
      r = 1;
    }

    if ($platform.Platform.currPlatForm === $platform.PlatformEnum.TOU_TIAO) {
      var a = $gameContext["default"].ins.hpProccess();

      if (!e) {
        a = 0;
      }

      n = e ? 0 : 1;
      s = a >= 1 ? 1 : 0;
      i = a < 0.5 && a > 0 ? 1 : 0;
      o = a >= 0.5 && a < 1 ? 1 : 0;
      $aD["default"].toutiao.report("Challenge", {
        level: $battleContext["default"].Ins.currLevel,
        lessthan50: i,
        morethan50: o,
        fall: n,
        pass: s,
        pause: r
      });
    }

    if (e) {
      $remoteAudio["default"].instance.playEffectMusic("win");
      var l = $battleContext["default"].Ins.getLastRecord();

      if ($gameContext["default"].ins.hpProccess() >= 1) {
        $taskContext["default"].Ins.setTaskRecord(8, 1);
      }

      $battleContext["default"].Ins.setRecord($battleContext["default"].Ins.currLevel, $gameContext["default"].ins.hpProccess(), Math.floor($gameContext["default"].ins.gameStartTime));

      if (l.level < $battleContext["default"].Ins.currLevel) {
        $battleContext["default"].Ins.currLevel++;
        $battleContext["default"].Ins.currLevel = Math.min($globalParam["default"].countLevel, $battleContext["default"].Ins.currLevel);
        $rankService["default"].instance.reportRankData($rankService.RankTypeEnum.Level);
      }
    } else {
      $remoteAudio["default"].instance.playEffectMusic("fail");
      var c = $battleContext["default"].Ins.getRecord($battleContext["default"].Ins.currLevel);

      if (-1 === c.resBlood && c.time < Math.floor($gameContext["default"].ins.gameStartTime)) {
        $battleContext["default"].Ins.setRecord($battleContext["default"].Ins.currLevel, -1, Math.floor($gameContext["default"].ins.gameStartTime));
      }
    }

    this.rewardInfos = $gameContext["default"].ins.settleReward(e);
    this.renderReward();
  };

  e.prototype.addEvent = function () {
    this.btnAd.on("click", this.clickAd, this);
  };

  e.prototype.removeEvent = function () {
    this.btnAd.off("click", this.clickAd, this);
  };

  e.prototype.renderReward = function () {
    var t = this;
    this.rewardNode.children.forEach(function (t) {
      return t.active = !1;
    });

    var e = function e(_e) {
      var o = i.rewardNode.children[_e];
      o.active = !0;
      var n = i.rewardInfos[_e];

      if (1 === n.type) {
        $assetsLoader["default"].instance.loadRes($assetsMap.BundleNames.Public, ["/textures/gem/jinbi"], cc.SpriteFrame, null, function (e, i) {
          var s = i[0];

          if (s && cc.isValid(o)) {
            o.children[0].getComponent(cc.Sprite).spriteFrame = null;
            o.children[1].getComponent(cc.Sprite).spriteFrame = $resUtil.ResUtil.assignWith(s, t.node);
            o.children[2].getComponent(cc.Label).string = n.num.toString();
          }
        });
        $userDataContext["default"].Ins.opearCoin(n.num);
      } else {
        if (2 === n.type) {
          $assetsLoader["default"].instance.loadRes($assetsMap.BundleNames.Public, ["/textures/gem/exp"], cc.SpriteFrame, null, function (e, i) {
            var s = i[0];

            if (s && cc.isValid(o)) {
              o.children[0].getComponent(cc.Sprite).spriteFrame = null;
              o.children[1].getComponent(cc.Sprite).spriteFrame = $resUtil.ResUtil.assignWith(s, t.node);
              o.children[2].getComponent(cc.Label).string = n.num.toString();
            }
          });
          $userDataContext["default"].Ins.addExp(n.num) && (i.isUpgrade = !0);
        } else {
          if (3 === n.type) {
            $assetsLoader["default"].instance.loadRes($assetsMap.BundleNames.Public_Res, ["/equipment_icon/zb" + n.ext], cc.SpriteFrame, null, function (e, i) {
              var s = i[0];

              if (s && cc.isValid(o)) {
                o.children[0].getComponent(cc.Sprite).spriteFrame = null;
                o.children[1].getComponent(cc.Sprite).spriteFrame = $resUtil.ResUtil.assignWith(s, t.node);
                o.children[2].getComponent(cc.Label).string = n.num.toString();
              }
            });
            $userDataContext["default"].Ins.opearEquipBook(n.ext, n.num);
          } else {
            if (4 === n.type) {
              var s = $configContext["default"].instance.skillConfigs.find(function (t) {
                return t.id === n.ext;
              });
              $assetsLoader["default"].instance.loadRes($assetsMap.BundleNames.Public_Res, ["/skill_book/" + s.icon], cc.SpriteFrame, null, function (e, i) {
                var s = i[0];

                if (s && cc.isValid(o)) {
                  o.children[0].getComponent(cc.Sprite).spriteFrame = null;
                  o.children[1].getComponent(cc.Sprite).spriteFrame = $resUtil.ResUtil.assignWith(s, t.node);
                  o.children[2].getComponent(cc.Label).string = n.num.toString();
                }
              });
              $userDataContext["default"].Ins.opearSkillBook(n.ext, n.num);
            } else {
              if (5 === n.type) {
                var c = $configContext["default"].instance.gemConfigs.find(function (t) {
                  return t.id === n.ext;
                });
                $assetsLoader["default"].instance.loadRes($assetsMap.BundleNames.Public, ["/textures/gem/g" + c.part + "_" + c.Grade, "/textures/gem/k" + c.Grade], cc.SpriteFrame, null, function (e, i) {
                  var s = i[0];

                  if (s && cc.isValid(o)) {
                    o.children[0].getComponent(cc.Sprite).spriteFrame = $resUtil.ResUtil.assignWith(i[1], t.node);
                    o.children[1].getComponent(cc.Sprite).spriteFrame = $resUtil.ResUtil.assignWith(s, t.node);
                    o.children[2].getComponent(cc.Label).string = n.num.toString();
                  }
                });
                $roleContext["default"].ins.addPackItem(c, n.num);
              } else {
                if (9 === n.type) {
                  $assetsLoader["default"].instance.loadRes($assetsMap.BundleNames.Public_Res, ["/role_shard/sp" + n.ext], cc.SpriteFrame, null, function (e, i) {
                    var s = i[0];

                    if (s && cc.isValid(o)) {
                      o.children[1].getComponent(cc.Sprite).spriteFrame = $resUtil.ResUtil.assignWith(s, t.node);
                      o.children[2].getComponent(cc.Label).string = n.num.toString();
                    }
                  });
                  var u = $roleContext["default"].ins.getPlayerSkinInfo(2);
                  u.shard += 1;
                  $roleContext["default"].ins.setPlayerSKinInfo(u);
                }
              }
            }
          }
        }
      }
    };

    var i = this;

    for (var o = 0; o < this.rewardInfos.length; o++) {
      e(o);
    }
  };

  e.prototype.onClickClose = function () {
    $uIManager.UIManager.instance.replaceView($assetsMap.AssetsMap.StartBundles.prefabs.assetsList.StartView, {
      isUpgrade: this.isUpgrade
    });
  };

  e.prototype.clickAd = function () {
    var t = this;
    $adService["default"].Ins.showRewardedVideo(function () {
      if ($platform.Platform.currPlatForm === $platform.PlatformEnum.TOU_TIAO) {
        $aD["default"].toutiao.report("Ending_double");
      }

      t.btnAd.active = !1;
      var e = $seedUtil["default"].randomFrom(2, 3);
      var i = -1;

      var o = function o(_o) {
        t.rewardInfos[_o].num *= e;
        var n = t.rewardInfos[_o];

        if (9 === n.type) {
          i = _o;
        } else {
          if (1 === t.rewardInfos[_o].type) {
            $userDataContext["default"].Ins.opearCoin(t.rewardInfos[_o].num);
          } else {
            if (2 === t.rewardInfos[_o].type) {
              if ($userDataContext["default"].Ins.addExp(n.num)) {
                t.isUpgrade = !0;
              }
            } else {
              if (3 === t.rewardInfos[_o].type) {
                $userDataContext["default"].Ins.opearEquipBook(n.ext, n.num);
              } else {
                if (4 === t.rewardInfos[_o].type) {
                  $userDataContext["default"].Ins.opearSkillBook(n.ext, n.num);
                } else {
                  if (5 === t.rewardInfos[_o].type) {
                    var s = $configContext["default"].instance.gemConfigs.find(function (t) {
                      return t.id === n.ext;
                    });
                    $roleContext["default"].ins.addPackItem(s, n.num);
                  }
                }
              }
            }
          }
        }
      };

      for (var n = 0; n < t.rewardInfos.length; n++) {
        o(n);
      }

      if (-1 !== i) {
        t.rewardInfos.splice(i, 1);
      }

      $popupManager.PopupManager.instance.open($assetsMap.AssetsMap.PopUpBundles.prefabs.assetsList.RewardView, {
        infos: t.rewardInfos
      });
    });
  };

  e.prototype.renderItem = function (t, e) {
    var i = this.skillIds[e];
    var o = $gameContext["default"].ins.gameStartTime - $gameContext["default"].ins.skillInfo.chooseParentTime.get(i);
    var n = {
      icon: 1 === i ? "jn1_1" : $configContext["default"].instance.skillConfigsMap.get(i).icon,
      skillCount: $gameContext["default"].ins.skillInfo.getChooseParendCount(i),
      skillName: $configContext["default"].instance.basicSkillConfigs.find(function (t) {
        return t.skillmaster_id === i;
      }).name,
      skillHurt: $gameContext["default"].ins.hurtRecord.get(i),
      skillHurtSec: Math.floor($gameContext["default"].ins.hurtRecord.get(i) / o)
    };
    t.getComponent($skillHurtItem["default"]).render(n);
  };

  __decorate([B($list["default"])], e.prototype, "list", void 0);

  __decorate([B(cc.Node)], e.prototype, "successTitle", void 0);

  __decorate([B(cc.Node)], e.prototype, "failTitle", void 0);

  __decorate([B(cc.Node)], e.prototype, "rewardNode", void 0);

  __decorate([B(cc.Node)], e.prototype, "btnAd", void 0);

  return __decorate([R], e);
}($popupView.PopupView);

exports["default"] = x;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcZ2FtZV9zY3JpcHRcXHNjcmlwdHNcXFNldHRsZVZpZXcuanMiXSwibmFtZXMiOlsibyIsIiRhc3NldHNMb2FkZXIiLCJyZXF1aXJlIiwiJGFzc2V0c01hcCIsIiRyZXNVdGlsIiwiJGxpc3QiLCIkcG9wdXBNYW5hZ2VyIiwiJHVJTWFuYWdlciIsIiRwb3B1cFZpZXciLCIkcGxhdGZvcm0iLCIkcmVtb3RlQXVkaW8iLCIkc2VlZFV0aWwiLCIkYUQiLCIkYWRTZXJ2aWNlIiwiJGJhdHRsZUNvbnRleHQiLCIkY29uZmlnQ29udGV4dCIsIiRnbG9iYWxQYXJhbSIsIiRyb2xlQ29udGV4dCIsIiR0YXNrQ29udGV4dCIsIiR1c2VyRGF0YUNvbnRleHQiLCIkZ2FtZUNvbnRleHQiLCIkcmFua1NlcnZpY2UiLCIkc2tpbGxIdXJ0SXRlbSIsIlAiLCJjYyIsIl9kZWNvcmF0b3IiLCJSIiwiY2NjbGFzcyIsIkIiLCJwcm9wZXJ0eSIsIngiLCJ0IiwiZSIsImFwcGx5IiwiYXJndW1lbnRzIiwibGlzdCIsInN1Y2Nlc3NUaXRsZSIsImZhaWxUaXRsZSIsInJld2FyZE5vZGUiLCJidG5BZCIsInNraWxsSWRzIiwicmV3YXJkSW5mb3MiLCJpc1VwZ3JhZGUiLCJfX2V4dGVuZHMiLCJwcm90b3R5cGUiLCJvbkxvYWQiLCJpbnMiLCJodXJ0UmVjb3JkIiwiZm9yRWFjaCIsImkiLCJwdXNoIiwibGVuZ3RoIiwibnVtSXRlbXMiLCJvblJlc2V0VmlldyIsInVpUGFyYW0iLCJwYXJhbSIsImlzU3VjY2VzcyIsImFjdGl2ZSIsIm4iLCJzIiwiciIsImlzUGF1c2UiLCJQbGF0Zm9ybSIsImN1cnJQbGF0Rm9ybSIsIlBsYXRmb3JtRW51bSIsIlRPVV9USUFPIiwiYSIsImhwUHJvY2Nlc3MiLCJ0b3V0aWFvIiwicmVwb3J0IiwibGV2ZWwiLCJJbnMiLCJjdXJyTGV2ZWwiLCJsZXNzdGhhbjUwIiwibW9yZXRoYW41MCIsImZhbGwiLCJwYXNzIiwicGF1c2UiLCJpbnN0YW5jZSIsInBsYXlFZmZlY3RNdXNpYyIsImwiLCJnZXRMYXN0UmVjb3JkIiwic2V0VGFza1JlY29yZCIsInNldFJlY29yZCIsIk1hdGgiLCJmbG9vciIsImdhbWVTdGFydFRpbWUiLCJtaW4iLCJjb3VudExldmVsIiwicmVwb3J0UmFua0RhdGEiLCJSYW5rVHlwZUVudW0iLCJMZXZlbCIsImMiLCJnZXRSZWNvcmQiLCJyZXNCbG9vZCIsInRpbWUiLCJzZXR0bGVSZXdhcmQiLCJyZW5kZXJSZXdhcmQiLCJhZGRFdmVudCIsIm9uIiwiY2xpY2tBZCIsInJlbW92ZUV2ZW50Iiwib2ZmIiwiY2hpbGRyZW4iLCJ0eXBlIiwibG9hZFJlcyIsIkJ1bmRsZU5hbWVzIiwiUHVibGljIiwiU3ByaXRlRnJhbWUiLCJpc1ZhbGlkIiwiZ2V0Q29tcG9uZW50IiwiU3ByaXRlIiwic3ByaXRlRnJhbWUiLCJSZXNVdGlsIiwiYXNzaWduV2l0aCIsIm5vZGUiLCJMYWJlbCIsInN0cmluZyIsIm51bSIsInRvU3RyaW5nIiwib3BlYXJDb2luIiwiYWRkRXhwIiwiUHVibGljX1JlcyIsImV4dCIsIm9wZWFyRXF1aXBCb29rIiwic2tpbGxDb25maWdzIiwiZmluZCIsImlkIiwiaWNvbiIsIm9wZWFyU2tpbGxCb29rIiwiZ2VtQ29uZmlncyIsInBhcnQiLCJHcmFkZSIsImFkZFBhY2tJdGVtIiwidSIsImdldFBsYXllclNraW5JbmZvIiwic2hhcmQiLCJzZXRQbGF5ZXJTS2luSW5mbyIsIm9uQ2xpY2tDbG9zZSIsIlVJTWFuYWdlciIsInJlcGxhY2VWaWV3IiwiQXNzZXRzTWFwIiwiU3RhcnRCdW5kbGVzIiwicHJlZmFicyIsImFzc2V0c0xpc3QiLCJTdGFydFZpZXciLCJzaG93UmV3YXJkZWRWaWRlbyIsInJhbmRvbUZyb20iLCJzcGxpY2UiLCJQb3B1cE1hbmFnZXIiLCJvcGVuIiwiUG9wVXBCdW5kbGVzIiwiUmV3YXJkVmlldyIsImluZm9zIiwicmVuZGVySXRlbSIsInNraWxsSW5mbyIsImNob29zZVBhcmVudFRpbWUiLCJnZXQiLCJza2lsbENvbmZpZ3NNYXAiLCJza2lsbENvdW50IiwiZ2V0Q2hvb3NlUGFyZW5kQ291bnQiLCJza2lsbE5hbWUiLCJiYXNpY1NraWxsQ29uZmlncyIsInNraWxsbWFzdGVyX2lkIiwibmFtZSIsInNraWxsSHVydCIsInNraWxsSHVydFNlYyIsInJlbmRlciIsIl9fZGVjb3JhdGUiLCJOb2RlIiwiUG9wdXBWaWV3IiwiZXhwb3J0cyJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSxJQUFJQSxDQUFKOztBQUNBLElBQUlDLGFBQWEsR0FBR0MsT0FBTyxDQUFDLGdCQUFELENBQTNCOztBQUNBLElBQUlDLFVBQVUsR0FBR0QsT0FBTyxDQUFDLGFBQUQsQ0FBeEI7O0FBQ0EsSUFBSUUsUUFBUSxHQUFHRixPQUFPLENBQUMsV0FBRCxDQUF0Qjs7QUFDQSxJQUFJRyxLQUFLLEdBQUdILE9BQU8sQ0FBQyxRQUFELENBQW5COztBQUNBLElBQUlJLGFBQWEsR0FBR0osT0FBTyxDQUFDLGdCQUFELENBQTNCOztBQUNBLElBQUlLLFVBQVUsR0FBR0wsT0FBTyxDQUFDLGFBQUQsQ0FBeEI7O0FBQ0EsSUFBSU0sVUFBVSxHQUFHTixPQUFPLENBQUMsYUFBRCxDQUF4Qjs7QUFDQSxJQUFJTyxTQUFTLEdBQUdQLE9BQU8sQ0FBQyxZQUFELENBQXZCOztBQUNBLElBQUlRLFlBQVksR0FBR1IsT0FBTyxDQUFDLGVBQUQsQ0FBMUI7O0FBQ0EsSUFBSVMsU0FBUyxHQUFHVCxPQUFPLENBQUMsWUFBRCxDQUF2Qjs7QUFDQSxJQUFJVSxHQUFHLEdBQUdWLE9BQU8sQ0FBQyxNQUFELENBQWpCOztBQUNBLElBQUlXLFVBQVUsR0FBR1gsT0FBTyxDQUFDLGFBQUQsQ0FBeEI7O0FBQ0EsSUFBSVksY0FBYyxHQUFHWixPQUFPLENBQUMsaUJBQUQsQ0FBNUI7O0FBQ0EsSUFBSWEsY0FBYyxHQUFHYixPQUFPLENBQUMsaUJBQUQsQ0FBNUI7O0FBQ0EsSUFBSWMsWUFBWSxHQUFHZCxPQUFPLENBQUMsZUFBRCxDQUExQjs7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RUFBcUMsS0FBSyxDQUExQyxDQUFWOztFQUNBLE9BQU80SCxVQUFVLENBQUMsQ0FBQzlJLENBQUQsQ0FBRCxFQUFNTSxDQUFOLENBQWpCO0FBQ0gsQ0F2VE8sQ0F1VEx4QixVQUFVLENBQUNrSyxTQXZUTixDQUFSOztBQXdUQUMsT0FBTyxXQUFQLEdBQWtCN0ksQ0FBbEIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbInZhciBvO1xyXG52YXIgJGFzc2V0c0xvYWRlciA9IHJlcXVpcmUoXCIuL0Fzc2V0c0xvYWRlclwiKTtcclxudmFyICRhc3NldHNNYXAgPSByZXF1aXJlKFwiLi9Bc3NldHNNYXBcIik7XHJcbnZhciAkcmVzVXRpbCA9IHJlcXVpcmUoXCIuL1Jlc1V0aWxcIik7XHJcbnZhciAkbGlzdCA9IHJlcXVpcmUoXCIuL0xpc3RcIik7XHJcbnZhciAkcG9wdXBNYW5hZ2VyID0gcmVxdWlyZShcIi4vUG9wdXBNYW5hZ2VyXCIpO1xyXG52YXIgJHVJTWFuYWdlciA9IHJlcXVpcmUoXCIuL1VJTWFuYWdlclwiKTtcclxudmFyICRwb3B1cFZpZXcgPSByZXF1aXJlKFwiLi9Qb3B1cFZpZXdcIik7XHJcbnZhciAkcGxhdGZvcm0gPSByZXF1aXJlKFwiLi9QbGF0Zm9ybVwiKTtcclxudmFyICRyZW1vdGVBdWRpbyA9IHJlcXVpcmUoXCIuL1JlbW90ZUF1ZGlvXCIpO1xyXG52YXIgJHNlZWRVdGlsID0gcmVxdWlyZShcIi4vU2VlZFV0aWxcIik7XHJcbnZhciAkYUQgPSByZXF1aXJlKFwiLi9BRFwiKTtcclxudmFyICRhZFNlcnZpY2UgPSByZXF1aXJlKFwiLi9BZFNlcnZpY2VcIik7XHJcbnZhciAkYmF0dGxlQ29udGV4dCA9IHJlcXVpcmUoXCIuL0JhdHRsZUNvbnRleHRcIik7XHJcbnZhciAkY29uZmlnQ29udGV4dCA9IHJlcXVpcmUoXCIuL0NvbmZpZ0NvbnRleHRcIik7XHJcbnZhciAkZ2xvYmFsUGFyYW0gPSByZXF1aXJlKFwiLi9HbG9iYWxQYXJhbVwiKTtcclxudmFyICRyb2xlQ29udGV4dCA9IHJlcXVpcmUoXCIuL1JvbGVDb250ZXh0XCIpO1xyXG52YXIgJHRhc2tDb250ZXh0ID0gcmVxdWlyZShcIi4vVGFza0NvbnRleHRcIik7XHJcbnZhciAkdXNlckRhdGFDb250ZXh0ID0gcmVxdWlyZShcIi4vVXNlckRhdGFDb250ZXh0XCIpO1xyXG52YXIgJGdhbWVDb250ZXh0ID0gcmVxdWlyZShcIi4vR2FtZUNvbnRleHRcIik7XHJcbnZhciAkcmFua1NlcnZpY2UgPSByZXF1aXJlKFwiLi9SYW5rU2VydmljZVwiKTtcclxudmFyICRza2lsbEh1cnRJdGVtID0gcmVxdWlyZShcIi4vU2tpbGxIdXJ0SXRlbVwiKTtcclxudmFyIFAgPSBjYy5fZGVjb3JhdG9yO1xyXG52YXIgUiA9IFAuY2NjbGFzcztcclxudmFyIEIgPSBQLnByb3BlcnR5O1xyXG52YXIgeCA9IChmdW5jdGlvbiAodCkge1xyXG4gICAgZnVuY3Rpb24gZSgpIHtcclxuICAgICAgICB2YXIgZSA9IChudWxsICE9PSB0ICYmIHQuYXBwbHkodGhpcywgYXJndW1lbnRzKSkgfHwgdGhpcztcclxuICAgICAgICBlLmxpc3QgPSBudWxsO1xyXG4gICAgICAgIGUuc3VjY2Vzc1RpdGxlID0gbnVsbDtcclxuICAgICAgICBlLmZhaWxUaXRsZSA9IG51bGw7XHJcbiAgICAgICAgZS5yZXdhcmROb2RlID0gbnVsbDtcclxuICAgICAgICBlLmJ0bkFkID0gbnVsbDtcclxuICAgICAgICBlLnNraWxsSWRzID0gW107XHJcbiAgICAgICAgZS5yZXdhcmRJbmZvcyA9IFtdO1xyXG4gICAgICAgIGUuaXNVcGdyYWRlID0gITE7XHJcbiAgICAgICAgcmV0dXJuIGU7XHJcbiAgICB9XHJcbiAgICBfX2V4dGVuZHMoZSwgdCk7XHJcbiAgICBlLnByb3RvdHlwZS5vbkxvYWQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIHQgPSB0aGlzO1xyXG4gICAgICAgICRnYW1lQ29udGV4dC5kZWZhdWx0Lmlucy5odXJ0UmVjb3JkLmZvckVhY2goZnVuY3Rpb24gKGUsIGkpIHtcclxuICAgICAgICAgICAgdC5za2lsbElkcy5wdXNoKGkpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGlmICgwICE9PSB0aGlzLnNraWxsSWRzLmxlbmd0aCkge1xyXG4gICAgICAgICAgICB0aGlzLmxpc3QubnVtSXRlbXMgPSB0aGlzLnNraWxsSWRzLmxlbmd0aDtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgZS5wcm90b3R5cGUub25SZXNldFZpZXcgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIHQ7XHJcbiAgICAgICAgdmFyIGUgPSB0aGlzLnVpUGFyYW0ucGFyYW0uaXNTdWNjZXNzO1xyXG4gICAgICAgIHRoaXMuc3VjY2Vzc1RpdGxlLmFjdGl2ZSA9IGU7XHJcbiAgICAgICAgdGhpcy5mYWlsVGl0bGUuYWN0aXZlID0gIWU7XHJcbiAgICAgICAgdmFyIGkgPSAwO1xyXG4gICAgICAgIHZhciBvID0gMDtcclxuICAgICAgICB2YXIgbiA9IDA7XHJcbiAgICAgICAgdmFyIHMgPSAwO1xyXG4gICAgICAgIHZhciByID0gMDtcclxuICAgICAgICBpZiAobnVsbCA9PT0gKHQgPSB0aGlzLnVpUGFyYW0ucGFyYW0pIHx8IHZvaWQgMCA9PT0gdCA/IHZvaWQgMCA6IHQuaXNQYXVzZSkge1xyXG4gICAgICAgICAgICByID0gMTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKCRwbGF0Zm9ybS5QbGF0Zm9ybS5jdXJyUGxhdEZvcm0gPT09ICRwbGF0Zm9ybS5QbGF0Zm9ybUVudW0uVE9VX1RJQU8pIHtcclxuICAgICAgICAgICAgdmFyIGEgPSAkZ2FtZUNvbnRleHQuZGVmYXVsdC5pbnMuaHBQcm9jY2VzcygpO1xyXG4gICAgICAgICAgICBpZiAoIWUpIHtcclxuICAgICAgICAgICAgICAgIGEgPSAwO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIG4gPSBlID8gMCA6IDE7XHJcbiAgICAgICAgICAgIHMgPSBhID49IDEgPyAxIDogMDtcclxuICAgICAgICAgICAgaSA9IGEgPCAwLjUgJiYgYSA+IDAgPyAxIDogMDtcclxuICAgICAgICAgICAgbyA9IGEgPj0gMC41ICYmIGEgPCAxID8gMSA6IDA7XHJcbiAgICAgICAgICAgICRhRC5kZWZhdWx0LnRvdXRpYW8ucmVwb3J0KFwiQ2hhbGxlbmdlXCIsIHtcclxuICAgICAgICAgICAgICAgIGxldmVsOiAkYmF0dGxlQ29udGV4dC5kZWZhdWx0Lklucy5jdXJyTGV2ZWwsXHJcbiAgICAgICAgICAgICAgICBsZXNzdGhhbjUwOiBpLFxyXG4gICAgICAgICAgICAgICAgbW9yZXRoYW41MDogbyxcclxuICAgICAgICAgICAgICAgIGZhbGw6IG4sXHJcbiAgICAgICAgICAgICAgICBwYXNzOiBzLFxyXG4gICAgICAgICAgICAgICAgcGF1c2U6IHJcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChlKSB7XHJcbiAgICAgICAgICAgICRyZW1vdGVBdWRpby5kZWZhdWx0Lmluc3RhbmNlLnBsYXlFZmZlY3RNdXNpYyhcIndpblwiKTtcclxuICAgICAgICAgICAgdmFyIGwgPSAkYmF0dGxlQ29udGV4dC5kZWZhdWx0Lklucy5nZXRMYXN0UmVjb3JkKCk7XHJcbiAgICAgICAgICAgIGlmICgkZ2FtZUNvbnRleHQuZGVmYXVsdC5pbnMuaHBQcm9jY2VzcygpID49IDEpIHtcclxuICAgICAgICAgICAgICAgICR0YXNrQ29udGV4dC5kZWZhdWx0Lklucy5zZXRUYXNrUmVjb3JkKDgsIDEpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICRiYXR0bGVDb250ZXh0LmRlZmF1bHQuSW5zLnNldFJlY29yZChcclxuICAgICAgICAgICAgICAgICRiYXR0bGVDb250ZXh0LmRlZmF1bHQuSW5zLmN1cnJMZXZlbCxcclxuICAgICAgICAgICAgICAgICRnYW1lQ29udGV4dC5kZWZhdWx0Lmlucy5ocFByb2NjZXNzKCksXHJcbiAgICAgICAgICAgICAgICBNYXRoLmZsb29yKCRnYW1lQ29udGV4dC5kZWZhdWx0Lmlucy5nYW1lU3RhcnRUaW1lKVxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgICAgICBpZiAobC5sZXZlbCA8ICRiYXR0bGVDb250ZXh0LmRlZmF1bHQuSW5zLmN1cnJMZXZlbCkge1xyXG4gICAgICAgICAgICAgICAgJGJhdHRsZUNvbnRleHQuZGVmYXVsdC5JbnMuY3VyckxldmVsKys7XHJcbiAgICAgICAgICAgICAgICAkYmF0dGxlQ29udGV4dC5kZWZhdWx0Lklucy5jdXJyTGV2ZWwgPSBNYXRoLm1pbihcclxuICAgICAgICAgICAgICAgICAgICAkZ2xvYmFsUGFyYW0uZGVmYXVsdC5jb3VudExldmVsLFxyXG4gICAgICAgICAgICAgICAgICAgICRiYXR0bGVDb250ZXh0LmRlZmF1bHQuSW5zLmN1cnJMZXZlbFxyXG4gICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgICAgICRyYW5rU2VydmljZS5kZWZhdWx0Lmluc3RhbmNlLnJlcG9ydFJhbmtEYXRhKCRyYW5rU2VydmljZS5SYW5rVHlwZUVudW0uTGV2ZWwpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgJHJlbW90ZUF1ZGlvLmRlZmF1bHQuaW5zdGFuY2UucGxheUVmZmVjdE11c2ljKFwiZmFpbFwiKTtcclxuICAgICAgICAgICAgdmFyIGMgPSAkYmF0dGxlQ29udGV4dC5kZWZhdWx0Lklucy5nZXRSZWNvcmQoJGJhdHRsZUNvbnRleHQuZGVmYXVsdC5JbnMuY3VyckxldmVsKTtcclxuICAgICAgICAgICAgaWYgKC0xID09PSBjLnJlc0Jsb29kICYmIGMudGltZSA8IE1hdGguZmxvb3IoJGdhbWVDb250ZXh0LmRlZmF1bHQuaW5zLmdhbWVTdGFydFRpbWUpKSB7XHJcbiAgICAgICAgICAgICAgICAkYmF0dGxlQ29udGV4dC5kZWZhdWx0Lklucy5zZXRSZWNvcmQoXHJcbiAgICAgICAgICAgICAgICAgICAgJGJhdHRsZUNvbnRleHQuZGVmYXVsdC5JbnMuY3VyckxldmVsLFxyXG4gICAgICAgICAgICAgICAgICAgIC0xLFxyXG4gICAgICAgICAgICAgICAgICAgIE1hdGguZmxvb3IoJGdhbWVDb250ZXh0LmRlZmF1bHQuaW5zLmdhbWVTdGFydFRpbWUpXHJcbiAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMucmV3YXJkSW5mb3MgPSAkZ2FtZUNvbnRleHQuZGVmYXVsdC5pbnMuc2V0dGxlUmV3YXJkKGUpO1xyXG4gICAgICAgIHRoaXMucmVuZGVyUmV3YXJkKCk7XHJcbiAgICB9O1xyXG4gICAgZS5wcm90b3R5cGUuYWRkRXZlbnQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdGhpcy5idG5BZC5vbihcImNsaWNrXCIsIHRoaXMuY2xpY2tBZCwgdGhpcyk7XHJcbiAgICB9O1xyXG4gICAgZS5wcm90b3R5cGUucmVtb3ZlRXZlbnQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdGhpcy5idG5BZC5vZmYoXCJjbGlja1wiLCB0aGlzLmNsaWNrQWQsIHRoaXMpO1xyXG4gICAgfTtcclxuICAgIGUucHJvdG90eXBlLnJlbmRlclJld2FyZCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgdCA9IHRoaXM7XHJcbiAgICAgICAgdGhpcy5yZXdhcmROb2RlLmNoaWxkcmVuLmZvckVhY2goZnVuY3Rpb24gKHQpIHtcclxuICAgICAgICAgICAgcmV0dXJuICh0LmFjdGl2ZSA9ICExKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICB2YXIgZSA9IGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgICAgIHZhciBvID0gaS5yZXdhcmROb2RlLmNoaWxkcmVuW2VdO1xyXG4gICAgICAgICAgICBvLmFjdGl2ZSA9ICEwO1xyXG4gICAgICAgICAgICB2YXIgbiA9IGkucmV3YXJkSW5mb3NbZV07XHJcbiAgICAgICAgICAgIGlmICgxID09PSBuLnR5cGUpIHtcclxuICAgICAgICAgICAgICAgICRhc3NldHNMb2FkZXIuZGVmYXVsdC5pbnN0YW5jZS5sb2FkUmVzKFxyXG4gICAgICAgICAgICAgICAgICAgICRhc3NldHNNYXAuQnVuZGxlTmFtZXMuUHVibGljLFxyXG4gICAgICAgICAgICAgICAgICAgIFtcIi90ZXh0dXJlcy9nZW0vamluYmlcIl0sXHJcbiAgICAgICAgICAgICAgICAgICAgY2MuU3ByaXRlRnJhbWUsXHJcbiAgICAgICAgICAgICAgICAgICAgbnVsbCxcclxuICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiAoZSwgaSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgcyA9IGlbMF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzICYmIGNjLmlzVmFsaWQobykpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG8uY2hpbGRyZW5bMF0uZ2V0Q29tcG9uZW50KGNjLlNwcml0ZSkuc3ByaXRlRnJhbWUgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgby5jaGlsZHJlblsxXS5nZXRDb21wb25lbnQoY2MuU3ByaXRlKS5zcHJpdGVGcmFtZSA9ICRyZXNVdGlsLlJlc1V0aWwuYXNzaWduV2l0aChzLCB0Lm5vZGUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgby5jaGlsZHJlblsyXS5nZXRDb21wb25lbnQoY2MuTGFiZWwpLnN0cmluZyA9IG4ubnVtLnRvU3RyaW5nKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgICAgJHVzZXJEYXRhQ29udGV4dC5kZWZhdWx0Lklucy5vcGVhckNvaW4obi5udW0pO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgaWYgKDIgPT09IG4udHlwZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICRhc3NldHNMb2FkZXIuZGVmYXVsdC5pbnN0YW5jZS5sb2FkUmVzKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAkYXNzZXRzTWFwLkJ1bmRsZU5hbWVzLlB1YmxpYyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgW1wiL3RleHR1cmVzL2dlbS9leHBcIl0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNjLlNwcml0ZUZyYW1lLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBudWxsLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiAoZSwgaSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHMgPSBpWzBdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHMgJiYgY2MuaXNWYWxpZChvKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG8uY2hpbGRyZW5bMF0uZ2V0Q29tcG9uZW50KGNjLlNwcml0ZSkuc3ByaXRlRnJhbWUgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG8uY2hpbGRyZW5bMV0uZ2V0Q29tcG9uZW50KGNjLlNwcml0ZSkuc3ByaXRlRnJhbWUgPSAkcmVzVXRpbC5SZXNVdGlsLmFzc2lnbldpdGgoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHMsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHQubm9kZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgby5jaGlsZHJlblsyXS5nZXRDb21wb25lbnQoY2MuTGFiZWwpLnN0cmluZyA9IG4ubnVtLnRvU3RyaW5nKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgICAgICAgICR1c2VyRGF0YUNvbnRleHQuZGVmYXVsdC5JbnMuYWRkRXhwKG4ubnVtKSAmJiAoaS5pc1VwZ3JhZGUgPSAhMCk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICgzID09PSBuLnR5cGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJGFzc2V0c0xvYWRlci5kZWZhdWx0Lmluc3RhbmNlLmxvYWRSZXMoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkYXNzZXRzTWFwLkJ1bmRsZU5hbWVzLlB1YmxpY19SZXMsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBbXCIvZXF1aXBtZW50X2ljb24vemJcIiArIG4uZXh0XSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNjLlNwcml0ZUZyYW1lLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbnVsbCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uIChlLCBpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHMgPSBpWzBdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzICYmIGNjLmlzVmFsaWQobykpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgby5jaGlsZHJlblswXS5nZXRDb21wb25lbnQoY2MuU3ByaXRlKS5zcHJpdGVGcmFtZSA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG8uY2hpbGRyZW5bMV0uZ2V0Q29tcG9uZW50KGNjLlNwcml0ZSkuc3ByaXRlRnJhbWUgPSAkcmVzVXRpbC5SZXNVdGlsLmFzc2lnbldpdGgoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdC5ub2RlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG8uY2hpbGRyZW5bMl0uZ2V0Q29tcG9uZW50KGNjLkxhYmVsKS5zdHJpbmcgPSBuLm51bS50b1N0cmluZygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHVzZXJEYXRhQ29udGV4dC5kZWZhdWx0Lklucy5vcGVhckVxdWlwQm9vayhuLmV4dCwgbi5udW0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICg0ID09PSBuLnR5cGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzID0gJGNvbmZpZ0NvbnRleHQuZGVmYXVsdC5pbnN0YW5jZS5za2lsbENvbmZpZ3MuZmluZChmdW5jdGlvbiAodCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0LmlkID09PSBuLmV4dDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJGFzc2V0c0xvYWRlci5kZWZhdWx0Lmluc3RhbmNlLmxvYWRSZXMoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJGFzc2V0c01hcC5CdW5kbGVOYW1lcy5QdWJsaWNfUmVzLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFtcIi9za2lsbF9ib29rL1wiICsgcy5pY29uXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYy5TcHJpdGVGcmFtZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBudWxsLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uIChlLCBpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzID0gaVswXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHMgJiYgY2MuaXNWYWxpZChvKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgby5jaGlsZHJlblswXS5nZXRDb21wb25lbnQoY2MuU3ByaXRlKS5zcHJpdGVGcmFtZSA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvLmNoaWxkcmVuWzFdLmdldENvbXBvbmVudChjYy5TcHJpdGUpLnNwcml0ZUZyYW1lID0gJHJlc1V0aWwuUmVzVXRpbC5hc3NpZ25XaXRoKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHMsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdC5ub2RlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgby5jaGlsZHJlblsyXS5nZXRDb21wb25lbnQoY2MuTGFiZWwpLnN0cmluZyA9IG4ubnVtLnRvU3RyaW5nKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHVzZXJEYXRhQ29udGV4dC5kZWZhdWx0Lklucy5vcGVhclNraWxsQm9vayhuLmV4dCwgbi5udW0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKDUgPT09IG4udHlwZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjID0gJGNvbmZpZ0NvbnRleHQuZGVmYXVsdC5pbnN0YW5jZS5nZW1Db25maWdzLmZpbmQoZnVuY3Rpb24gKHQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHQuaWQgPT09IG4uZXh0O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRhc3NldHNMb2FkZXIuZGVmYXVsdC5pbnN0YW5jZS5sb2FkUmVzKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkYXNzZXRzTWFwLkJ1bmRsZU5hbWVzLlB1YmxpYyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgW1wiL3RleHR1cmVzL2dlbS9nXCIgKyBjLnBhcnQgKyBcIl9cIiArIGMuR3JhZGUsIFwiL3RleHR1cmVzL2dlbS9rXCIgKyBjLkdyYWRlXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2MuU3ByaXRlRnJhbWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG51bGwsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uIChlLCBpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcyA9IGlbMF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocyAmJiBjYy5pc1ZhbGlkKG8pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgby5jaGlsZHJlblswXS5nZXRDb21wb25lbnQoY2MuU3ByaXRlKS5zcHJpdGVGcmFtZSA9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRyZXNVdGlsLlJlc1V0aWwuYXNzaWduV2l0aChpWzFdLCB0Lm5vZGUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG8uY2hpbGRyZW5bMV0uZ2V0Q29tcG9uZW50KGNjLlNwcml0ZSkuc3ByaXRlRnJhbWUgPVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkcmVzVXRpbC5SZXNVdGlsLmFzc2lnbldpdGgocywgdC5ub2RlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvLmNoaWxkcmVuWzJdLmdldENvbXBvbmVudChjYy5MYWJlbCkuc3RyaW5nID0gbi5udW0udG9TdHJpbmcoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHJvbGVDb250ZXh0LmRlZmF1bHQuaW5zLmFkZFBhY2tJdGVtKGMsIG4ubnVtKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKDkgPT09IG4udHlwZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkYXNzZXRzTG9hZGVyLmRlZmF1bHQuaW5zdGFuY2UubG9hZFJlcyhcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRhc3NldHNNYXAuQnVuZGxlTmFtZXMuUHVibGljX1JlcyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFtcIi9yb2xlX3NoYXJkL3NwXCIgKyBuLmV4dF0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYy5TcHJpdGVGcmFtZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG51bGwsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiAoZSwgaSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzID0gaVswXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocyAmJiBjYy5pc1ZhbGlkKG8pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG8uY2hpbGRyZW5bMV0uZ2V0Q29tcG9uZW50KGNjLlNwcml0ZSkuc3ByaXRlRnJhbWUgPVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHJlc1V0aWwuUmVzVXRpbC5hc3NpZ25XaXRoKHMsIHQubm9kZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG8uY2hpbGRyZW5bMl0uZ2V0Q29tcG9uZW50KGNjLkxhYmVsKS5zdHJpbmcgPSBuLm51bS50b1N0cmluZygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHUgPSAkcm9sZUNvbnRleHQuZGVmYXVsdC5pbnMuZ2V0UGxheWVyU2tpbkluZm8oMik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHUuc2hhcmQgKz0gMTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHJvbGVDb250ZXh0LmRlZmF1bHQuaW5zLnNldFBsYXllclNLaW5JbmZvKHUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgdmFyIGkgPSB0aGlzO1xyXG4gICAgICAgIGZvciAodmFyIG8gPSAwOyBvIDwgdGhpcy5yZXdhcmRJbmZvcy5sZW5ndGg7IG8rKykge1xyXG4gICAgICAgICAgICBlKG8pO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBlLnByb3RvdHlwZS5vbkNsaWNrQ2xvc2UgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgJHVJTWFuYWdlci5VSU1hbmFnZXIuaW5zdGFuY2UucmVwbGFjZVZpZXcoJGFzc2V0c01hcC5Bc3NldHNNYXAuU3RhcnRCdW5kbGVzLnByZWZhYnMuYXNzZXRzTGlzdC5TdGFydFZpZXcsIHtcclxuICAgICAgICAgICAgaXNVcGdyYWRlOiB0aGlzLmlzVXBncmFkZVxyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIGUucHJvdG90eXBlLmNsaWNrQWQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIHQgPSB0aGlzO1xyXG4gICAgICAgICRhZFNlcnZpY2UuZGVmYXVsdC5JbnMuc2hvd1Jld2FyZGVkVmlkZW8oZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBpZiAoJHBsYXRmb3JtLlBsYXRmb3JtLmN1cnJQbGF0Rm9ybSA9PT0gJHBsYXRmb3JtLlBsYXRmb3JtRW51bS5UT1VfVElBTykge1xyXG4gICAgICAgICAgICAgICAgJGFELmRlZmF1bHQudG91dGlhby5yZXBvcnQoXCJFbmRpbmdfZG91YmxlXCIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHQuYnRuQWQuYWN0aXZlID0gITE7XHJcbiAgICAgICAgICAgIHZhciBlID0gJHNlZWRVdGlsLmRlZmF1bHQucmFuZG9tRnJvbSgyLCAzKTtcclxuICAgICAgICAgICAgdmFyIGkgPSAtMTtcclxuICAgICAgICAgICAgdmFyIG8gPSBmdW5jdGlvbiAobykge1xyXG4gICAgICAgICAgICAgICAgdC5yZXdhcmRJbmZvc1tvXS5udW0gKj0gZTtcclxuICAgICAgICAgICAgICAgIHZhciBuID0gdC5yZXdhcmRJbmZvc1tvXTtcclxuICAgICAgICAgICAgICAgIGlmICg5ID09PSBuLnR5cGUpIHtcclxuICAgICAgICAgICAgICAgICAgICBpID0gbztcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKDEgPT09IHQucmV3YXJkSW5mb3Nbb10udHlwZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkdXNlckRhdGFDb250ZXh0LmRlZmF1bHQuSW5zLm9wZWFyQ29pbih0LnJld2FyZEluZm9zW29dLm51bSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKDIgPT09IHQucmV3YXJkSW5mb3Nbb10udHlwZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCR1c2VyRGF0YUNvbnRleHQuZGVmYXVsdC5JbnMuYWRkRXhwKG4ubnVtKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHQuaXNVcGdyYWRlID0gITA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoMyA9PT0gdC5yZXdhcmRJbmZvc1tvXS50eXBlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHVzZXJEYXRhQ29udGV4dC5kZWZhdWx0Lklucy5vcGVhckVxdWlwQm9vayhuLmV4dCwgbi5udW0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoNCA9PT0gdC5yZXdhcmRJbmZvc1tvXS50eXBlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICR1c2VyRGF0YUNvbnRleHQuZGVmYXVsdC5JbnMub3BlYXJTa2lsbEJvb2sobi5leHQsIG4ubnVtKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoNSA9PT0gdC5yZXdhcmRJbmZvc1tvXS50eXBlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcyA9ICRjb25maWdDb250ZXh0LmRlZmF1bHQuaW5zdGFuY2UuZ2VtQ29uZmlncy5maW5kKGZ1bmN0aW9uICh0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHQuaWQgPT09IG4uZXh0O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkcm9sZUNvbnRleHQuZGVmYXVsdC5pbnMuYWRkUGFja0l0ZW0ocywgbi5udW0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICBmb3IgKHZhciBuID0gMDsgbiA8IHQucmV3YXJkSW5mb3MubGVuZ3RoOyBuKyspIHtcclxuICAgICAgICAgICAgICAgIG8obik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKC0xICE9PSBpKSB7XHJcbiAgICAgICAgICAgICAgICB0LnJld2FyZEluZm9zLnNwbGljZShpLCAxKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAkcG9wdXBNYW5hZ2VyLlBvcHVwTWFuYWdlci5pbnN0YW5jZS5vcGVuKCRhc3NldHNNYXAuQXNzZXRzTWFwLlBvcFVwQnVuZGxlcy5wcmVmYWJzLmFzc2V0c0xpc3QuUmV3YXJkVmlldywge1xyXG4gICAgICAgICAgICAgICAgaW5mb3M6IHQucmV3YXJkSW5mb3NcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG4gICAgZS5wcm90b3R5cGUucmVuZGVySXRlbSA9IGZ1bmN0aW9uICh0LCBlKSB7XHJcbiAgICAgICAgdmFyIGkgPSB0aGlzLnNraWxsSWRzW2VdO1xyXG4gICAgICAgIHZhciBvID0gJGdhbWVDb250ZXh0LmRlZmF1bHQuaW5zLmdhbWVTdGFydFRpbWUgLSAkZ2FtZUNvbnRleHQuZGVmYXVsdC5pbnMuc2tpbGxJbmZvLmNob29zZVBhcmVudFRpbWUuZ2V0KGkpO1xyXG4gICAgICAgIHZhciBuID0ge1xyXG4gICAgICAgICAgICBpY29uOiAxID09PSBpID8gXCJqbjFfMVwiIDogJGNvbmZpZ0NvbnRleHQuZGVmYXVsdC5pbnN0YW5jZS5za2lsbENvbmZpZ3NNYXAuZ2V0KGkpLmljb24sXHJcbiAgICAgICAgICAgIHNraWxsQ291bnQ6ICRnYW1lQ29udGV4dC5kZWZhdWx0Lmlucy5za2lsbEluZm8uZ2V0Q2hvb3NlUGFyZW5kQ291bnQoaSksXHJcbiAgICAgICAgICAgIHNraWxsTmFtZTogJGNvbmZpZ0NvbnRleHQuZGVmYXVsdC5pbnN0YW5jZS5iYXNpY1NraWxsQ29uZmlncy5maW5kKGZ1bmN0aW9uICh0KSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdC5za2lsbG1hc3Rlcl9pZCA9PT0gaTtcclxuICAgICAgICAgICAgfSkubmFtZSxcclxuICAgICAgICAgICAgc2tpbGxIdXJ0OiAkZ2FtZUNvbnRleHQuZGVmYXVsdC5pbnMuaHVydFJlY29yZC5nZXQoaSksXHJcbiAgICAgICAgICAgIHNraWxsSHVydFNlYzogTWF0aC5mbG9vcigkZ2FtZUNvbnRleHQuZGVmYXVsdC5pbnMuaHVydFJlY29yZC5nZXQoaSkgLyBvKVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgdC5nZXRDb21wb25lbnQoJHNraWxsSHVydEl0ZW0uZGVmYXVsdCkucmVuZGVyKG4pO1xyXG4gICAgfTtcclxuICAgIF9fZGVjb3JhdGUoW0IoJGxpc3QuZGVmYXVsdCldLCBlLnByb3RvdHlwZSwgXCJsaXN0XCIsIHZvaWQgMCk7XHJcbiAgICBfX2RlY29yYXRlKFtCKGNjLk5vZGUpXSwgZS5wcm90b3R5cGUsIFwic3VjY2Vzc1RpdGxlXCIsIHZvaWQgMCk7XHJcbiAgICBfX2RlY29yYXRlKFtCKGNjLk5vZGUpXSwgZS5wcm90b3R5cGUsIFwiZmFpbFRpdGxlXCIsIHZvaWQgMCk7XHJcbiAgICBfX2RlY29yYXRlKFtCKGNjLk5vZGUpXSwgZS5wcm90b3R5cGUsIFwicmV3YXJkTm9kZVwiLCB2b2lkIDApO1xyXG4gICAgX19kZWNvcmF0ZShbQihjYy5Ob2RlKV0sIGUucHJvdG90eXBlLCBcImJ0bkFkXCIsIHZvaWQgMCk7XHJcbiAgICByZXR1cm4gX19kZWNvcmF0ZShbUl0sIGUpO1xyXG59KSgkcG9wdXBWaWV3LlBvcHVwVmlldyk7XHJcbmV4cG9ydHMuZGVmYXVsdCA9IHg7XHJcbiJdfQ==