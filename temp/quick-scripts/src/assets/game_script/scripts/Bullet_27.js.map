{"version":3,"sources":["assets\\game_script\\scripts\\Bullet_27.js"],"names":["o","$object","require","$remoteAudio","$baseBullet","c","cc","_decorator","u","ccclass","d","property","t","e","apply","arguments","buttleType","BulletType","oil_burn_area_boom","attackedEnemy","Set","__extends","prototype","initButtle","i","call","skillParam","oilBurnAreaBoomRange","setScale","v3","atk","oilBurnAreaBoomAtk","setAnimation","node","children","getComponent","Animation","instance","playEffectMusicRestrict","play","once","EventType","FINISHED","removeSelf","onTrigger","isUse","Trigger","enter","stay","object","has","add","sufferAtk","id","skillId","skillSpecialitys","updateFrame","__decorate","exports"],"mappings":";;;;;;AAAA,IAAIA,CAAJ;;AACA,IAAIC,OAAO,GAAGC,OAAO,CAAC,UAAD,CAArB;;AACA,IAAIC,YAAY,GAAGD,OAAO,CAAC,eAAD,CAA1B;;AACA,IAAIE,WAAW,GAAGF,OAAO,CAAC,cAAD,CAAzB;;AACA,IAAIG,CAAC,GAAGC,EAAE,CAACC,UAAX;AACA,IAAIC,CAAC,GAAGH,CAAC,CAACI,OAAV;AACA,IAAIC,CAAC,IACAL,CAAC,CAACM,QAAF,EACA,UAAUC,CAAV,EAAa;EACV,SAASC,CAAT,GAAa;IACT,IAAIA,CAAC,GAAI,SAASD,CAAT,IAAcA,CAAC,CAACE,KAAF,CAAQ,IAAR,EAAcC,SAAd,CAAf,IAA4C,IAApD;IACAF,CAAC,CAACG,UAAF,GAAeZ,WAAW,CAACa,UAAZ,CAAuBC,kBAAtC;IACAL,CAAC,CAACM,aAAF,GAAkB,IAAIC,GAAJ,EAAlB;IACA,OAAOP,CAAP;EACH;;EACDQ,SAAS,CAACR,CAAD,EAAID,CAAJ,CAAT;;EACAC,CAAC,CAACS,SAAF,CAAYC,UAAZ,GAAyB,UAAUV,CAAV,EAAaW,CAAb,EAAgB;IACrCZ,CAAC,CAACU,SAAF,CAAYC,UAAZ,CAAuBE,IAAvB,CAA4B,IAA5B,EAAkCZ,CAAlC,EAAqCW,CAArC;IACA,IAAIxB,CAAC,GAAG,KAAK0B,UAAL,CAAgBC,oBAAxB;IACA,KAAKC,QAAL,CAActB,EAAE,CAACuB,EAAH,CAAM7B,CAAN,EAASA,CAAT,CAAd;IACA,KAAK8B,GAAL,GAAW,KAAKJ,UAAL,CAAgBK,kBAA3B;EACH,CALD;;EAMAlB,CAAC,CAACS,SAAF,CAAYU,YAAZ,GAA2B,YAAY;IACnC,IAAIpB,CAAC,GAAG,IAAR;IACA,IAAIC,CAAC,GAAG,KAAKoB,IAAL,CAAUC,QAAV,CAAmB,CAAnB,EAAsBC,YAAtB,CAAmC7B,EAAE,CAAC8B,SAAtC,CAAR;IACAjC,YAAY,WAAZ,CAAqBkC,QAArB,CAA8BC,uBAA9B,CAAsD,MAAtD,EAA8D,GAA9D;IACAzB,CAAC,CAAC0B,IAAF,CAAO,UAAP;IACA1B,CAAC,CAAC2B,IAAF,CACIlC,EAAE,CAAC8B,SAAH,CAAaK,SAAb,CAAuBC,QAD3B,EAEI,YAAY;MACR9B,CAAC,CAAC+B,UAAF;IACH,CAJL,EAKI,IALJ;EAOH,CAZD;;EAaA9B,CAAC,CAACS,SAAF,CAAYsB,SAAZ,GAAwB,UAAUhC,CAAV,EAAaC,CAAb,EAAgB;IACpC,IAAI,CAAC,KAAKgC,KAAN,KAAgBhC,CAAC,IAAIZ,OAAO,CAAC6C,OAAR,CAAgBC,KAArB,IAA8BlC,CAAC,IAAIZ,OAAO,CAAC6C,OAAR,CAAgBE,IAAnE,CAAJ,EAA8E;MAC1E,IAAIxB,CAAC,GAAGZ,CAAC,CAACqC,MAAV;;MACA,IAAI,KAAK9B,aAAL,CAAmB+B,GAAnB,CAAuB1B,CAAvB,CAAJ,EAA+B;QAC3B;MACH;;MACD,KAAKL,aAAL,CAAmBgC,GAAnB,CAAuB3B,CAAvB;MACAA,CAAC,CAAC4B,SAAF,CAAY;QACRC,EAAE,EAAE,KAAKC,OADD;QAERC,gBAAgB,EAAE,KAAKA,gBAFf;QAGRzB,GAAG,EAAE,KAAKA;MAHF,CAAZ;IAKH;EACJ,CAbD;;EAcAjB,CAAC,CAACS,SAAF,CAAYkC,WAAZ,GAA0B,YAAY,CAAE,CAAxC;;EACA,OAAOC,UAAU,CAAC,CAACjD,CAAD,CAAD,EAAMK,CAAN,CAAjB;AACH,CA3CD,CA2CGT,WAAW,WA3Cd,CAFC,CAAL;AA8CAsD,OAAO,WAAP,GAAkBhD,CAAlB","sourceRoot":"/","sourcesContent":["var o;\r\nvar $object = require(\"./Object\");\r\nvar $remoteAudio = require(\"./RemoteAudio\");\r\nvar $baseBullet = require(\"./BaseBullet\");\r\nvar c = cc._decorator;\r\nvar u = c.ccclass;\r\nvar d =\r\n    (c.property,\r\n    (function (t) {\r\n        function e() {\r\n            var e = (null !== t && t.apply(this, arguments)) || this;\r\n            e.buttleType = $baseBullet.BulletType.oil_burn_area_boom;\r\n            e.attackedEnemy = new Set();\r\n            return e;\r\n        }\r\n        __extends(e, t);\r\n        e.prototype.initButtle = function (e, i) {\r\n            t.prototype.initButtle.call(this, e, i);\r\n            var o = this.skillParam.oilBurnAreaBoomRange;\r\n            this.setScale(cc.v3(o, o));\r\n            this.atk = this.skillParam.oilBurnAreaBoomAtk;\r\n        };\r\n        e.prototype.setAnimation = function () {\r\n            var t = this;\r\n            var e = this.node.children[0].getComponent(cc.Animation);\r\n            $remoteAudio.default.instance.playEffectMusicRestrict(\"boom\", 0.3);\r\n            e.play(\"buttle_5\");\r\n            e.once(\r\n                cc.Animation.EventType.FINISHED,\r\n                function () {\r\n                    t.removeSelf();\r\n                },\r\n                this\r\n            );\r\n        };\r\n        e.prototype.onTrigger = function (t, e) {\r\n            if (!this.isUse && (e == $object.Trigger.enter || e == $object.Trigger.stay)) {\r\n                var i = t.object;\r\n                if (this.attackedEnemy.has(i)) {\r\n                    return;\r\n                }\r\n                this.attackedEnemy.add(i);\r\n                i.sufferAtk({\r\n                    id: this.skillId,\r\n                    skillSpecialitys: this.skillSpecialitys,\r\n                    atk: this.atk\r\n                });\r\n            }\r\n        };\r\n        e.prototype.updateFrame = function () {};\r\n        return __decorate([u], e);\r\n    })($baseBullet.default));\r\nexports.default = d;\r\n"]}