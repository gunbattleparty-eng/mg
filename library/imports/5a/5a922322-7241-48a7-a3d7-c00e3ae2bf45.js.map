{"version":3,"sources":["assets\\game_script\\scripts\\GunShopItem.js"],"names":["o","$assetsLoader","require","$assetsMap","$resUtil","$listItem","$roleContext","d","cc","_decorator","p","ccclass","f","property","h","t","e","apply","arguments","usedBox","skin","unlockBox","redDot","gunSKinId","__extends","prototype","render","id","i","ins","currSkinInfo","getGunSkinInfo","active","gun","isHave","instance","loadRes","BundleNames","Public_Res","SpriteFrame","isValid","spriteFrame","ResUtil","assignWith","node","shard","shard_num","__decorate","Node","Sprite","exports"],"mappings":"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","sourceRoot":"/","sourcesContent":["var o;\r\nvar $assetsLoader = require(\"./AssetsLoader\");\r\nvar $assetsMap = require(\"./AssetsMap\");\r\nvar $resUtil = require(\"./ResUtil\");\r\nvar $listItem = require(\"./ListItem\");\r\nvar $roleContext = require(\"./RoleContext\");\r\nvar d = cc._decorator;\r\nvar p = d.ccclass;\r\nvar f = d.property;\r\nvar h = (function (t) {\r\n    function e() {\r\n        var e = (null !== t && t.apply(this, arguments)) || this;\r\n        e.usedBox = null;\r\n        e.skin = null;\r\n        e.unlockBox = null;\r\n        e.redDot = null;\r\n        e.gunSKinId = -1;\r\n        return e;\r\n    }\r\n    __extends(e, t);\r\n    e.prototype.render = function (t) {\r\n        var e = this;\r\n        this.gunSKinId = t.id;\r\n        var i = $roleContext.default.ins.currSkinInfo;\r\n        var o = $roleContext.default.ins.getGunSkinInfo(t.id);\r\n        this.usedBox.active = t.id === i.gun;\r\n        this.unlockBox.active = !o.isHave;\r\n        $assetsLoader.default.instance.loadRes(\r\n            $assetsMap.BundleNames.Public_Res,\r\n            [\"/gun_icon/q\" + t.id],\r\n            cc.SpriteFrame,\r\n            null,\r\n            function (t, i) {\r\n                var o = i[0];\r\n                if (o && cc.isValid(e.skin)) {\r\n                    e.skin.spriteFrame = $resUtil.ResUtil.assignWith(o, e.node);\r\n                }\r\n            }\r\n        );\r\n        this.redDot.active = !o.isHave && o.shard >= t.shard_num;\r\n    };\r\n    __decorate([f(cc.Node)], e.prototype, \"usedBox\", void 0);\r\n    __decorate([f(cc.Sprite)], e.prototype, \"skin\", void 0);\r\n    __decorate([f(cc.Node)], e.prototype, \"unlockBox\", void 0);\r\n    __decorate([f(cc.Node)], e.prototype, \"redDot\", void 0);\r\n    return __decorate([p], e);\r\n})($listItem.default);\r\nexports.default = h;\r\n"]}