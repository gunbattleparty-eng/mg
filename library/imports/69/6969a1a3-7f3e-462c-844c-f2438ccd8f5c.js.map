{"version":3,"sources":["assets\\game_script\\scripts\\BulletSkill.js"],"names":["o","exports","BulletSkill","$skillContext","require","$gameSkillInfo","a","t","e","apply","arguments","isBulletBoom","bulletBoomAtk","bulletBoomRange","bulletCount","bulletComboCount","bulletParallelCount","bulletPenetrateLayer","bulletSpeed","isOpenbulletSplit","splitAtk","isFirebullet","firebulletTime","firebulletAtk","bulletFreezeProbability","bulletFreezeTime","bulletSuffFreezeAdd","isCloseComboAtk","isCloseParallelAtk","isDoubleBullet","__extends","prototype","chooseSkill","id","skillAtk","Skill4Param","BASIC","Ins","getSKillAtk","skillAtkRange","add_sx","skillCD","getSkillCD","caculateFinal","updateAndCalculate","ADD","DEC","getBasicAtk","toString","call","BaseSkill"],"mappings":"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","sourceRoot":"/","sourcesContent":["var o;\r\nexports.BulletSkill = void 0;\r\nvar $skillContext = require(\"./SkillContext\");\r\nvar $gameSkillInfo = require(\"./GameSkillInfo\");\r\nvar a = (function (t) {\r\n    function e() {\r\n        var e = (null !== t && t.apply(this, arguments)) || this;\r\n        e.isBulletBoom = !1;\r\n        e.bulletBoomAtk = [0, 0, 0, 1];\r\n        e.bulletBoomRange = 0.5;\r\n        e.bulletCount = 0;\r\n        e.bulletComboCount = 0;\r\n        e.bulletParallelCount = 0;\r\n        e.bulletPenetrateLayer = 1;\r\n        e.bulletSpeed = 0;\r\n        e.isOpenbulletSplit = !1;\r\n        e.splitAtk = [0, 0, 0, 1];\r\n        e.isFirebullet = !1;\r\n        e.firebulletTime = 0;\r\n        e.firebulletAtk = [0, 0, 0, 1];\r\n        e.bulletFreezeProbability = 0;\r\n        e.bulletFreezeTime = 0;\r\n        e.bulletSuffFreezeAdd = 0;\r\n        e.isCloseComboAtk = !1;\r\n        e.isCloseParallelAtk = !1;\r\n        e.isDoubleBullet = !1;\r\n        return e;\r\n    }\r\n    __extends(e, t);\r\n    e.prototype.chooseSkill = function (t) {\r\n        1 === t.id\r\n            ? ((this.skillAtk[$gameSkillInfo.Skill4Param.BASIC] = $skillContext.default.Ins.getSKillAtk(t)),\r\n              (this.skillAtkRange[$gameSkillInfo.Skill4Param.BASIC] = t.add_sx[0]),\r\n              (this.skillCD[$gameSkillInfo.Skill4Param.BASIC] = $skillContext.default.Ins.getSkillCD(t)),\r\n              (this.bulletCount += t.add_sx[3]),\r\n              (this.bulletSpeed += t.add_sx[4]),\r\n              this.caculateFinal(this.skillAtkRange),\r\n              this.caculateFinal(this.skillCD, !1),\r\n              this.caculateFinal(this.skillAtk))\r\n            : 2 === t.id\r\n            ? this.updateAndCalculate(this.skillAtk, t.add_sx[0], $gameSkillInfo.Skill4Param.ADD)\r\n            : 3 === t.id\r\n            ? ((this.bulletComboCount += t.add_sx[0]),\r\n              this.isDoubleBullet && (this.bulletComboCount += t.add_sx[0]),\r\n              this.isCloseComboAtk ||\r\n                  this.updateAndCalculate(this.skillAtk, t.add_sx[1], $gameSkillInfo.Skill4Param.DEC))\r\n            : 4 === t.id\r\n            ? ((this.isOpenbulletSplit = !0),\r\n              (this.splitAtk[$gameSkillInfo.Skill4Param.BASIC] = this.getBasicAtk(t.add_sx[0])),\r\n              this.caculateFinal(this.splitAtk))\r\n            : 5 === t.id\r\n            ? ((this.isFirebullet = !0),\r\n              (this.firebulletTime = t.add_sx[0]),\r\n              (this.firebulletAtk[$gameSkillInfo.Skill4Param.BASIC] = this.getBasicAtk(t.add_sx[1])),\r\n              this.caculateFinal(this.firebulletAtk))\r\n            : 6 === t.id\r\n            ? ((this.isBulletBoom = !0),\r\n              (this.bulletBoomAtk[$gameSkillInfo.Skill4Param.BASIC] = this.getBasicAtk(t.add_sx[0])),\r\n              this.caculateFinal(this.bulletBoomAtk))\r\n            : 7 === t.id\r\n            ? (this.bulletBoomRange += t.add_sx[0])\r\n            : 8 === t.id\r\n            ? ((this.bulletPenetrateLayer += t.add_sx[0]),\r\n              this.updateAndCalculate(this.skillAtk, t.add_sx[1], $gameSkillInfo.Skill4Param.DEC))\r\n            : 9 === t.id\r\n            ? ((this.bulletFreezeProbability += 100 * t.add_sx[0]), (this.bulletFreezeTime += t.add_sx[1]))\r\n            : 10 === t.id\r\n            ? ((this.bulletParallelCount += t.add_sx[0]),\r\n              this.isCloseParallelAtk || (this.skillAtk[$gameSkillInfo.Skill4Param.DEC] *= 1 + t.add_sx[1]),\r\n              this.caculateFinal(this.skillAtk))\r\n            : 11 === t.id\r\n            ? (this.bulletSuffFreezeAdd += t.add_sx[0])\r\n            : 12 === t.id\r\n            ? (this.updateAndCalculate(this.skillAtk, t.add_sx[0], $gameSkillInfo.Skill4Param.ADD),\r\n              this.updateAndCalculate(this.splitAtk, t.add_sx[1], $gameSkillInfo.Skill4Param.ADD))\r\n            : 13 === t.id\r\n            ? this.updateAndCalculate(this.skillCD, t.add_sx[0], $gameSkillInfo.Skill4Param.DEC, !1)\r\n            : 14 === t.id\r\n            ? this.updateAndCalculate(this.bulletBoomAtk, t.add_sx[0], $gameSkillInfo.Skill4Param.ADD)\r\n            : 17 === t.id\r\n            ? (this.isCloseComboAtk = !0)\r\n            : 19 === t.id\r\n            ? (this.isCloseParallelAtk = !0)\r\n            : 21 === t.id\r\n            ? (this.updateAndCalculate(this.skillAtk, t.add_sx[0], $gameSkillInfo.Skill4Param.DEC),\r\n              (this.isDoubleBullet = !0),\r\n              (this.bulletComboCount += 1))\r\n            : 22 === t.id && (this.bulletPenetrateLayer += 1);\r\n    };\r\n    e.prototype.toString = function () {\r\n        return (\r\n            t.prototype.toString.call(this) +\r\n            \"\\n        是否开启爆炸:\" +\r\n            this.isBulletBoom +\r\n            \"\\n        子弹爆炸攻击力:\" +\r\n            this.bulletBoomAtk +\r\n            \"\\n        子弹爆炸范围:\" +\r\n            this.bulletBoomRange +\r\n            \"\\n        弹夹子弹数量:\" +\r\n            this.bulletCount +\r\n            \"\\n        子弹连发数量:\" +\r\n            this.bulletComboCount +\r\n            \"\\n        子弹并发数量:\" +\r\n            this.bulletParallelCount +\r\n            \"\\n        子弹穿透层数:\" +\r\n            this.bulletPenetrateLayer +\r\n            \"\\n        子弹速度:\" +\r\n            this.bulletSpeed +\r\n            \"\\n        子弹分裂数量:\" +\r\n            this.isOpenbulletSplit +\r\n            \"\\n        分裂子弹伤害:\" +\r\n            this.splitAtk +\r\n            \"\\n        是否开启火焰子弹:\" +\r\n            this.isFirebullet +\r\n            \"\\n        火焰子弹燃烧时长:\" +\r\n            this.firebulletTime +\r\n            \"\\n        火焰子弹伤害:\" +\r\n            this.firebulletAtk +\r\n            \"\\n        子弹冰冻概率:\" +\r\n            this.bulletFreezeProbability +\r\n            \"\\n        子弹冰冻时间:\" +\r\n            this.bulletFreezeTime +\r\n            \"\\n        子弹对冰冻敌人加成:\" +\r\n            this.bulletSuffFreezeAdd +\r\n            \"\\n        是否关闭连发射击降低伤害:\" +\r\n            this.isCloseComboAtk +\r\n            \"\\n        是否关闭并发射击降低伤害:\" +\r\n            this.isCloseParallelAtk +\r\n            \"\\n        子弹是否翻倍:\" +\r\n            this.isDoubleBullet +\r\n            \"\\n        \"\r\n        );\r\n    };\r\n    return e;\r\n})(require(\"./BaseSkill\").BaseSkill);\r\nexports.BulletSkill = a;\r\n"]}