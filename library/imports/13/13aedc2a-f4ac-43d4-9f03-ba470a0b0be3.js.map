{"version":3,"sources":["assets\\game_script\\scripts\\GunShopView .js"],"names":["o","$assetsLoader","require","$assetsMap","$resUtil","$list","$uIManager","$uIView","$util","$configContext","$roleContext","$startView","$gunShopItem","g","cc","_decorator","_","ccclass","k","property","v","t","e","apply","arguments","nameLable","gunSkin","atkLabel","shardSp","shardLabel","btnSure","list","btnBack","atkAllLabel","gainLabel","currSkinId","__extends","prototype","onLoad","ins","currSkinInfo","gun","renderGun","onResetView","numItems","instance","gunSkinConfigs","length","selectedId","addEvent","on","clickSure","clickBack","removeEvent","off","renderItem","getComponent","render","onListSelected","gunSKinId","i","find","id","getGunSkinInfo","string","Gunskin_name","armatureName","Gunskin_add_attribute","toFixed","getGunAllAtkAdd","node","active","parent","isHave","updateMaterialState","Button","interactable","getComponentInChildren","Label","get_describe","loadRes","BundleNames","Public_Res","SpriteFrame","isValid","spriteFrame","ResUtil","assignWith","shard","shard_num","setCurrInfo","updateAll","setGunSkinInfo","UIManager","replaceView","AssetsMap","StartBundles","prefabs","assetsList","StartView","type","MenuType","Role","__decorate","dragonBones","ArmatureDisplay","Sprite","Node","UIView","exports"],"mappings":"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","sourceRoot":"/","sourcesContent":["var o;\r\nvar $assetsLoader = require(\"./AssetsLoader\");\r\nvar $assetsMap = require(\"./AssetsMap\");\r\nvar $resUtil = require(\"./ResUtil\");\r\nvar $list = require(\"./List\");\r\nvar $uIManager = require(\"./UIManager\");\r\nvar $uIView = require(\"./UIView\");\r\nvar $util = require(\"./Util\");\r\nvar $configContext = require(\"./ConfigContext\");\r\nvar $roleContext = require(\"./RoleContext\");\r\nvar $startView = require(\"./StartView\");\r\nvar $gunShopItem = require(\"./GunShopItem\");\r\nvar g = cc._decorator;\r\nvar _ = g.ccclass;\r\nvar k = g.property;\r\nvar v = (function (t) {\r\n    function e() {\r\n        var e = (null !== t && t.apply(this, arguments)) || this;\r\n        e.nameLable = null;\r\n        e.gunSkin = null;\r\n        e.atkLabel = null;\r\n        e.shardSp = null;\r\n        e.shardLabel = null;\r\n        e.btnSure = null;\r\n        e.list = null;\r\n        e.btnBack = null;\r\n        e.atkAllLabel = null;\r\n        e.gainLabel = null;\r\n        e.currSkinId = -1;\r\n        return e;\r\n    }\r\n    __extends(e, t);\r\n    e.prototype.onLoad = function () {\r\n        var t = 1 === $roleContext.default.ins.currSkinInfo.gun ? 2 : $roleContext.default.ins.currSkinInfo.gun;\r\n        this.renderGun(t);\r\n    };\r\n    e.prototype.onResetView = function () {\r\n        this.list.numItems = $configContext.default.instance.gunSkinConfigs.length - 1;\r\n        this.list.selectedId = 0;\r\n    };\r\n    e.prototype.addEvent = function () {\r\n        this.btnSure.on(\"click\", this.clickSure, this);\r\n        this.btnBack.on(\"click\", this.clickBack, this);\r\n    };\r\n    e.prototype.removeEvent = function () {\r\n        this.btnSure.off(\"click\", this.clickSure, this);\r\n        this.btnBack.off(\"click\", this.clickBack, this);\r\n    };\r\n    e.prototype.renderItem = function (t, e) {\r\n        t.getComponent($gunShopItem.default).render($configContext.default.instance.gunSkinConfigs[e + 1]);\r\n    };\r\n    e.prototype.onListSelected = function (t) {\r\n        if (t) {\r\n            var e = t.getComponent($gunShopItem.default).gunSKinId;\r\n            this.renderGun(e);\r\n        }\r\n    };\r\n    e.prototype.renderGun = function (t) {\r\n        var e = this;\r\n        this.currSkinId = t;\r\n        var i = $configContext.default.instance.gunSkinConfigs.find(function (e) {\r\n            return e.id === t;\r\n        });\r\n        var o = $roleContext.default.ins.getGunSkinInfo(t);\r\n        this.nameLable.string = i.Gunskin_name;\r\n        this.gunSkin.armatureName = \"zanshi\" + i.id;\r\n        this.atkLabel.string = (100 * i.Gunskin_add_attribute[0]).toFixed(2) + \"%\";\r\n        this.atkAllLabel.string = (100 * $roleContext.default.ins.getGunAllAtkAdd()).toFixed(2) + \"%\";\r\n        this.shardSp.node.active = !1;\r\n        this.shardLabel.node.active = !1;\r\n        this.gainLabel.node.parent.active = !1;\r\n        o.isHave\r\n            ? $roleContext.default.ins.currSkinInfo.gun === t\r\n                ? ((this.btnSure.active = !0),\r\n                  $util.default.updateMaterialState(this.btnSure, !1),\r\n                  (this.btnSure.getComponent(cc.Button).interactable = !0),\r\n                  (this.btnSure.getComponentInChildren(cc.Label).string = \"卸下\"))\r\n                : ($util.default.updateMaterialState(this.btnSure, !1),\r\n                  (this.btnSure.getComponent(cc.Button).interactable = !0),\r\n                  (this.btnSure.getComponentInChildren(cc.Label).string = \"使用\"))\r\n            : ((this.gainLabel.node.parent.active = !0),\r\n              (this.gainLabel.string = i.get_describe),\r\n              (this.shardSp.node.active = !0),\r\n              (this.shardLabel.node.active = !0),\r\n              $assetsLoader.default.instance.loadRes(\r\n                  $assetsMap.BundleNames.Public_Res,\r\n                  [\"/gun_shard/sp\" + i.id],\r\n                  cc.SpriteFrame,\r\n                  null,\r\n                  function (t, i) {\r\n                      var o = i[0];\r\n                      if (o && cc.isValid(e.shardSp)) {\r\n                          e.shardSp.spriteFrame = $resUtil.ResUtil.assignWith(o, e.node);\r\n                      }\r\n                  }\r\n              ),\r\n              (this.shardLabel.string = o.shard + \"/\" + i.shard_num),\r\n              o.shard >= i.shard_num\r\n                  ? ($util.default.updateMaterialState(this.btnSure, !1),\r\n                    (this.btnSure.getComponent(cc.Button).interactable = !0),\r\n                    (this.btnSure.getComponentInChildren(cc.Label).string = \"激活\"))\r\n                  : ($util.default.updateMaterialState(this.btnSure, !0),\r\n                    (this.btnSure.getComponent(cc.Button).interactable = !1),\r\n                    (this.btnSure.getComponentInChildren(cc.Label).string = \"激活\")));\r\n    };\r\n    e.prototype.clickSure = function () {\r\n        var t = this;\r\n        var e = $roleContext.default.ins.getGunSkinInfo(this.currSkinId);\r\n        var i = $configContext.default.instance.gunSkinConfigs.find(function (e) {\r\n            return e.id === t.currSkinId;\r\n        });\r\n        if (this.currSkinId === $roleContext.default.ins.currSkinInfo.gun) {\r\n            $roleContext.default.ins.currSkinInfo.gun = 1;\r\n            $roleContext.default.ins.setCurrInfo($roleContext.default.ins.currSkinInfo);\r\n            this.renderGun(2);\r\n            return void this.list.updateAll();\r\n        }\r\n        e.isHave\r\n            ? $roleContext.default.ins.currSkinInfo.gun !== this.currSkinId &&\r\n              (($roleContext.default.ins.currSkinInfo.gun = this.currSkinId),\r\n              $roleContext.default.ins.setCurrInfo($roleContext.default.ins.currSkinInfo),\r\n              this.renderGun(this.currSkinId),\r\n              this.list.updateAll())\r\n            : e.shard >= i.shard_num &&\r\n              ((e.isHave = !0),\r\n              (e.shard -= i.shard_num),\r\n              $roleContext.default.ins.setGunSkinInfo(e),\r\n              this.renderGun(this.currSkinId),\r\n              this.list.updateAll());\r\n    };\r\n    e.prototype.clickBack = function () {\r\n        $uIManager.UIManager.instance.replaceView($assetsMap.AssetsMap.StartBundles.prefabs.assetsList.StartView, {\r\n            type: $startView.MenuType.Role\r\n        });\r\n    };\r\n    __decorate([k(cc.Label)], e.prototype, \"nameLable\", void 0);\r\n    __decorate([k(dragonBones.ArmatureDisplay)], e.prototype, \"gunSkin\", void 0);\r\n    __decorate([k(cc.Label)], e.prototype, \"atkLabel\", void 0);\r\n    __decorate([k(cc.Sprite)], e.prototype, \"shardSp\", void 0);\r\n    __decorate([k(cc.Label)], e.prototype, \"shardLabel\", void 0);\r\n    __decorate([k(cc.Node)], e.prototype, \"btnSure\", void 0);\r\n    __decorate([k($list.default)], e.prototype, \"list\", void 0);\r\n    __decorate([k(cc.Node)], e.prototype, \"btnBack\", void 0);\r\n    __decorate([k(cc.Label)], e.prototype, \"atkAllLabel\", void 0);\r\n    __decorate([k(cc.Label)], e.prototype, \"gainLabel\", void 0);\r\n    return __decorate([_], e);\r\n})($uIView.UIView);\r\nexports.default = v;\r\n"]}