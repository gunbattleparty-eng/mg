{"version":3,"sources":["assets\\game_script\\scripts\\TTRecordingBtnView.js"],"names":["o","$platform","require","$aD","$aDConfig","c","cc","_decorator","u","ccclass","d","property","p","t","e","apply","arguments","node_btn_share","videoPath","__extends","prototype","start","node","active","Platform","currPlatForm","PlatformEnum","TOU_TIAO","on","onClickShare","toutiao","stopRecorder","console","log","update","getRecordVideoPath","share","share_title","ADConfig","tt","share_desc","share_imageUrl","success","__decorate","Node","Component","exports"],"mappings":"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","sourceRoot":"/","sourcesContent":["var o;\r\nvar $platform = require(\"./Platform\");\r\nvar $aD = require(\"./AD\");\r\nvar $aDConfig = require(\"./ADConfig\");\r\nvar c = cc._decorator;\r\nvar u = c.ccclass;\r\nvar d = c.property;\r\nvar p = (function (t) {\r\n    function e() {\r\n        var e = (null !== t && t.apply(this, arguments)) || this;\r\n        e.node_btn_share = null;\r\n        e.videoPath = \"\";\r\n        return e;\r\n    }\r\n    __extends(e, t);\r\n    e.prototype.start = function () {\r\n        this.node.active = $platform.Platform.currPlatForm === $platform.PlatformEnum.TOU_TIAO;\r\n        this.node_btn_share.on(\"click\", this.onClickShare, this);\r\n        this.node_btn_share.active = !1;\r\n        this.videoPath = \"\";\r\n        if ($platform.Platform.currPlatForm === $platform.PlatformEnum.TOU_TIAO) {\r\n            $aD.default.toutiao.stopRecorder(function () {\r\n                console.log(\"结束录屏\");\r\n            });\r\n        }\r\n    };\r\n    e.prototype.update = function () {\r\n        if ($platform.Platform.currPlatForm === $platform.PlatformEnum.TOU_TIAO && !this.videoPath) {\r\n            var t = $aD.default.toutiao.getRecordVideoPath();\r\n            if (t) {\r\n                this.videoPath = t;\r\n                this.node_btn_share.active = !0;\r\n            }\r\n        }\r\n    };\r\n    e.prototype.onClickShare = function () {\r\n        if (this.videoPath) {\r\n            $aD.default.toutiao.share({\r\n                share_title: $aDConfig.ADConfig.tt.share_title,\r\n                share_desc: $aDConfig.ADConfig.tt.share_desc,\r\n                share_imageUrl: $aDConfig.ADConfig.tt.share_imageUrl,\r\n                videoPath: this.videoPath,\r\n                success: function () {}\r\n            });\r\n        }\r\n    };\r\n    __decorate([d(cc.Node)], e.prototype, \"node_btn_share\", void 0);\r\n    return __decorate([u], e);\r\n})(cc.Component);\r\nexports.default = p;\r\n"]}