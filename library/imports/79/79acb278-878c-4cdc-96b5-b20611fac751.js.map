{"version":3,"sources":["assets\\game_script\\scripts\\RBullet_3.js"],"names":["o","$object","require","$gameContext","$gameSkillInfo","$enemyStatus","$baseBullet","d","cc","_decorator","p","ccclass","f","property","t","e","apply","arguments","buttleType","BulletType","r_bullet_3","brunAtk","timeLeft","animNode","__extends","prototype","initButtle","call","ins","skillInfo","robotParam","atk","Math","ceil","skillParam","skillAtk","Skill4Param","FINAL","node","children","opacity","tween","to","start","onTrigger","isUse","Trigger","enter","i","object","sufferAtk","skillSpecialitys","id","type","EnemyDebuffType","BURN","value","sufferDebuff","updateFrame","removeSelf","__decorate","exports"],"mappings":"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","sourceRoot":"/","sourcesContent":["var o;\r\nvar $object = require(\"./Object\");\r\nvar $gameContext = require(\"./GameContext\");\r\nvar $gameSkillInfo = require(\"./GameSkillInfo\");\r\nvar $enemyStatus = require(\"./EnemyStatus\");\r\nvar $baseBullet = require(\"./BaseBullet\");\r\nvar d = cc._decorator;\r\nvar p = d.ccclass;\r\nvar f =\r\n    (d.property,\r\n    (function (t) {\r\n        function e() {\r\n            var e = (null !== t && t.apply(this, arguments)) || this;\r\n            e.buttleType = $baseBullet.BulletType.r_bullet_3;\r\n            e.brunAtk = 0;\r\n            e.timeLeft = 0;\r\n            e.animNode = null;\r\n            return e;\r\n        }\r\n        __extends(e, t);\r\n        e.prototype.initButtle = function (e) {\r\n            t.prototype.initButtle.call(this, e, null);\r\n            this.timeLeft = $gameContext.default.ins.skillInfo.robotParam[5];\r\n            this.atk = Math.ceil(\r\n                $gameContext.default.ins.skillInfo.robotParam[0] *\r\n                    this.skillParam.skillAtk[$gameSkillInfo.Skill4Param.FINAL]\r\n            );\r\n            this.brunAtk = Math.ceil(\r\n                $gameContext.default.ins.skillInfo.robotParam[3] *\r\n                    this.skillParam.skillAtk[$gameSkillInfo.Skill4Param.FINAL]\r\n            );\r\n            if (!this.animNode) {\r\n                this.animNode = this.node.children[0];\r\n            }\r\n            this.animNode.opacity = 0;\r\n            cc.tween(this.animNode)\r\n                .to(0.3, {\r\n                    opacity: 255\r\n                })\r\n                .start();\r\n        };\r\n        e.prototype.onTrigger = function (t, e) {\r\n            if (!this.isUse && e == $object.Trigger.enter) {\r\n                var i = t.object;\r\n                i.sufferAtk({\r\n                    skillSpecialitys: [],\r\n                    atk: this.atk\r\n                });\r\n                var o = {\r\n                    id: -1,\r\n                    type: $enemyStatus.EnemyDebuffType.BURN,\r\n                    timeLeft: $gameContext.default.ins.skillInfo.robotParam[4],\r\n                    value: this.brunAtk\r\n                };\r\n                i.sufferDebuff(o);\r\n            }\r\n        };\r\n        e.prototype.updateFrame = function (t) {\r\n            var e = this;\r\n            if (!(this.timeLeft <= 0)) {\r\n                this.timeLeft -= t;\r\n                if (this.timeLeft <= 0) {\r\n                    cc.tween(this.animNode)\r\n                        .to(0.3, {\r\n                            opacity: 0\r\n                        })\r\n                        .call(function () {\r\n                            e.removeSelf();\r\n                        })\r\n                        .start();\r\n                }\r\n            }\r\n        };\r\n        return __decorate([p], e);\r\n    })($baseBullet.default));\r\nexports.default = f;\r\n"]}