
                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/game_script/scripts/BulletSkill.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '6969aGjfz5GLIRM8kOMzY9c', 'BulletSkill');
// game_script/scripts/BulletSkill.js

"use strict";

var o;
exports.BulletSkill = void 0;

var $skillContext = require("./SkillContext");

var $gameSkillInfo = require("./GameSkillInfo");

var a = function (t) {
  function e() {
    var e = null !== t && t.apply(this, arguments) || this;
    e.isBulletBoom = !1;
    e.bulletBoomAtk = [0, 0, 0, 1];
    e.bulletBoomRange = 0.5;
    e.bulletCount = 0;
    e.bulletComboCount = 0;
    e.bulletParallelCount = 0;
    e.bulletPenetrateLayer = 1;
    e.bulletSpeed = 0;
    e.isOpenbulletSplit = !1;
    e.splitAtk = [0, 0, 0, 1];
    e.isFirebullet = !1;
    e.firebulletTime = 0;
    e.firebulletAtk = [0, 0, 0, 1];
    e.bulletFreezeProbability = 0;
    e.bulletFreezeTime = 0;
    e.bulletSuffFreezeAdd = 0;
    e.isCloseComboAtk = !1;
    e.isCloseParallelAtk = !1;
    e.isDoubleBullet = !1;
    return e;
  }

  __extends(e, t);

  e.prototype.chooseSkill = function (t) {
    1 === t.id ? (this.skillAtk[$gameSkillInfo.Skill4Param.BASIC] = $skillContext["default"].Ins.getSKillAtk(t), this.skillAtkRange[$gameSkillInfo.Skill4Param.BASIC] = t.add_sx[0], this.skillCD[$gameSkillInfo.Skill4Param.BASIC] = $skillContext["default"].Ins.getSkillCD(t), this.bulletCount += t.add_sx[3], this.bulletSpeed += t.add_sx[4], this.caculateFinal(this.skillAtkRange), this.caculateFinal(this.skillCD, !1), this.caculateFinal(this.skillAtk)) : 2 === t.id ? this.updateAndCalculate(this.skillAtk, t.add_sx[0], $gameSkillInfo.Skill4Param.ADD) : 3 === t.id ? (this.bulletComboCount += t.add_sx[0], this.isDoubleBullet && (this.bulletComboCount += t.add_sx[0]), this.isCloseComboAtk || this.updateAndCalculate(this.skillAtk, t.add_sx[1], $gameSkillInfo.Skill4Param.DEC)) : 4 === t.id ? (this.isOpenbulletSplit = !0, this.splitAtk[$gameSkillInfo.Skill4Param.BASIC] = this.getBasicAtk(t.add_sx[0]), this.caculateFinal(this.splitAtk)) : 5 === t.id ? (this.isFirebullet = !0, this.firebulletTime = t.add_sx[0], this.firebulletAtk[$gameSkillInfo.Skill4Param.BASIC] = this.getBasicAtk(t.add_sx[1]), this.caculateFinal(this.firebulletAtk)) : 6 === t.id ? (this.isBulletBoom = !0, this.bulletBoomAtk[$gameSkillInfo.Skill4Param.BASIC] = this.getBasicAtk(t.add_sx[0]), this.caculateFinal(this.bulletBoomAtk)) : 7 === t.id ? this.bulletBoomRange += t.add_sx[0] : 8 === t.id ? (this.bulletPenetrateLayer += t.add_sx[0], this.updateAndCalculate(this.skillAtk, t.add_sx[1], $gameSkillInfo.Skill4Param.DEC)) : 9 === t.id ? (this.bulletFreezeProbability += 100 * t.add_sx[0], this.bulletFreezeTime += t.add_sx[1]) : 10 === t.id ? (this.bulletParallelCount += t.add_sx[0], this.isCloseParallelAtk || (this.skillAtk[$gameSkillInfo.Skill4Param.DEC] *= 1 + t.add_sx[1]), this.caculateFinal(this.skillAtk)) : 11 === t.id ? this.bulletSuffFreezeAdd += t.add_sx[0] : 12 === t.id ? (this.updateAndCalculate(this.skillAtk, t.add_sx[0], $gameSkillInfo.Skill4Param.ADD), this.updateAndCalculate(this.splitAtk, t.add_sx[1], $gameSkillInfo.Skill4Param.ADD)) : 13 === t.id ? this.updateAndCalculate(this.skillCD, t.add_sx[0], $gameSkillInfo.Skill4Param.DEC, !1) : 14 === t.id ? this.updateAndCalculate(this.bulletBoomAtk, t.add_sx[0], $gameSkillInfo.Skill4Param.ADD) : 17 === t.id ? this.isCloseComboAtk = !0 : 19 === t.id ? this.isCloseParallelAtk = !0 : 21 === t.id ? (this.updateAndCalculate(this.skillAtk, t.add_sx[0], $gameSkillInfo.Skill4Param.DEC), this.isDoubleBullet = !0, this.bulletComboCount += 1) : 22 === t.id && (this.bulletPenetrateLayer += 1);
  };

  e.prototype.toString = function () {
    return t.prototype.toString.call(this) + "\n        是否开启爆炸:" + this.isBulletBoom + "\n        子弹爆炸攻击力:" + this.bulletBoomAtk + "\n        子弹爆炸范围:" + this.bulletBoomRange + "\n        弹夹子弹数量:" + this.bulletCount + "\n        子弹连发数量:" + this.bulletComboCount + "\n        子弹并发数量:" + this.bulletParallelCount + "\n        子弹穿透层数:" + this.bulletPenetrateLayer + "\n        子弹速度:" + this.bulletSpeed + "\n        子弹分裂数量:" + this.isOpenbulletSplit + "\n        分裂子弹伤害:" + this.splitAtk + "\n        是否开启火焰子弹:" + this.isFirebullet + "\n        火焰子弹燃烧时长:" + this.firebulletTime + "\n        火焰子弹伤害:" + this.firebulletAtk + "\n        子弹冰冻概率:" + this.bulletFreezeProbability + "\n        子弹冰冻时间:" + this.bulletFreezeTime + "\n        子弹对冰冻敌人加成:" + this.bulletSuffFreezeAdd + "\n        是否关闭连发射击降低伤害:" + this.isCloseComboAtk + "\n        是否关闭并发射击降低伤害:" + this.isCloseParallelAtk + "\n        子弹是否翻倍:" + this.isDoubleBullet + "\n        ";
  };

  return e;
}(require("./BaseSkill").BaseSkill);

exports.BulletSkill = a;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcZ2FtZV9zY3JpcHRcXHNjcmlwdHNcXEJ1bGxldFNraWxsLmpzIl0sIm5hbWVzIjpbIm8iLCJleHBvcnRzIiwiQnVsbGV0U2tpbGwiLCIkc2tpbGxDb250ZXh0IiwicmVxdWlyZSIsIiRnYW1lU2tpbGxJbmZvIiwiYSIsInQiLCJlIiwiYXBwbHkiLCJhcmd1bWVudHMiLCJpc0J1bGxldEJvb20iLCJidWxsZXRCb29tQXRrIiwiYnVsbGV0Qm9vbVJhbmdlIiwiYnVsbGV0Q291bnQiLCJidWxsZXRDb21ib0NvdW50IiwiYnVsbGV0UGFyYWxsZWxDb3VudCIsImJ1bGxldFBlbmV0cmF0ZUxheWVyIiwiYnVsbGV0U3BlZWQiLCJpc09wZW5idWxsZXRTcGxpdCIsInNwbGl0QXRrIiwiaXNGaXJlYnVsbGV0IiwiZmlyZWJ1bGxldFRpbWUiLCJmaXJlYnVsbGV0QXRrIiwiYnVsbGV0RnJlZXplUHJvYmFiaWxpdHkiLCJidWxsZXRGcmVlemVUaW1lIiwiYnVsbGV0U3VmZkZyZWV6ZUFkZCIsImlzQ2xvc2VDb21ib0F0ayIsImlzQ2xvc2VQYXJhbGxlbEF0ayIsImlzRG91YmxlQnVsbGV0IiwiX19leHRlbmRzIiwicHJvdG90eXBlIiwiY2hvb3NlU2tpbGwiLCJpZCIsInNraWxsQXRrIiwiU2tpbGw0UGFyYW0iLCJCQVNJQyIsIklucyIsImdldFNLaWxsQXRrIiwic2tpbGxBdGtSYW5nZSIsImFkZF9zeCIsInNraWxsQ0QiLCJnZXRTa2lsbENEIiwiY2FjdWxhdGVGaW5hbCIsInVwZGF0ZUFuZENhbGN1bGF0ZSIsIkFERCIsIkRFQyIsImdldEJhc2ljQXRrIiwidG9TdHJpbmciLCJjYWxsIiwiQmFzZVNraWxsIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLElBQUlBLENBQUo7QUFDQUMsT0FBTyxDQUFDQyxXQUFSLEdBQXNCLEtBQUssQ0FBM0I7O0FBQ0EsSUFBSUMsYUFBYSxHQUFHQyxPQUFPLENBQUMsZ0JBQUQsQ0FBM0I7O0FBQ0Es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SixPQUFPLENBQUMsYUFBRCxDQUFQLENBQXVCOEMsU0FsSWxCLENBQVI7O0FBbUlBakQsT0FBTyxDQUFDQyxXQUFSLEdBQXNCSSxDQUF0QiIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsidmFyIG87XHJcbmV4cG9ydHMuQnVsbGV0U2tpbGwgPSB2b2lkIDA7XHJcbnZhciAkc2tpbGxDb250ZXh0ID0gcmVxdWlyZShcIi4vU2tpbGxDb250ZXh0XCIpO1xyXG52YXIgJGdhbWVTa2lsbEluZm8gPSByZXF1aXJlKFwiLi9HYW1lU2tpbGxJbmZvXCIpO1xyXG52YXIgYSA9IChmdW5jdGlvbiAodCkge1xyXG4gICAgZnVuY3Rpb24gZSgpIHtcclxuICAgICAgICB2YXIgZSA9IChudWxsICE9PSB0ICYmIHQuYXBwbHkodGhpcywgYXJndW1lbnRzKSkgfHwgdGhpcztcclxuICAgICAgICBlLmlzQnVsbGV0Qm9vbSA9ICExO1xyXG4gICAgICAgIGUuYnVsbGV0Qm9vbUF0ayA9IFswLCAwLCAwLCAxXTtcclxuICAgICAgICBlLmJ1bGxldEJvb21SYW5nZSA9IDAuNTtcclxuICAgICAgICBlLmJ1bGxldENvdW50ID0gMDtcclxuICAgICAgICBlLmJ1bGxldENvbWJvQ291bnQgPSAwO1xyXG4gICAgICAgIGUuYnVsbGV0UGFyYWxsZWxDb3VudCA9IDA7XHJcbiAgICAgICAgZS5idWxsZXRQZW5ldHJhdGVMYXllciA9IDE7XHJcbiAgICAgICAgZS5idWxsZXRTcGVlZCA9IDA7XHJcbiAgICAgICAgZS5pc09wZW5idWxsZXRTcGxpdCA9ICExO1xyXG4gICAgICAgIGUuc3BsaXRBdGsgPSBbMCwgMCwgMCwgMV07XHJcbiAgICAgICAgZS5pc0ZpcmVidWxsZXQgPSAhMTtcclxuICAgICAgICBlLmZpcmVidWxsZXRUaW1lID0gMDtcclxuICAgICAgICBlLmZpcmVidWxsZXRBdGsgPSBbMCwgMCwgMCwgMV07XHJcbiAgICAgICAgZS5idWxsZXRGcmVlemVQcm9iYWJpbGl0eSA9IDA7XHJcbiAgICAgICAgZS5idWxsZXRGcmVlemVUaW1lID0gMDtcclxuICAgICAgICBlLmJ1bGxldFN1ZmZGcmVlemVBZGQgPSAwO1xyXG4gICAgICAgIGUuaXNDbG9zZUNvbWJvQXRrID0gITE7XHJcbiAgICAgICAgZS5pc0Nsb3NlUGFyYWxsZWxBdGsgPSAhMTtcclxuICAgICAgICBlLmlzRG91YmxlQnVsbGV0ID0gITE7XHJcbiAgICAgICAgcmV0dXJuIGU7XHJcbiAgICB9XHJcbiAgICBfX2V4dGVuZHMoZSwgdCk7XHJcbiAgICBlLnByb3RvdHlwZS5jaG9vc2VTa2lsbCA9IGZ1bmN0aW9uICh0KSB7XHJcbiAgICAgICAgMSA9PT0gdC5pZFxyXG4gICAgICAgICAgICA/ICgodGhpcy5za2lsbEF0a1skZ2FtZVNraWxsSW5mby5Ta2lsbDRQYXJhbS5CQVNJQ10gPSAkc2tpbGxDb250ZXh0LmRlZmF1bHQuSW5zLmdldFNLaWxsQXRrKHQpKSxcclxuICAgICAgICAgICAgICAodGhpcy5za2lsbEF0a1JhbmdlWyRnYW1lU2tpbGxJbmZvLlNraWxsNFBhcmFtLkJBU0lDXSA9IHQuYWRkX3N4WzBdKSxcclxuICAgICAgICAgICAgICAodGhpcy5za2lsbENEWyRnYW1lU2tpbGxJbmZvLlNraWxsNFBhcmFtLkJBU0lDXSA9ICRza2lsbENvbnRleHQuZGVmYXVsdC5JbnMuZ2V0U2tpbGxDRCh0KSksXHJcbiAgICAgICAgICAgICAgKHRoaXMuYnVsbGV0Q291bnQgKz0gdC5hZGRfc3hbM10pLFxyXG4gICAgICAgICAgICAgICh0aGlzLmJ1bGxldFNwZWVkICs9IHQuYWRkX3N4WzRdKSxcclxuICAgICAgICAgICAgICB0aGlzLmNhY3VsYXRlRmluYWwodGhpcy5za2lsbEF0a1JhbmdlKSxcclxuICAgICAgICAgICAgICB0aGlzLmNhY3VsYXRlRmluYWwodGhpcy5za2lsbENELCAhMSksXHJcbiAgICAgICAgICAgICAgdGhpcy5jYWN1bGF0ZUZpbmFsKHRoaXMuc2tpbGxBdGspKVxyXG4gICAgICAgICAgICA6IDIgPT09IHQuaWRcclxuICAgICAgICAgICAgPyB0aGlzLnVwZGF0ZUFuZENhbGN1bGF0ZSh0aGlzLnNraWxsQXRrLCB0LmFkZF9zeFswXSwgJGdhbWVTa2lsbEluZm8uU2tpbGw0UGFyYW0uQUREKVxyXG4gICAgICAgICAgICA6IDMgPT09IHQuaWRcclxuICAgICAgICAgICAgPyAoKHRoaXMuYnVsbGV0Q29tYm9Db3VudCArPSB0LmFkZF9zeFswXSksXHJcbiAgICAgICAgICAgICAgdGhpcy5pc0RvdWJsZUJ1bGxldCAmJiAodGhpcy5idWxsZXRDb21ib0NvdW50ICs9IHQuYWRkX3N4WzBdKSxcclxuICAgICAgICAgICAgICB0aGlzLmlzQ2xvc2VDb21ib0F0ayB8fFxyXG4gICAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZUFuZENhbGN1bGF0ZSh0aGlzLnNraWxsQXRrLCB0LmFkZF9zeFsxXSwgJGdhbWVTa2lsbEluZm8uU2tpbGw0UGFyYW0uREVDKSlcclxuICAgICAgICAgICAgOiA0ID09PSB0LmlkXHJcbiAgICAgICAgICAgID8gKCh0aGlzLmlzT3BlbmJ1bGxldFNwbGl0ID0gITApLFxyXG4gICAgICAgICAgICAgICh0aGlzLnNwbGl0QXRrWyRnYW1lU2tpbGxJbmZvLlNraWxsNFBhcmFtLkJBU0lDXSA9IHRoaXMuZ2V0QmFzaWNBdGsodC5hZGRfc3hbMF0pKSxcclxuICAgICAgICAgICAgICB0aGlzLmNhY3VsYXRlRmluYWwodGhpcy5zcGxpdEF0aykpXHJcbiAgICAgICAgICAgIDogNSA9PT0gdC5pZFxyXG4gICAgICAgICAgICA/ICgodGhpcy5pc0ZpcmVidWxsZXQgPSAhMCksXHJcbiAgICAgICAgICAgICAgKHRoaXMuZmlyZWJ1bGxldFRpbWUgPSB0LmFkZF9zeFswXSksXHJcbiAgICAgICAgICAgICAgKHRoaXMuZmlyZWJ1bGxldEF0a1skZ2FtZVNraWxsSW5mby5Ta2lsbDRQYXJhbS5CQVNJQ10gPSB0aGlzLmdldEJhc2ljQXRrKHQuYWRkX3N4WzFdKSksXHJcbiAgICAgICAgICAgICAgdGhpcy5jYWN1bGF0ZUZpbmFsKHRoaXMuZmlyZWJ1bGxldEF0aykpXHJcbiAgICAgICAgICAgIDogNiA9PT0gdC5pZFxyXG4gICAgICAgICAgICA/ICgodGhpcy5pc0J1bGxldEJvb20gPSAhMCksXHJcbiAgICAgICAgICAgICAgKHRoaXMuYnVsbGV0Qm9vbUF0a1skZ2FtZVNraWxsSW5mby5Ta2lsbDRQYXJhbS5CQVNJQ10gPSB0aGlzLmdldEJhc2ljQXRrKHQuYWRkX3N4WzBdKSksXHJcbiAgICAgICAgICAgICAgdGhpcy5jYWN1bGF0ZUZpbmFsKHRoaXMuYnVsbGV0Qm9vbUF0aykpXHJcbiAgICAgICAgICAgIDogNyA9PT0gdC5pZFxyXG4gICAgICAgICAgICA/ICh0aGlzLmJ1bGxldEJvb21SYW5nZSArPSB0LmFkZF9zeFswXSlcclxuICAgICAgICAgICAgOiA4ID09PSB0LmlkXHJcbiAgICAgICAgICAgID8gKCh0aGlzLmJ1bGxldFBlbmV0cmF0ZUxheWVyICs9IHQuYWRkX3N4WzBdKSxcclxuICAgICAgICAgICAgICB0aGlzLnVwZGF0ZUFuZENhbGN1bGF0ZSh0aGlzLnNraWxsQXRrLCB0LmFkZF9zeFsxXSwgJGdhbWVTa2lsbEluZm8uU2tpbGw0UGFyYW0uREVDKSlcclxuICAgICAgICAgICAgOiA5ID09PSB0LmlkXHJcbiAgICAgICAgICAgID8gKCh0aGlzLmJ1bGxldEZyZWV6ZVByb2JhYmlsaXR5ICs9IDEwMCAqIHQuYWRkX3N4WzBdKSwgKHRoaXMuYnVsbGV0RnJlZXplVGltZSArPSB0LmFkZF9zeFsxXSkpXHJcbiAgICAgICAgICAgIDogMTAgPT09IHQuaWRcclxuICAgICAgICAgICAgPyAoKHRoaXMuYnVsbGV0UGFyYWxsZWxDb3VudCArPSB0LmFkZF9zeFswXSksXHJcbiAgICAgICAgICAgICAgdGhpcy5pc0Nsb3NlUGFyYWxsZWxBdGsgfHwgKHRoaXMuc2tpbGxBdGtbJGdhbWVTa2lsbEluZm8uU2tpbGw0UGFyYW0uREVDXSAqPSAxICsgdC5hZGRfc3hbMV0pLFxyXG4gICAgICAgICAgICAgIHRoaXMuY2FjdWxhdGVGaW5hbCh0aGlzLnNraWxsQXRrKSlcclxuICAgICAgICAgICAgOiAxMSA9PT0gdC5pZFxyXG4gICAgICAgICAgICA/ICh0aGlzLmJ1bGxldFN1ZmZGcmVlemVBZGQgKz0gdC5hZGRfc3hbMF0pXHJcbiAgICAgICAgICAgIDogMTIgPT09IHQuaWRcclxuICAgICAgICAgICAgPyAodGhpcy51cGRhdGVBbmRDYWxjdWxhdGUodGhpcy5za2lsbEF0aywgdC5hZGRfc3hbMF0sICRnYW1lU2tpbGxJbmZvLlNraWxsNFBhcmFtLkFERCksXHJcbiAgICAgICAgICAgICAgdGhpcy51cGRhdGVBbmRDYWxjdWxhdGUodGhpcy5zcGxpdEF0aywgdC5hZGRfc3hbMV0sICRnYW1lU2tpbGxJbmZvLlNraWxsNFBhcmFtLkFERCkpXHJcbiAgICAgICAgICAgIDogMTMgPT09IHQuaWRcclxuICAgICAgICAgICAgPyB0aGlzLnVwZGF0ZUFuZENhbGN1bGF0ZSh0aGlzLnNraWxsQ0QsIHQuYWRkX3N4WzBdLCAkZ2FtZVNraWxsSW5mby5Ta2lsbDRQYXJhbS5ERUMsICExKVxyXG4gICAgICAgICAgICA6IDE0ID09PSB0LmlkXHJcbiAgICAgICAgICAgID8gdGhpcy51cGRhdGVBbmRDYWxjdWxhdGUodGhpcy5idWxsZXRCb29tQXRrLCB0LmFkZF9zeFswXSwgJGdhbWVTa2lsbEluZm8uU2tpbGw0UGFyYW0uQUREKVxyXG4gICAgICAgICAgICA6IDE3ID09PSB0LmlkXHJcbiAgICAgICAgICAgID8gKHRoaXMuaXNDbG9zZUNvbWJvQXRrID0gITApXHJcbiAgICAgICAgICAgIDogMTkgPT09IHQuaWRcclxuICAgICAgICAgICAgPyAodGhpcy5pc0Nsb3NlUGFyYWxsZWxBdGsgPSAhMClcclxuICAgICAgICAgICAgOiAyMSA9PT0gdC5pZFxyXG4gICAgICAgICAgICA/ICh0aGlzLnVwZGF0ZUFuZENhbGN1bGF0ZSh0aGlzLnNraWxsQXRrLCB0LmFkZF9zeFswXSwgJGdhbWVTa2lsbEluZm8uU2tpbGw0UGFyYW0uREVDKSxcclxuICAgICAgICAgICAgICAodGhpcy5pc0RvdWJsZUJ1bGxldCA9ICEwKSxcclxuICAgICAgICAgICAgICAodGhpcy5idWxsZXRDb21ib0NvdW50ICs9IDEpKVxyXG4gICAgICAgICAgICA6IDIyID09PSB0LmlkICYmICh0aGlzLmJ1bGxldFBlbmV0cmF0ZUxheWVyICs9IDEpO1xyXG4gICAgfTtcclxuICAgIGUucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiAoXHJcbiAgICAgICAgICAgIHQucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodGhpcykgK1xyXG4gICAgICAgICAgICBcIlxcbiAgICAgICAg5piv5ZCm5byA5ZCv54iG54K4OlwiICtcclxuICAgICAgICAgICAgdGhpcy5pc0J1bGxldEJvb20gK1xyXG4gICAgICAgICAgICBcIlxcbiAgICAgICAg5a2Q5by554iG54K45pS75Ye75YqbOlwiICtcclxuICAgICAgICAgICAgdGhpcy5idWxsZXRCb29tQXRrICtcclxuICAgICAgICAgICAgXCJcXG4gICAgICAgIOWtkOW8ueeIhueCuOiMg+WbtDpcIiArXHJcbiAgICAgICAgICAgIHRoaXMuYnVsbGV0Qm9vbVJhbmdlICtcclxuICAgICAgICAgICAgXCJcXG4gICAgICAgIOW8ueWkueWtkOW8ueaVsOmHjzpcIiArXHJcbiAgICAgICAgICAgIHRoaXMuYnVsbGV0Q291bnQgK1xyXG4gICAgICAgICAgICBcIlxcbiAgICAgICAg5a2Q5by56L+e5Y+R5pWw6YePOlwiICtcclxuICAgICAgICAgICAgdGhpcy5idWxsZXRDb21ib0NvdW50ICtcclxuICAgICAgICAgICAgXCJcXG4gICAgICAgIOWtkOW8ueW5tuWPkeaVsOmHjzpcIiArXHJcbiAgICAgICAgICAgIHRoaXMuYnVsbGV0UGFyYWxsZWxDb3VudCArXHJcbiAgICAgICAgICAgIFwiXFxuICAgICAgICDlrZDlvLnnqb/pgI/lsYLmlbA6XCIgK1xyXG4gICAgICAgICAgICB0aGlzLmJ1bGxldFBlbmV0cmF0ZUxheWVyICtcclxuICAgICAgICAgICAgXCJcXG4gICAgICAgIOWtkOW8uemAn+W6pjpcIiArXHJcbiAgICAgICAgICAgIHRoaXMuYnVsbGV0U3BlZWQgK1xyXG4gICAgICAgICAgICBcIlxcbiAgICAgICAg5a2Q5by55YiG6KOC5pWw6YePOlwiICtcclxuICAgICAgICAgICAgdGhpcy5pc09wZW5idWxsZXRTcGxpdCArXHJcbiAgICAgICAgICAgIFwiXFxuICAgICAgICDliIboo4LlrZDlvLnkvKTlrrM6XCIgK1xyXG4gICAgICAgICAgICB0aGlzLnNwbGl0QXRrICtcclxuICAgICAgICAgICAgXCJcXG4gICAgICAgIOaYr+WQpuW8gOWQr+eBq+eEsOWtkOW8uTpcIiArXHJcbiAgICAgICAgICAgIHRoaXMuaXNGaXJlYnVsbGV0ICtcclxuICAgICAgICAgICAgXCJcXG4gICAgICAgIOeBq+eEsOWtkOW8ueeHg+eDp+aXtumVvzpcIiArXHJcbiAgICAgICAgICAgIHRoaXMuZmlyZWJ1bGxldFRpbWUgK1xyXG4gICAgICAgICAgICBcIlxcbiAgICAgICAg54Gr54Sw5a2Q5by55Lyk5a6zOlwiICtcclxuICAgICAgICAgICAgdGhpcy5maXJlYnVsbGV0QXRrICtcclxuICAgICAgICAgICAgXCJcXG4gICAgICAgIOWtkOW8ueWGsOWGu+amgueOhzpcIiArXHJcbiAgICAgICAgICAgIHRoaXMuYnVsbGV0RnJlZXplUHJvYmFiaWxpdHkgK1xyXG4gICAgICAgICAgICBcIlxcbiAgICAgICAg5a2Q5by55Yaw5Ya75pe26Ze0OlwiICtcclxuICAgICAgICAgICAgdGhpcy5idWxsZXRGcmVlemVUaW1lICtcclxuICAgICAgICAgICAgXCJcXG4gICAgICAgIOWtkOW8ueWvueWGsOWGu+aVjOS6uuWKoOaIkDpcIiArXHJcbiAgICAgICAgICAgIHRoaXMuYnVsbGV0U3VmZkZyZWV6ZUFkZCArXHJcbiAgICAgICAgICAgIFwiXFxuICAgICAgICDmmK/lkKblhbPpl63ov57lj5HlsITlh7vpmY3kvY7kvKTlrrM6XCIgK1xyXG4gICAgICAgICAgICB0aGlzLmlzQ2xvc2VDb21ib0F0ayArXHJcbiAgICAgICAgICAgIFwiXFxuICAgICAgICDmmK/lkKblhbPpl63lubblj5HlsITlh7vpmY3kvY7kvKTlrrM6XCIgK1xyXG4gICAgICAgICAgICB0aGlzLmlzQ2xvc2VQYXJhbGxlbEF0ayArXHJcbiAgICAgICAgICAgIFwiXFxuICAgICAgICDlrZDlvLnmmK/lkKbnv7vlgI06XCIgK1xyXG4gICAgICAgICAgICB0aGlzLmlzRG91YmxlQnVsbGV0ICtcclxuICAgICAgICAgICAgXCJcXG4gICAgICAgIFwiXHJcbiAgICAgICAgKTtcclxuICAgIH07XHJcbiAgICByZXR1cm4gZTtcclxufSkocmVxdWlyZShcIi4vQmFzZVNraWxsXCIpLkJhc2VTa2lsbCk7XHJcbmV4cG9ydHMuQnVsbGV0U2tpbGwgPSBhO1xyXG4iXX0=