{"version":3,"sources":["assets\\game_script\\scripts\\HealthBar.js"],"names":["o","r","cc","_decorator","a","ccclass","l","property","c","t","e","apply","arguments","progressBar","currBar","secBar","layerCount","hp","layer","unit","colors","Color","fromHEX","__extends","prototype","init","render","Math","floor","node","active","string","i","length","color","equals","progress","__decorate","ProgressBar","Node","Label","Component","exports"],"mappings":"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","sourceRoot":"/","sourcesContent":["var o;\r\nvar r = cc._decorator;\r\nvar a = r.ccclass;\r\nvar l = r.property;\r\nvar c = (function (t) {\r\n    function e() {\r\n        var e = (null !== t && t.apply(this, arguments)) || this;\r\n        e.progressBar = null;\r\n        e.currBar = null;\r\n        e.secBar = null;\r\n        e.layerCount = null;\r\n        e.hp = 0;\r\n        e.layer = 0;\r\n        e.unit = 0;\r\n        e.colors = [\r\n            new cc.Color().fromHEX(\"#e62e2e\"),\r\n            new cc.Color().fromHEX(\"#e8891c\"),\r\n            new cc.Color().fromHEX(\"#7cba18\"),\r\n            new cc.Color().fromHEX(\"#2a91eb\"),\r\n            new cc.Color().fromHEX(\"#aa71f5\")\r\n        ];\r\n        return e;\r\n    }\r\n    __extends(e, t);\r\n    e.prototype.init = function (t, e) {\r\n        this.hp = t;\r\n        this.layer = e;\r\n        this.unit = this.hp / this.layer;\r\n        this.render(t);\r\n    };\r\n    e.prototype.render = function (t) {\r\n        var e = Math.floor(t / this.unit);\r\n        e <= 0\r\n            ? ((this.layerCount.node.active = !1), (this.secBar.active = !1))\r\n            : ((this.secBar.active = !0), (this.layerCount.node.active = !0), (this.layerCount.string = \"x\" + e));\r\n        var i = ((e + 1) % this.colors.length) - 1;\r\n        if (-1 === i) {\r\n            i = this.colors.length - 1;\r\n        }\r\n        if (!this.currBar.color.equals(this.colors[i])) {\r\n            this.currBar.color = this.colors[i];\r\n        }\r\n        if (this.secBar.active) {\r\n            if (-1 == (i = (e % this.colors.length) - 1)) {\r\n                i = this.colors.length - 1;\r\n            }\r\n            if (!this.secBar.color.equals(this.colors[i])) {\r\n                this.secBar.color = this.colors[i];\r\n            }\r\n        }\r\n        this.progressBar.progress = (t % this.unit) / this.unit;\r\n    };\r\n    __decorate([l(cc.ProgressBar)], e.prototype, \"progressBar\", void 0);\r\n    __decorate([l(cc.Node)], e.prototype, \"currBar\", void 0);\r\n    __decorate([l(cc.Node)], e.prototype, \"secBar\", void 0);\r\n    __decorate([l(cc.Label)], e.prototype, \"layerCount\", void 0);\r\n    return __decorate([a], e);\r\n})(cc.Component);\r\nexports.default = c;\r\n"]}