
                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/game_script/scripts/FreezeSkill.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '311b1OE+y5MbYFLpjCNXSIE', 'FreezeSkill');
// game_script/scripts/FreezeSkill.js

"use strict";

var o;
exports.FreezeSkill = void 0;

var $skillContext = require("./SkillContext");

var $gameSkillInfo = require("./GameSkillInfo");

var a = function (t) {
  function e() {
    var e = null !== t && t.apply(this, arguments) || this;
    e.freezeBack = [0, 0, 0, 1];
    e.freezeSpeed = [0, 0, 0, 1];
    e.freezePenetrateLayer = 1;
    e.freezeComboCount = 0;
    e.freezeTime = 0;
    e.freezeSplitTime = 0;
    e.freezeSplitCount = 0;
    e.freezeSplitAtk = [0, 0, 0, 1];
    e.freezeEnemyAtkAddParam = [];
    e.isFreezeCloseComboAtk = !1;
    e.freezeSuffParalysisAdd = 0;
    e.freezeIsReflect = !1;
    return e;
  }

  __extends(e, t);

  e.prototype.chooseSkill = function (t) {
    41 === t.id ? (this.skillAtk[$gameSkillInfo.Skill4Param.BASIC] = $skillContext["default"].Ins.getSKillAtk(t), this.freezePenetrateLayer += t.add_sx[0], this.skillCD[$gameSkillInfo.Skill4Param.BASIC] = $skillContext["default"].Ins.getSkillCD(t), this.freezeBack[$gameSkillInfo.Skill4Param.BASIC] = t.add_sx[2], this.freezeSpeed[$gameSkillInfo.Skill4Param.BASIC] = t.add_sx[3], this.skillAtkRange[$gameSkillInfo.Skill4Param.BASIC] = t.add_sx[4], this.caculateFinal(this.skillCD, !1), this.caculateFinal(this.freezeBack), this.caculateFinal(this.freezeSpeed), this.caculateFinal(this.skillAtkRange), this.caculateFinal(this.skillAtk)) : 42 === t.id ? this.updateAndCalculate(this.skillAtk, t.add_sx[0], $gameSkillInfo.Skill4Param.ADD) : 43 === t.id ? (this.updateAndCalculate(this.skillAtk, t.add_sx[0], $gameSkillInfo.Skill4Param.ADD), this.freezePenetrateLayer += t.add_sx[1]) : 44 === t.id ? (this.freezeComboCount += t.add_sx[0], this.isFreezeCloseComboAtk || this.updateAndCalculate(this.skillAtk, t.add_sx[1], $gameSkillInfo.Skill4Param.DEC)) : 45 === t.id ? (this.freezeSplitCount += t.add_sx[0], this.freezeSplitAtk[$gameSkillInfo.Skill4Param.BASIC] = this.getBasicAtk(t.add_sx[1]), this.caculateFinal(this.freezeSplitAtk), this.freezeSplitTime += t.add_sx[2]) : 46 === t.id ? this.updateAndCalculate(this.freezeSplitAtk, t.add_sx[0], $gameSkillInfo.Skill4Param.ADD) : 47 === t.id ? (this.updateAndCalculate(this.freezeBack, t.add_sx[0], $gameSkillInfo.Skill4Param.ADD), this.freezePenetrateLayer += t.add_sx[1]) : 48 === t.id ? (this.updateAndCalculate(this.skillAtk, t.add_sx[0], $gameSkillInfo.Skill4Param.ADD), this.freezeTime += t.add_sx[1]) : 49 === t.id ? this.freezeEnemyAtkAddParam.push([t.add_sx[0], t.add_sx[1]]) : 51 === t.id ? this.freezeComboCount += t.add_sx[0] : 52 === t.id ? (this.updateAndCalculate(this.freezeSpeed, t.add_sx[0], $gameSkillInfo.Skill4Param.ADD), this.updateAndCalculate(this.skillAtk, t.add_sx[1], $gameSkillInfo.Skill4Param.ADD), this.freezePenetrateLayer += t.add_sx[2]) : 53 === t.id ? this.freezeSplitTime += t.add_sx[0] : 54 === t.id ? this.isFreezeCloseComboAtk = !0 : 57 === t.id ? this.freezeSuffParalysisAdd += t.add_sx[0] : 58 === t.id ? this.freezeIsReflect = !0 : 60 === t.id ? this.freezePenetrateLayer += t.add_sx[0] : 142 === t.id && this.updateAndCalculate(this.skillCD, t.add_sx[0], $gameSkillInfo.Skill4Param.DEC, !1);
  };

  e.prototype.toString = function () {
    return t.prototype.toString.call(this) + "\n            寒冰弹击退距离:" + this.freezeBack + "\n            寒冰弹子弹最终速度:" + this.freezeSpeed + "\n            寒冰弹穿透层数:" + this.freezePenetrateLayer + "\n            寒冰弹连发数量:" + this.freezeComboCount + "\n            寒冰弹冰冻时长:" + this.freezeTime + "\n            寒冰弹分裂弹冰冻时长:" + this.freezeSplitTime + "\n            寒冰弹分裂数量:" + this.freezeSplitCount + "\n            寒冰弹分裂伤害:" + this.freezeSplitAtk + "\n            寒冰弹冻伤[[时间，概率]]:" + this.freezeEnemyAtkAddParam + "\n            寒冰弹连发取消降低伤害:" + this.isFreezeCloseComboAtk + "\n            寒冰弹对麻痹敌人加成:" + this.freezeSuffParalysisAdd + "\n            寒冰弹是否折返:" + this.freezeIsReflect + "\n        ";
  };

  return e;
}(require("./BaseSkill").BaseSkill);

exports.FreezeSkill = a;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcZ2FtZV9zY3JpcHRcXHNjcmlwdHNcXEZyZWV6ZVNraWxsLmpzIl0sIm5hbWVzIjpbIm8iLCJleHBvcnRzIiwiRnJlZXplU2tpbGwiLCIkc2tpbGxDb250ZXh0IiwicmVxdWlyZSIsIiRnYW1lU2tpbGxJbmZvIiwiYSIsInQiLCJlIiwiYXBwbHkiLCJhcmd1bWVudHMiLCJmcmVlemVCYWNrIiwiZnJlZXplU3BlZWQiLCJmcmVlemVQZW5ldHJhdGVMYXllciIsImZyZWV6ZUNvbWJvQ291bnQiLCJmcmVlemVUaW1lIiwiZnJlZXplU3BsaXRUaW1lIiwiZnJlZXplU3BsaXRDb3VudCIsImZyZWV6ZVNwbGl0QXRrIiwiZnJlZXplRW5lbXlBdGtBZGRQYXJhbSIsImlzRnJlZXplQ2xvc2VDb21ib0F0ayIsImZyZWV6ZVN1ZmZQYXJhbHlzaXNBZGQiLCJmcmVlemVJc1JlZmxlY3QiLCJfX2V4dGVuZHMiLCJwcm90b3R5cGUiLCJjaG9vc2VTa2lsbCIsImlkIiwic2tpbGxBdGsiLCJTa2lsbDRQYXJhbSIsIkJBU0lDIiwiSW5zIiwiZ2V0U0tpbGxBdGsiLCJhZGRfc3giLCJza2lsbENEIiwiZ2V0U2tpbGxDRCIsInNraWxsQXRrUmFuZ2UiLCJjYWN1bGF0ZUZpbmFsIiwidXBkYXRlQW5kQ2FsY3VsYXRlIiwiQUREIiwiREVDIiwiZ2V0QmFzaWNBdGsiLCJwdXNoIiwidG9TdHJpbmciLCJjYWxsIiwiQmFzZVNraWxsIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLElBQUlBLENBQUo7QUFDQUMsT0FBTyxDQUFDQyxXQUFSLEdBQXNCLEtBQUssQ0FBM0I7O0FBQ0EsSUFBSUMsYUFBYSxHQUFHQyxPQUFPLENBQUMsZ0JBQUQsQ0FBM0I7O0FBQ0EsSUFBSUMsY0FBYyxHQUFHRCxPQUFPLENBQUMsaUJBQUQsQ0FBNUI7O0FBQ0EsSUFBSUUsQ0FBQyxHQUFJLFVBQVVDLENBQVYsRUFBYTtFQUNsQixTQUFTQyxDQUFULEdBQWE7SUFDVCxJQUFJQSxDQUFDLEdBQUksU0FBU0QsQ0FBVCxJQUFjQSxDQUFDLENBQUNFLEtBQUYsQ0FBUSxJQUFSLEVBQWNDLFNBQWQsQ0FBZixJQUE0QyxJQUFwRDtJQUNBRixDQUFDLENBQUNHLFVBQUYsR0FBZSxDQUFDLENBQUQsRUFBSSxDQUFKLEVBQU8sQ0FBUCxFQUFVLENBQVYsQ0FBZjtJQUNBSCxDQUFDLENBQUNJLFdBQUYsR0FBZ0IsQ0FBQyxDQUFELEVBQUksQ0FBSixFQUFPLENBQVAsRUFBVSxDQUFWLENBQWhCO0lBQ0FKLENBQUMsQ0FBQ0ssb0JBQUYsR0FBeUIsQ0FBekI7SUFDQUwsQ0FBQyxDQUFDTSxnQkFBRixHQUFxQixDQUFyQjtJQUNBTixDQUFDLENBQUNPLFVBQUYsR0FBZSxDQUFmO0lBQ0FQLENBQUMsQ0FBQ1EsZUFBRixHQUFvQixDQUFwQjtJQUNBUixDQUFDLENBQUNTLGdCQUFGLEdBQXFCLENBQXJCO0lBQ0FULENBQUMsQ0FBQ1UsY0FBRixHQUFtQixDQUFDLENBQUQsRUFBSSxDQUFKLEVBQU8sQ0FBUCxFQUFVLENBQVYsQ0FBbkI7SUFDQVYsQ0FBQyxDQUFDVyxzQkFBRixHQUEyQixFQUEzQjtJQUNBWCxDQUFDLENBQUNZLHFCQUFGLEdBQTBCLENBQUMsQ0FBM0I7SUFDQVosQ0FBQyxDQUFDYSxzQkFBRixHQUEyQixDQUEzQjtJQUNBYixDQUFDLENBQUNjLGVBQUYsR0FBb0IsQ0FBQyxDQUFyQjtJQUNBLE9BQU9kLENBQVA7RUFDSDs7RUFDRGUsU0FBUyxDQUFDZixDQUFELEVBQUlELENBQUosQ0FBVDs7RUFDQUMsQ0FBQyxDQUFDZ0IsU0FBRixDQUFZQyxXQUFaLEdBQTBCLFVBQVVsQixDQUFWLEVBQWE7SUFDbkMsT0FBT0EsQ0FBQyxDQUFDbUIsRUFBVCxJQUNRLEtBQUtDLFFBQUwsQ0FBY3RCLGNBQWMsQ0FBQ3VCLFdBQWYsQ0FBMkJDLEtBQXpDLElBQWtEMUIsYUFBYSxXQUFiLENBQXNCMkIsR0FBdEIsQ0FBMEJDLFdBQTFCLENBQXNDeEIsQ0FBdEMsQ0FBbkQsRUFDQSxLQUFLTSxvQkFBTCxJQUE2Qk4sQ0FBQyxDQUFDeUIsTUFBRixDQUFTLENBQVQsQ0FEN0IsRUFFQSxLQUFLQyxPQUFMLENBQWE1QixjQUFjLENBQUN1QixXQUFmLENBQTJCQyxLQUF4QyxJQUFpRDFCLGFBQWEsV0FBYixDQUFzQjJCLEdBQXRCLENBQTBCSSxVQUExQixDQUFxQzNCLENBQXJDLENBRmpELEVBR0EsS0FBS0ksVUFBTCxDQUFnQk4sY0FBYyxDQUFDdUIsV0FBZixDQUEyQkMsS0FBM0MsSUFBb0R0QixDQUFDLENBQUN5QixNQUFGLENBQVMsQ0FBVCxDQUhwRCxFQUlBLEtBQUtwQixXQUFMLENBQWlCUCxjQUFjLENBQUN1QixXQUFmLENBQTJCQyxLQUE1QyxJQUFxRHRCLENBQUMsQ0FBQ3lCLE1BQUYsQ0FBUyxDQUFULENBSnJELEVBS0EsS0FBS0csYUFBTCxDQUFtQjlCLGNBQWMsQ0FBQ3VCLFdBQWYsQ0FBMkJDLEtBQTlDLElBQXVEdEIsQ0FBQyxDQUFDeUIsTUFBRixDQUFTLENBQVQsQ0FMdkQsRUFNRCxLQUFLSSxhQUFMLENBQW1CLEtBQUtILE9BQXhCLEVBQWlDLENBQUMsQ0FBbEMsQ0FOQyxFQU9ELEtBQUtHLGFBQUwsQ0FBbUIsS0FBS3pCLFVBQXhCLENBUEMsRUFRRCxLQUFLeUIsYUFBTCxDQUFtQixLQUFLeEIsV0FBeEIsQ0FSQyxFQVNELEtBQUt3QixhQUFMLENBQW1CLEtBQUtELGFBQXhCLENBVEMsRUFVRCxLQUFLQyxhQUFMLENBQW1CLEtBQUtULFFBQXhCLENBWE4sSUFZTSxPQUFPcEIsQ0FBQyxDQUFDbUIsRUFBVCxHQUNBLEtBQUtXLGtCQUFMLENBQXdCLEtBQUtWLFFBQTdCLEVBQXVDcEIsQ0FBQyxDQUFDeUIsTUFBRixDQUFTLENBQVQsQ0FBdkMsRUFBb0QzQixjQUFjLENBQUN1QixXQUFmLENBQTJCVSxHQUEvRSxDQURBLEdBRUEsT0FBTy9CLENBQUMsQ0FBQ21CLEVBQVQsSUFDQyxLQUFLVyxrQkFBTCxDQUF3QixLQUFLVixRQUE3QixFQUF1Q3BCLENBQUMsQ0FBQ3lCLE1BQUYsQ0FBUyxDQUFULENBQXZDLEVBQW9EM0IsY0FBYyxDQUFDdUIsV0FBZixDQUEyQlUsR0FBL0UsR0FDQSxLQUFLekIsb0JBQUwsSUFBNkJOLENBQUMsQ0FBQ3lCLE1BQUYsQ0FBUyxDQUFULENBRjlCLElBR0EsT0FBT3pCLENBQUMsQ0FBQ21CLEVBQVQsSUFDRSxLQUFLWixnQkFBTCxJQUF5QlAsQ0FBQyxDQUFDeUIsTUFBRixDQUFTLENBQVQsQ0FBMUIsRUFDRCxLQUFLWixxQkFBTCxJQUNJLEtBQUtpQixrQkFBTCxDQUF3QixLQUFLVixRQUE3QixFQUF1Q3BCLENBQUMsQ0FBQ3lCLE1BQUYsQ0FBUyxDQUFULENBQXZDLEVBQW9EM0IsY0FBYyxDQUFDdUIsV0FBZixDQUEyQlcsR0FBL0UsQ0FISixJQUlBLE9BQU9oQyxDQUFDLENBQUNtQixFQUFULElBQ0UsS0FBS1QsZ0JBQUwsSUFBeUJWLENBQUMsQ0FBQ3lCLE1BQUYsQ0FBUyxDQUFULENBQTFCLEVBQ0EsS0FBS2QsY0FBTCxDQUFvQmIsY0FBYyxDQUFDdUIsV0FBZixDQUEyQkMsS0FBL0MsSUFBd0QsS0FBS1csV0FBTCxDQUFpQmpDLENBQUMsQ0FBQ3lCLE1BQUYsQ0FBUyxDQUFULENBQWpCLENBRHhELEVBRUQsS0FBS0ksYUFBTCxDQUFtQixLQUFLbEIsY0FBeEIsQ0FGQyxFQUdBLEtBQUtGLGVBQUwsSUFBd0JULENBQUMsQ0FBQ3lCLE1BQUYsQ0FBUyxDQUFULENBSnpCLElBS0EsT0FBT3pCLENBQUMsQ0FBQ21CLEVBQVQsR0FDQSxLQUFLVyxrQkFBTCxDQUF3QixLQUFLbkIsY0FBN0IsRUFBNkNYLENBQUMsQ0FBQ3lCLE1BQUYsQ0FBUyxDQUFULENBQTdDLEVBQTBEM0IsY0FBYyxDQUFDdUIsV0FBZixDQUEyQlUsR0FBckYsQ0FEQSxHQUVBLE9BQU8vQixDQUFDLENBQUNtQixFQUFULElBQ0MsS0FBS1csa0JBQUwsQ0FBd0IsS0FBSzFCLFVBQTdCLEVBQXlDSixDQUFDLENBQUN5QixNQUFGLENBQVMsQ0FBVCxDQUF6QyxFQUFzRDNCLGNBQWMsQ0FBQ3VCLFdBQWYsQ0FBMkJVLEdBQWpGLEdBQ0EsS0FBS3pCLG9CQUFMLElBQTZCTixDQUFDLENBQUN5QixNQUFGLENBQVMsQ0FBVCxDQUY5QixJQUdBLE9BQU96QixDQUFDLENBQUNtQixFQUFULElBQ0MsS0FBS1csa0JBQUwsQ0FBd0IsS0FBS1YsUUFBN0IsRUFBdUNwQixDQUFDLENBQUN5QixNQUFGLENBQVMsQ0FBVCxDQUF2QyxFQUFvRDNCLGNBQWMsQ0FBQ3VCLFdBQWYsQ0FBMkJVLEdBQS9FLEdBQ0EsS0FBS3ZCLFVBQUwsSUFBbUJSLENBQUMsQ0FBQ3lCLE1BQUYsQ0FBUyxDQUFULENBRnBCLElBR0EsT0FBT3pCLENBQUMsQ0FBQ21CLEVBQVQsR0FDQSxLQUFLUCxzQkFBTCxDQUE0QnNCLElBQTVCLENBQWlDLENBQUNsQyxDQUFDLENBQUN5QixNQUFGLENBQVMsQ0FBVCxDQUFELEVBQWN6QixDQUFDLENBQUN5QixNQUFGLENBQVMsQ0FBVCxDQUFkLENBQWpDLENBREEsR0FFQSxPQUFPekIsQ0FBQyxDQUFDbUIsRUFBVCxHQUNDLEtBQUtaLGdCQUFMLElBQXlCUCxDQUFDLENBQUN5QixNQUFGLENBQVMsQ0FBVCxDQUQxQixHQUVBLE9BQU96QixDQUFDLENBQUNtQixFQUFULElBQ0MsS0FBS1csa0JBQUwsQ0FBd0IsS0FBS3pCLFdBQTdCLEVBQTBDTCxDQUFDLENBQUN5QixNQUFGLENBQVMsQ0FBVCxDQUExQyxFQUF1RDNCLGNBQWMsQ0FBQ3VCLFdBQWYsQ0FBMkJVLEdBQWxGLEdBQ0QsS0FBS0Qsa0JBQUwsQ0FBd0IsS0FBS1YsUUFBN0IsRUFBdUNwQixDQUFDLENBQUN5QixNQUFGLENBQVMsQ0FBVCxDQUF2QyxFQUFvRDNCLGNBQWMsQ0FBQ3VCLFdBQWYsQ0FBMkJVLEdBQS9FLENBREMsRUFFQSxLQUFLekIsb0JBQUwsSUFBNkJOLENBQUMsQ0FBQ3lCLE1BQUYsQ0FBUyxDQUFULENBSDlCLElBSUEsT0FBT3pCLENBQUMsQ0FBQ21CLEVBQVQsR0FDQyxLQUFLVixlQUFMLElBQXdCVCxDQUFDLENBQUN5QixNQUFGLENBQVMsQ0FBVCxDQUR6QixHQUVBLE9BQU96QixDQUFDLENBQUNtQixFQUFULEdBQ0MsS0FBS04scUJBQUwsR0FBNkIsQ0FBQyxDQUQvQixHQUVBLE9BQU9iLENBQUMsQ0FBQ21CLEVBQVQsR0FDQyxLQUFLTCxzQkFBTCxJQUErQmQsQ0FBQyxDQUFDeUIsTUFBRixDQUFTLENBQVQsQ0FEaEMsR0FFQSxPQUFPekIsQ0FBQyxDQUFDbUIsRUFBVCxHQUNDLEtBQUtKLGVBQUwsR0FBdUIsQ0FBQyxDQUR6QixHQUVBLE9BQU9mLENBQUMsQ0FBQ21CLEVBQVQsR0FDQyxLQUFLYixvQkFBTCxJQUE2Qk4sQ0FBQyxDQUFDeUIsTUFBRixDQUFTLENBQVQsQ0FEOUIsR0FFQSxRQUFRekIsQ0FBQyxDQUFDbUIsRUFBVixJQUFnQixLQUFLVyxrQkFBTCxDQUF3QixLQUFLSixPQUE3QixFQUFzQzFCLENBQUMsQ0FBQ3lCLE1BQUYsQ0FBUyxDQUFULENBQXRDLEVBQW1EM0IsY0FBYyxDQUFDdUIsV0FBZixDQUEyQlcsR0FBOUUsRUFBbUYsQ0FBQyxDQUFwRixDQXBEdEI7RUFxREgsQ0F0REQ7O0VBdURBL0IsQ0FBQyxDQUFDZ0IsU0FBRixDQUFZa0IsUUFBWixHQUF1QixZQUFZO0lBQy9CLE9BQ0luQyxDQUFDLENBQUNpQixTQUFGLENBQVlrQixRQUFaLENBQXFCQyxJQUFyQixDQUEwQixJQUExQixJQUNBLHdCQURBLEdBRUEsS0FBS2hDLFVBRkwsR0FHQSwwQkFIQSxHQUlBLEtBQUtDLFdBSkwsR0FLQSx3QkFMQSxHQU1BLEtBQUtDLG9CQU5MLEdBT0Esd0JBUEEsR0FRQSxLQUFLQyxnQkFSTCxHQVNBLHdCQVRBLEdBVUEsS0FBS0MsVUFWTCxHQVdBLDJCQVhBLEdBWUEsS0FBS0MsZUFaTCxHQWFBLHdCQWJBLEdBY0EsS0FBS0MsZ0JBZEwsR0FlQSx3QkFmQSxHQWdCQSxLQUFLQyxjQWhCTCxHQWlCQSwrQkFqQkEsR0FrQkEsS0FBS0Msc0JBbEJMLEdBbUJBLDRCQW5CQSxHQW9CQSxLQUFLQyxxQkFwQkwsR0FxQkEsMkJBckJBLEdBc0JBLEtBQUtDLHNCQXRCTCxHQXVCQSx3QkF2QkEsR0F3QkEsS0FBS0MsZUF4QkwsR0F5QkEsWUExQko7RUE0QkgsQ0E3QkQ7O0VBOEJBLE9BQU9kLENBQVA7QUFDSCxDQXhHTyxDQXdHTEosT0FBTyxDQUFDLGFBQUQsQ0FBUCxDQUF1QndDLFNBeEdsQixDQUFSOztBQXlHQTNDLE9BQU8sQ0FBQ0MsV0FBUixHQUFzQkksQ0FBdEIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbInZhciBvO1xyXG5leHBvcnRzLkZyZWV6ZVNraWxsID0gdm9pZCAwO1xyXG52YXIgJHNraWxsQ29udGV4dCA9IHJlcXVpcmUoXCIuL1NraWxsQ29udGV4dFwiKTtcclxudmFyICRnYW1lU2tpbGxJbmZvID0gcmVxdWlyZShcIi4vR2FtZVNraWxsSW5mb1wiKTtcclxudmFyIGEgPSAoZnVuY3Rpb24gKHQpIHtcclxuICAgIGZ1bmN0aW9uIGUoKSB7XHJcbiAgICAgICAgdmFyIGUgPSAobnVsbCAhPT0gdCAmJiB0LmFwcGx5KHRoaXMsIGFyZ3VtZW50cykpIHx8IHRoaXM7XHJcbiAgICAgICAgZS5mcmVlemVCYWNrID0gWzAsIDAsIDAsIDFdO1xyXG4gICAgICAgIGUuZnJlZXplU3BlZWQgPSBbMCwgMCwgMCwgMV07XHJcbiAgICAgICAgZS5mcmVlemVQZW5ldHJhdGVMYXllciA9IDE7XHJcbiAgICAgICAgZS5mcmVlemVDb21ib0NvdW50ID0gMDtcclxuICAgICAgICBlLmZyZWV6ZVRpbWUgPSAwO1xyXG4gICAgICAgIGUuZnJlZXplU3BsaXRUaW1lID0gMDtcclxuICAgICAgICBlLmZyZWV6ZVNwbGl0Q291bnQgPSAwO1xyXG4gICAgICAgIGUuZnJlZXplU3BsaXRBdGsgPSBbMCwgMCwgMCwgMV07XHJcbiAgICAgICAgZS5mcmVlemVFbmVteUF0a0FkZFBhcmFtID0gW107XHJcbiAgICAgICAgZS5pc0ZyZWV6ZUNsb3NlQ29tYm9BdGsgPSAhMTtcclxuICAgICAgICBlLmZyZWV6ZVN1ZmZQYXJhbHlzaXNBZGQgPSAwO1xyXG4gICAgICAgIGUuZnJlZXplSXNSZWZsZWN0ID0gITE7XHJcbiAgICAgICAgcmV0dXJuIGU7XHJcbiAgICB9XHJcbiAgICBfX2V4dGVuZHMoZSwgdCk7XHJcbiAgICBlLnByb3RvdHlwZS5jaG9vc2VTa2lsbCA9IGZ1bmN0aW9uICh0KSB7XHJcbiAgICAgICAgNDEgPT09IHQuaWRcclxuICAgICAgICAgICAgPyAoKHRoaXMuc2tpbGxBdGtbJGdhbWVTa2lsbEluZm8uU2tpbGw0UGFyYW0uQkFTSUNdID0gJHNraWxsQ29udGV4dC5kZWZhdWx0Lklucy5nZXRTS2lsbEF0ayh0KSksXHJcbiAgICAgICAgICAgICAgKHRoaXMuZnJlZXplUGVuZXRyYXRlTGF5ZXIgKz0gdC5hZGRfc3hbMF0pLFxyXG4gICAgICAgICAgICAgICh0aGlzLnNraWxsQ0RbJGdhbWVTa2lsbEluZm8uU2tpbGw0UGFyYW0uQkFTSUNdID0gJHNraWxsQ29udGV4dC5kZWZhdWx0Lklucy5nZXRTa2lsbENEKHQpKSxcclxuICAgICAgICAgICAgICAodGhpcy5mcmVlemVCYWNrWyRnYW1lU2tpbGxJbmZvLlNraWxsNFBhcmFtLkJBU0lDXSA9IHQuYWRkX3N4WzJdKSxcclxuICAgICAgICAgICAgICAodGhpcy5mcmVlemVTcGVlZFskZ2FtZVNraWxsSW5mby5Ta2lsbDRQYXJhbS5CQVNJQ10gPSB0LmFkZF9zeFszXSksXHJcbiAgICAgICAgICAgICAgKHRoaXMuc2tpbGxBdGtSYW5nZVskZ2FtZVNraWxsSW5mby5Ta2lsbDRQYXJhbS5CQVNJQ10gPSB0LmFkZF9zeFs0XSksXHJcbiAgICAgICAgICAgICAgdGhpcy5jYWN1bGF0ZUZpbmFsKHRoaXMuc2tpbGxDRCwgITEpLFxyXG4gICAgICAgICAgICAgIHRoaXMuY2FjdWxhdGVGaW5hbCh0aGlzLmZyZWV6ZUJhY2spLFxyXG4gICAgICAgICAgICAgIHRoaXMuY2FjdWxhdGVGaW5hbCh0aGlzLmZyZWV6ZVNwZWVkKSxcclxuICAgICAgICAgICAgICB0aGlzLmNhY3VsYXRlRmluYWwodGhpcy5za2lsbEF0a1JhbmdlKSxcclxuICAgICAgICAgICAgICB0aGlzLmNhY3VsYXRlRmluYWwodGhpcy5za2lsbEF0aykpXHJcbiAgICAgICAgICAgIDogNDIgPT09IHQuaWRcclxuICAgICAgICAgICAgPyB0aGlzLnVwZGF0ZUFuZENhbGN1bGF0ZSh0aGlzLnNraWxsQXRrLCB0LmFkZF9zeFswXSwgJGdhbWVTa2lsbEluZm8uU2tpbGw0UGFyYW0uQUREKVxyXG4gICAgICAgICAgICA6IDQzID09PSB0LmlkXHJcbiAgICAgICAgICAgID8gKHRoaXMudXBkYXRlQW5kQ2FsY3VsYXRlKHRoaXMuc2tpbGxBdGssIHQuYWRkX3N4WzBdLCAkZ2FtZVNraWxsSW5mby5Ta2lsbDRQYXJhbS5BREQpLFxyXG4gICAgICAgICAgICAgICh0aGlzLmZyZWV6ZVBlbmV0cmF0ZUxheWVyICs9IHQuYWRkX3N4WzFdKSlcclxuICAgICAgICAgICAgOiA0NCA9PT0gdC5pZFxyXG4gICAgICAgICAgICA/ICgodGhpcy5mcmVlemVDb21ib0NvdW50ICs9IHQuYWRkX3N4WzBdKSxcclxuICAgICAgICAgICAgICB0aGlzLmlzRnJlZXplQ2xvc2VDb21ib0F0ayB8fFxyXG4gICAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZUFuZENhbGN1bGF0ZSh0aGlzLnNraWxsQXRrLCB0LmFkZF9zeFsxXSwgJGdhbWVTa2lsbEluZm8uU2tpbGw0UGFyYW0uREVDKSlcclxuICAgICAgICAgICAgOiA0NSA9PT0gdC5pZFxyXG4gICAgICAgICAgICA/ICgodGhpcy5mcmVlemVTcGxpdENvdW50ICs9IHQuYWRkX3N4WzBdKSxcclxuICAgICAgICAgICAgICAodGhpcy5mcmVlemVTcGxpdEF0a1skZ2FtZVNraWxsSW5mby5Ta2lsbDRQYXJhbS5CQVNJQ10gPSB0aGlzLmdldEJhc2ljQXRrKHQuYWRkX3N4WzFdKSksXHJcbiAgICAgICAgICAgICAgdGhpcy5jYWN1bGF0ZUZpbmFsKHRoaXMuZnJlZXplU3BsaXRBdGspLFxyXG4gICAgICAgICAgICAgICh0aGlzLmZyZWV6ZVNwbGl0VGltZSArPSB0LmFkZF9zeFsyXSkpXHJcbiAgICAgICAgICAgIDogNDYgPT09IHQuaWRcclxuICAgICAgICAgICAgPyB0aGlzLnVwZGF0ZUFuZENhbGN1bGF0ZSh0aGlzLmZyZWV6ZVNwbGl0QXRrLCB0LmFkZF9zeFswXSwgJGdhbWVTa2lsbEluZm8uU2tpbGw0UGFyYW0uQUREKVxyXG4gICAgICAgICAgICA6IDQ3ID09PSB0LmlkXHJcbiAgICAgICAgICAgID8gKHRoaXMudXBkYXRlQW5kQ2FsY3VsYXRlKHRoaXMuZnJlZXplQmFjaywgdC5hZGRfc3hbMF0sICRnYW1lU2tpbGxJbmZvLlNraWxsNFBhcmFtLkFERCksXHJcbiAgICAgICAgICAgICAgKHRoaXMuZnJlZXplUGVuZXRyYXRlTGF5ZXIgKz0gdC5hZGRfc3hbMV0pKVxyXG4gICAgICAgICAgICA6IDQ4ID09PSB0LmlkXHJcbiAgICAgICAgICAgID8gKHRoaXMudXBkYXRlQW5kQ2FsY3VsYXRlKHRoaXMuc2tpbGxBdGssIHQuYWRkX3N4WzBdLCAkZ2FtZVNraWxsSW5mby5Ta2lsbDRQYXJhbS5BREQpLFxyXG4gICAgICAgICAgICAgICh0aGlzLmZyZWV6ZVRpbWUgKz0gdC5hZGRfc3hbMV0pKVxyXG4gICAgICAgICAgICA6IDQ5ID09PSB0LmlkXHJcbiAgICAgICAgICAgID8gdGhpcy5mcmVlemVFbmVteUF0a0FkZFBhcmFtLnB1c2goW3QuYWRkX3N4WzBdLCB0LmFkZF9zeFsxXV0pXHJcbiAgICAgICAgICAgIDogNTEgPT09IHQuaWRcclxuICAgICAgICAgICAgPyAodGhpcy5mcmVlemVDb21ib0NvdW50ICs9IHQuYWRkX3N4WzBdKVxyXG4gICAgICAgICAgICA6IDUyID09PSB0LmlkXHJcbiAgICAgICAgICAgID8gKHRoaXMudXBkYXRlQW5kQ2FsY3VsYXRlKHRoaXMuZnJlZXplU3BlZWQsIHQuYWRkX3N4WzBdLCAkZ2FtZVNraWxsSW5mby5Ta2lsbDRQYXJhbS5BREQpLFxyXG4gICAgICAgICAgICAgIHRoaXMudXBkYXRlQW5kQ2FsY3VsYXRlKHRoaXMuc2tpbGxBdGssIHQuYWRkX3N4WzFdLCAkZ2FtZVNraWxsSW5mby5Ta2lsbDRQYXJhbS5BREQpLFxyXG4gICAgICAgICAgICAgICh0aGlzLmZyZWV6ZVBlbmV0cmF0ZUxheWVyICs9IHQuYWRkX3N4WzJdKSlcclxuICAgICAgICAgICAgOiA1MyA9PT0gdC5pZFxyXG4gICAgICAgICAgICA/ICh0aGlzLmZyZWV6ZVNwbGl0VGltZSArPSB0LmFkZF9zeFswXSlcclxuICAgICAgICAgICAgOiA1NCA9PT0gdC5pZFxyXG4gICAgICAgICAgICA/ICh0aGlzLmlzRnJlZXplQ2xvc2VDb21ib0F0ayA9ICEwKVxyXG4gICAgICAgICAgICA6IDU3ID09PSB0LmlkXHJcbiAgICAgICAgICAgID8gKHRoaXMuZnJlZXplU3VmZlBhcmFseXNpc0FkZCArPSB0LmFkZF9zeFswXSlcclxuICAgICAgICAgICAgOiA1OCA9PT0gdC5pZFxyXG4gICAgICAgICAgICA/ICh0aGlzLmZyZWV6ZUlzUmVmbGVjdCA9ICEwKVxyXG4gICAgICAgICAgICA6IDYwID09PSB0LmlkXHJcbiAgICAgICAgICAgID8gKHRoaXMuZnJlZXplUGVuZXRyYXRlTGF5ZXIgKz0gdC5hZGRfc3hbMF0pXHJcbiAgICAgICAgICAgIDogMTQyID09PSB0LmlkICYmIHRoaXMudXBkYXRlQW5kQ2FsY3VsYXRlKHRoaXMuc2tpbGxDRCwgdC5hZGRfc3hbMF0sICRnYW1lU2tpbGxJbmZvLlNraWxsNFBhcmFtLkRFQywgITEpO1xyXG4gICAgfTtcclxuICAgIGUucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiAoXHJcbiAgICAgICAgICAgIHQucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodGhpcykgK1xyXG4gICAgICAgICAgICBcIlxcbiAgICAgICAgICAgIOWvkuWGsOW8ueWHu+mAgOi3neemuzpcIiArXHJcbiAgICAgICAgICAgIHRoaXMuZnJlZXplQmFjayArXHJcbiAgICAgICAgICAgIFwiXFxuICAgICAgICAgICAg5a+S5Yaw5by55a2Q5by55pyA57uI6YCf5bqmOlwiICtcclxuICAgICAgICAgICAgdGhpcy5mcmVlemVTcGVlZCArXHJcbiAgICAgICAgICAgIFwiXFxuICAgICAgICAgICAg5a+S5Yaw5by556m/6YCP5bGC5pWwOlwiICtcclxuICAgICAgICAgICAgdGhpcy5mcmVlemVQZW5ldHJhdGVMYXllciArXHJcbiAgICAgICAgICAgIFwiXFxuICAgICAgICAgICAg5a+S5Yaw5by56L+e5Y+R5pWw6YePOlwiICtcclxuICAgICAgICAgICAgdGhpcy5mcmVlemVDb21ib0NvdW50ICtcclxuICAgICAgICAgICAgXCJcXG4gICAgICAgICAgICDlr5LlhrDlvLnlhrDlhrvml7bplb86XCIgK1xyXG4gICAgICAgICAgICB0aGlzLmZyZWV6ZVRpbWUgK1xyXG4gICAgICAgICAgICBcIlxcbiAgICAgICAgICAgIOWvkuWGsOW8ueWIhuijguW8ueWGsOWGu+aXtumVvzpcIiArXHJcbiAgICAgICAgICAgIHRoaXMuZnJlZXplU3BsaXRUaW1lICtcclxuICAgICAgICAgICAgXCJcXG4gICAgICAgICAgICDlr5LlhrDlvLnliIboo4LmlbDph486XCIgK1xyXG4gICAgICAgICAgICB0aGlzLmZyZWV6ZVNwbGl0Q291bnQgK1xyXG4gICAgICAgICAgICBcIlxcbiAgICAgICAgICAgIOWvkuWGsOW8ueWIhuijguS8pOWuszpcIiArXHJcbiAgICAgICAgICAgIHRoaXMuZnJlZXplU3BsaXRBdGsgK1xyXG4gICAgICAgICAgICBcIlxcbiAgICAgICAgICAgIOWvkuWGsOW8ueWGu+S8pFtb5pe26Ze077yM5qaC546HXV06XCIgK1xyXG4gICAgICAgICAgICB0aGlzLmZyZWV6ZUVuZW15QXRrQWRkUGFyYW0gK1xyXG4gICAgICAgICAgICBcIlxcbiAgICAgICAgICAgIOWvkuWGsOW8uei/nuWPkeWPlua2iOmZjeS9juS8pOWuszpcIiArXHJcbiAgICAgICAgICAgIHRoaXMuaXNGcmVlemVDbG9zZUNvbWJvQXRrICtcclxuICAgICAgICAgICAgXCJcXG4gICAgICAgICAgICDlr5LlhrDlvLnlr7npurvnl7nmlYzkurrliqDmiJA6XCIgK1xyXG4gICAgICAgICAgICB0aGlzLmZyZWV6ZVN1ZmZQYXJhbHlzaXNBZGQgK1xyXG4gICAgICAgICAgICBcIlxcbiAgICAgICAgICAgIOWvkuWGsOW8ueaYr+WQpuaKmOi/lDpcIiArXHJcbiAgICAgICAgICAgIHRoaXMuZnJlZXplSXNSZWZsZWN0ICtcclxuICAgICAgICAgICAgXCJcXG4gICAgICAgIFwiXHJcbiAgICAgICAgKTtcclxuICAgIH07XHJcbiAgICByZXR1cm4gZTtcclxufSkocmVxdWlyZShcIi4vQmFzZVNraWxsXCIpLkJhc2VTa2lsbCk7XHJcbmV4cG9ydHMuRnJlZXplU2tpbGwgPSBhO1xyXG4iXX0=