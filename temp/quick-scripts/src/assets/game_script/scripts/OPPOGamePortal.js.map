{"version":3,"sources":["assets\\game_script\\scripts\\OPPOGamePortal.js"],"names":["o","window","qg","n","t","adUnitId","_adIns","isLoaded","isAutoShow","isConsume","showing","onLoad","onError","onClose","showCallback","closeCallback","errorCallback","prototype","loadAd","createGamePortalAd","load","console","warn","error","initAd","onAdLoad","bind","onAdClose","onAdError","showGamePortal","e","i","reCreateAd","show","then","destroyAd","log","offLoad","offClose","offError","destroy","autoShow","exports"],"mappings":"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","sourceRoot":"/","sourcesContent":["var o = window.qg;\r\nvar n = (function () {\r\n    function t() {\r\n        this.adUnitId = null;\r\n        this._adIns = null;\r\n        this.isLoaded = !1;\r\n        this.isAutoShow = !1;\r\n        this.isConsume = !1;\r\n        this.showing = !1;\r\n        this.onLoad = null;\r\n        this.onError = null;\r\n        this.onClose = null;\r\n        this.showCallback = null;\r\n        this.closeCallback = null;\r\n        this.errorCallback = null;\r\n    }\r\n    t.prototype.loadAd = function () {\r\n        if (this.adUnitId) {\r\n            if (o && o.createGamePortalAd) {\r\n                var t = {\r\n                    adUnitId: this.adUnitId\r\n                };\r\n                this._adIns = o.createGamePortalAd(t);\r\n                if (this._adIns.onLoad) {\r\n                    this._adIns.onLoad(this.onLoad);\r\n                }\r\n                if (this._adIns.onClose) {\r\n                    this._adIns.onClose(this.onClose);\r\n                }\r\n                if (this._adIns.onError) {\r\n                    this._adIns.onError(this.onError);\r\n                }\r\n                this.isLoaded = !1;\r\n                this._adIns.load();\r\n            } else {\r\n                console.warn(\"当前平台不支持创建OPPOGamePortal\");\r\n            }\r\n        } else {\r\n            console.error(\"oppo OPPOGamePortal ID为空\");\r\n        }\r\n    };\r\n    t.prototype.initAd = function (t) {\r\n        this.adUnitId = t;\r\n        this.onLoad = this.onAdLoad.bind(this);\r\n        this.onClose = this.onAdClose.bind(this);\r\n        this.onError = this.onAdError.bind(this);\r\n    };\r\n    t.prototype.showGamePortal = function (t, e, i) {\r\n        var o = this;\r\n        this.showCallback = t;\r\n        this.closeCallback = e;\r\n        this.errorCallback = i;\r\n        return this._adIns\r\n            ? this.isConsume\r\n                ? this.reCreateAd(!0)\r\n                : this.isLoaded\r\n                ? void (this.showing\r\n                      ? console.warn(this.adUnitId, \":正在显示中，不给显示\")\r\n                      : this._adIns\r\n                      ? this._adIns.show &&\r\n                        this._adIns\r\n                            .show()\r\n                            .then(function () {\r\n                                o.showing = !0;\r\n                                if (o.showCallback) {\r\n                                    o.showCallback();\r\n                                }\r\n                                o.showCallback = null;\r\n                            })\r\n                            .catch(function (t) {\r\n                                o.showing = !1;\r\n                                console.warn(\"interstitial show error:\", t);\r\n                                o.destroyAd();\r\n                            })\r\n                      : (console.warn(\"interstitial,interstitial对象未创建,将在创建完成后自动显示\"),\r\n                        this.reCreateAd(!0)))\r\n                : (console.warn(this.adUnitId, \":未加载完成，稍等\"), void (this.isAutoShow = !0))\r\n            : (console.warn(this.adUnitId, \":未创建，执行创建\"), (this.isAutoShow = !0), this.loadAd());\r\n    };\r\n    t.prototype.reCreateAd = function (t) {\r\n        this.destroyAd();\r\n        this.isAutoShow = t;\r\n        this.loadAd();\r\n    };\r\n    t.prototype.destroyAd = function () {\r\n        console.log(this.adUnitId, \":===destroyAd===\");\r\n        this.isLoaded = !1;\r\n        this.isAutoShow = !1;\r\n        this.isConsume = !1;\r\n        this.showCallback = null;\r\n        this.errorCallback = null;\r\n        if (this._adIns) {\r\n            if (this._adIns.offLoad) {\r\n                this._adIns.offLoad(this.onLoad);\r\n            }\r\n            if (this._adIns.offClose) {\r\n                this._adIns.offClose(this.onClose);\r\n            }\r\n            if (this._adIns.offError) {\r\n                this._adIns.offError(this.onError);\r\n            }\r\n            if (this._adIns.destroy) {\r\n                this._adIns.destroy();\r\n            }\r\n            this._adIns = null;\r\n        }\r\n    };\r\n    t.prototype.onAdLoad = function () {\r\n        console.log(this.adUnitId, \":===onAdload===\");\r\n        this.isConsume = !1;\r\n        this.isLoaded = !0;\r\n        this.autoShow();\r\n    };\r\n    t.prototype.onAdError = function (t) {\r\n        console.log(this.adUnitId, t);\r\n        this.showing = !1;\r\n        if (this.errorCallback) {\r\n            this.errorCallback();\r\n        }\r\n        this.destroyAd();\r\n    };\r\n    t.prototype.onAdClose = function () {\r\n        console.log(this.adUnitId, \":===onAdClose===\");\r\n        this.showing = !1;\r\n        if (this.closeCallback) {\r\n            this.closeCallback();\r\n        }\r\n        this.reCreateAd(!1);\r\n    };\r\n    t.prototype.autoShow = function () {\r\n        if (this.isAutoShow) {\r\n            this.isAutoShow = !1;\r\n            this.showGamePortal(this.showCallback, this.closeCallback, this.errorCallback);\r\n        }\r\n    };\r\n    return t;\r\n})();\r\nexports.default = n;\r\n"]}