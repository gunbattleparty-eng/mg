{"version":3,"sources":["assets\\game_script\\scripts\\ChooseSkillView.js"],"names":["o","$assetsLoader","require","$assetsMap","$resUtil","$eventManager","$uIManager","$popupView","$platform","$remoteAudio","$aD","$adService","$configContext","$localEventName","$userDataContext","$gameContext","v","cc","_decorator","b","ccclass","w","property","A","t","e","apply","arguments","tempNode","contentLayer","btnAgin","tipLabel","btnRefresh","coinAdLable","chooseNode","isChoosed","isChooseAgin","count","chooseCount","__extends","prototype","onResetView","instance","playEffectMusic","uiParam","param","ids","createChooseItem","renderBtn","renderAdCoin","length","i","instantiate","skill_id","parent","active","on","clickItem","push","renderItem","renderAgin","ins","aginChooseSkillCount","node","string","Ins","checkAdCoin","children","addEvent","clickAgin","clickRefresh","removeEvent","off","opearAdCoin","createNextSkills","UIManager","showToast","onClickClose","call","destroyAllChildren","showRewardedVideo","Platform","currPlatForm","PlatformEnum","TOU_TIAO","toutiao","report","skillConfigsMap","get","n","getComponent","Sprite","loadRes","BundleNames","Public_Res","icon","SpriteFrame","isValid","spriteFrame","ResUtil","assignWith","s","skill_text","skill_changetext","chooseSkillRecord","has","Label","name","skillInfo","skillCount","send","CHOOSE_SKILL","adCoin","toString","__decorate","Node","PopupView","exports"],"mappings":"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","sourceRoot":"/","sourcesContent":["var o;\r\nvar $assetsLoader = require(\"./AssetsLoader\");\r\nvar $assetsMap = require(\"./AssetsMap\");\r\nvar $resUtil = require(\"./ResUtil\");\r\nvar $eventManager = require(\"./EventManager\");\r\nvar $uIManager = require(\"./UIManager\");\r\nvar $popupView = require(\"./PopupView\");\r\nvar $platform = require(\"./Platform\");\r\nvar $remoteAudio = require(\"./RemoteAudio\");\r\nvar $aD = require(\"./AD\");\r\nvar $adService = require(\"./AdService\");\r\nvar $configContext = require(\"./ConfigContext\");\r\nvar $localEventName = require(\"./LocalEventName\");\r\nvar $userDataContext = require(\"./UserDataContext\");\r\nvar $gameContext = require(\"./GameContext\");\r\nvar v = cc._decorator;\r\nvar b = v.ccclass;\r\nvar w = v.property;\r\nvar A = (function (t) {\r\n    function e() {\r\n        var e = (null !== t && t.apply(this, arguments)) || this;\r\n        e.tempNode = null;\r\n        e.contentLayer = null;\r\n        e.btnAgin = null;\r\n        e.tipLabel = null;\r\n        e.btnRefresh = null;\r\n        e.coinAdLable = null;\r\n        e.chooseNode = [];\r\n        e.isChoosed = !1;\r\n        e.isChooseAgin = !1;\r\n        e.count = 3;\r\n        e.chooseCount = 0;\r\n        return e;\r\n    }\r\n    __extends(e, t);\r\n    e.prototype.onResetView = function () {\r\n        $remoteAudio.default.instance.playEffectMusic(\"levelup\");\r\n        var t = this.uiParam.param.ids;\r\n        this.createChooseItem(t);\r\n        this.renderBtn();\r\n        this.renderAdCoin();\r\n    };\r\n    e.prototype.createChooseItem = function (t) {\r\n        for (var e = 0; e < t.length; e++) {\r\n            var i = t[e];\r\n            var o = cc.instantiate(this.tempNode);\r\n            o.skill_id = i;\r\n            o.parent = this.contentLayer;\r\n            o.active = !0;\r\n            o.on(\"click\", this.clickItem, this);\r\n            this.chooseNode.push(o);\r\n            this.renderItem(i, o);\r\n        }\r\n        this.renderAgin();\r\n    };\r\n    e.prototype.renderAgin = function () {\r\n        this.isChooseAgin || $gameContext.default.ins.aginChooseSkillCount >= this.count\r\n            ? ((this.btnAgin.active = !1), (this.tipLabel.node.active = !1))\r\n            : (this.tipLabel.string =\r\n                  \"当局剩余观看次数\" + (this.count - $gameContext.default.ins.aginChooseSkillCount) + \"/\" + this.count);\r\n    };\r\n    e.prototype.renderBtn = function () {\r\n        var t = $userDataContext.default.Ins.checkAdCoin(-1);\r\n        this.btnRefresh.children[0].active = !t;\r\n        this.btnAgin.children[0].active = !t;\r\n        this.btnRefresh.children[1].active = t;\r\n        this.btnAgin.children[1].active = t;\r\n    };\r\n    e.prototype.addEvent = function () {\r\n        this.btnAgin.on(\"click\", this.clickAgin, this);\r\n        this.btnRefresh.on(\"click\", this.clickRefresh, this);\r\n    };\r\n    e.prototype.removeEvent = function () {\r\n        this.btnAgin.off(\"click\", this.clickAgin, this);\r\n        this.btnRefresh.off(\"click\", this.clickRefresh, this);\r\n    };\r\n    e.prototype.clickRefresh = function () {\r\n        var e = this;\r\n        if ($userDataContext.default.Ins.opearAdCoin(-1)) {\r\n            var i = $gameContext.default.ins.createNextSkills();\r\n            if (0 === i.length) {\r\n                $uIManager.UIManager.instance.showToast(\"没有技能可选了\");\r\n                return void t.prototype.onClickClose.call(this);\r\n            }\r\n            this.contentLayer.destroyAllChildren();\r\n            this.createChooseItem(i);\r\n            this.renderBtn();\r\n            this.renderAdCoin();\r\n        } else {\r\n            $adService.default.Ins.showRewardedVideo(function () {\r\n                if ($platform.Platform.currPlatForm === $platform.PlatformEnum.TOU_TIAO) {\r\n                    $aD.default.toutiao.report(\"Skill_Refresh\");\r\n                }\r\n                var i = $gameContext.default.ins.createNextSkills();\r\n                if (0 === i.length) {\r\n                    $uIManager.UIManager.instance.showToast(\"没有技能可选了\");\r\n                    return void t.prototype.onClickClose.call(e);\r\n                }\r\n                e.contentLayer.destroyAllChildren();\r\n                e.createChooseItem(i);\r\n                e.renderBtn();\r\n            });\r\n        }\r\n    };\r\n    e.prototype.clickAgin = function () {\r\n        var t = this;\r\n        $userDataContext.default.Ins.opearAdCoin(-1)\r\n            ? ($gameContext.default.ins.aginChooseSkillCount++,\r\n              (this.isChooseAgin = !0),\r\n              this.renderAgin(),\r\n              this.renderBtn(),\r\n              this.renderAdCoin())\r\n            : $adService.default.Ins.showRewardedVideo(function () {\r\n                  if ($platform.Platform.currPlatForm === $platform.PlatformEnum.TOU_TIAO) {\r\n                      $aD.default.toutiao.report(\"Skill_again\");\r\n                  }\r\n                  $gameContext.default.ins.aginChooseSkillCount++;\r\n                  t.isChooseAgin = !0;\r\n                  t.renderAgin();\r\n                  t.renderBtn();\r\n              });\r\n    };\r\n    e.prototype.renderItem = function (t, e) {\r\n        var i = this;\r\n        var o = $configContext.default.instance.skillConfigsMap.get(t);\r\n        var n = e.children[0].getComponent(cc.Sprite);\r\n        $assetsLoader.default.instance.loadRes(\r\n            $assetsMap.BundleNames.Public_Res,\r\n            [\"/skills/\" + o.icon],\r\n            cc.SpriteFrame,\r\n            null,\r\n            function (t, e) {\r\n                var o = e[0];\r\n                if (o && cc.isValid(n)) {\r\n                    n.spriteFrame = $resUtil.ResUtil.assignWith(o, i.node);\r\n                }\r\n            }\r\n        );\r\n        var s = o.skill_text;\r\n        if (o.skill_changetext.length > 0 && !$gameContext.default.ins.chooseSkillRecord.has(o.skill_changetext[0])) {\r\n            s = o.skill_text + o.skill_changetext[1];\r\n        }\r\n        e.children[1].getComponent(cc.Label).string = o.name;\r\n        e.children[2].getComponent(cc.Label).string = s;\r\n    };\r\n    e.prototype.clickItem = function (e) {\r\n        if (!this.isChoosed) {\r\n            $remoteAudio.default.instance.playEffectMusic(\"Click\");\r\n            $gameContext.default.ins.skillInfo.skillCount++;\r\n            this.isChoosed = !0;\r\n            var i = e.node.skill_id;\r\n            $eventManager.default.send($localEventName.default.CHOOSE_SKILL, i);\r\n            if (this.isChooseAgin && 0 === this.chooseCount) {\r\n                var o = $gameContext.default.ins.createNextSkills();\r\n                if (0 === o.length) {\r\n                    $uIManager.UIManager.instance.showToast(\"没有技能可选了\");\r\n                    return void t.prototype.onClickClose.call(this);\r\n                }\r\n                this.contentLayer.destroyAllChildren();\r\n                this.createChooseItem(o);\r\n                this.isChoosed = !1;\r\n                this.renderAgin();\r\n            }\r\n            this.chooseCount++;\r\n            if ((1 === this.chooseCount && !this.isChooseAgin) || 2 === this.chooseCount) {\r\n                t.prototype.onClickClose.call(this);\r\n            }\r\n        }\r\n    };\r\n    e.prototype.renderAdCoin = function () {\r\n        this.coinAdLable.string = $userDataContext.default.Ins.adCoin.toString();\r\n    };\r\n    __decorate([w(cc.Node)], e.prototype, \"tempNode\", void 0);\r\n    __decorate([w(cc.Node)], e.prototype, \"contentLayer\", void 0);\r\n    __decorate([w(cc.Node)], e.prototype, \"btnAgin\", void 0);\r\n    __decorate([w(cc.Label)], e.prototype, \"tipLabel\", void 0);\r\n    __decorate([w(cc.Node)], e.prototype, \"btnRefresh\", void 0);\r\n    __decorate([w(cc.Label)], e.prototype, \"coinAdLable\", void 0);\r\n    return __decorate([b], e);\r\n})($popupView.PopupView);\r\nexports.default = A;\r\n"]}