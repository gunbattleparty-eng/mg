{"version":3,"sources":["assets\\game_script\\scripts\\AdCoinView.js"],"names":["o","$assetsMap","require","$popupManager","$popupView","$platform","$seedUtil","$aD","$adService","$shopContext","$userDataContext","m","cc","_decorator","y","ccclass","g","property","_","t","e","apply","arguments","btnAd","counts","weights","__extends","prototype","addEvent","on","clickAd","removeEvent","off","Ins","showRewardedVideo","Platform","currPlatForm","PlatformEnum","TOU_TIAO","toutiao","report","i","weightRandomCount","opearAdCoin","PopupManager","instance","open","AssetsMap","PopUpBundles","prefabs","assetsList","RewardView","infos","type","num","addShopResRecord","onClickClose","call","__decorate","Node","PopupView","exports"],"mappings":";;;;;;AAAA,IAAIA,CAAJ;;AACA,IAAIC,UAAU,GAAGC,OAAO,CAAC,aAAD,CAAxB;;AACA,IAAIC,aAAa,GAAGD,OAAO,CAAC,gBAAD,CAA3B;;AACA,IAAIE,UAAU,GAAGF,OAAO,CAAC,aAAD,CAAxB;;AACA,IAAIG,SAAS,GAAGH,OAAO,CAAC,YAAD,CAAvB;;AACA,IAAII,SAAS,GAAGJ,OAAO,CAAC,YAAD,CAAvB;;AACA,IAAIK,GAAG,GAAGL,OAAO,CAAC,MAAD,CAAjB;;AACA,IAAIM,UAAU,GAAGN,OAAO,CAAC,aAAD,CAAxB;;AACA,IAAIO,YAAY,GAAGP,OAAO,CAAC,eAAD,CAA1B;;AACA,IAAIQ,gBAAgB,GAAGR,OAAO,CAAC,mBAAD,CAA9B;;AACA,IAAIS,CAAC,GAAGC,EAAE,CAACC,UAAX;AACA,IAAIC,CAAC,GAAGH,CAAC,CAACI,OAAV;AACA,IAAIC,CAAC,GAAGL,CAAC,CAACM,QAAV;;AACA,IAAIC,CAAC,GAAI,UAAUC,CAAV,EAAa;EAClB,SAASC,CAAT,GAAa;IACT,IAAIA,CAAC,GAAI,SAASD,CAAT,IAAcA,CAAC,CAACE,KAAF,CAAQ,IAAR,EAAcC,SAAd,CAAf,IAA4C,IAApD;IACAF,CAAC,CAACG,KAAF,GAAU,IAAV;IACAH,CAAC,CAACI,MAAF,GAAW,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,EAAU,CAAV,EAAa,CAAb,EAAgB,CAAhB,CAAX;IACAJ,CAAC,CAACK,OAAF,GAAY,CAAC,GAAD,EAAM,GAAN,EAAW,GAAX,EAAgB,EAAhB,EAAoB,CAApB,EAAuB,CAAvB,CAAZ;IACA,OAAOL,CAAP;EACH;;EACDM,SAAS,CAACN,CAAD,EAAID,CAAJ,CAAT;;EACAC,CAAC,CAACO,SAAF,CAAYC,QAAZ,GAAuB,YAAY;IAC/B,KAAKL,KAAL,CAAWM,EAAX,CAAc,OAAd,EAAuB,KAAKC,OAA5B,EAAqC,IAArC;EACH,CAFD;;EAGAV,CAAC,CAACO,SAAF,CAAYI,WAAZ,GAA0B,YAAY;IAClC,KAAKR,KAAL,CAAWS,GAAX,CAAe,OAAf,EAAwB,KAAKF,OAA7B,EAAsC,IAAtC;EACH,CAFD;;EAGAV,CAAC,CAACO,SAAF,CAAYG,OAAZ,GAAsB,YAAY;IAC9B,IAAIV,CAAC,GAAG,IAAR;IACAZ,UAAU,WAAV,CAAmByB,GAAnB,CAAuBC,iBAAvB,CAAyC,YAAY;MACjD,IAAI7B,SAAS,CAAC8B,QAAV,CAAmBC,YAAnB,KAAoC/B,SAAS,CAACgC,YAAV,CAAuBC,QAA/D,EAAyE;QACrE/B,GAAG,WAAH,CAAYgC,OAAZ,CAAoBC,MAApB,CAA2B,aAA3B;MACH;;MACD,IAAIC,CAAC,GAAGnC,SAAS,WAAT,CAAkBoC,iBAAlB,CAAoCtB,CAAC,CAACK,OAAtC,EAA+C,CAA/C,EAAkD,CAAlD,CAAR;MACA,IAAIzB,CAAC,GAAGoB,CAAC,CAACI,MAAF,CAASiB,CAAT,CAAR;MACA/B,gBAAgB,WAAhB,CAAyBuB,GAAzB,CAA6BU,WAA7B,CAAyC3C,CAAzC;MACAG,aAAa,CAACyC,YAAd,CAA2BC,QAA3B,CAAoCC,IAApC,CAAyC7C,UAAU,CAAC8C,SAAX,CAAqBC,YAArB,CAAkCC,OAAlC,CAA0CC,UAA1C,CAAqDC,UAA9F,EAA0G;QACtGC,KAAK,EAAE,CACH;UACIC,IAAI,EAAE,EADV;UAEIC,GAAG,EAAEtD;QAFT,CADG;MAD+F,CAA1G;MAQAS,YAAY,WAAZ,CAAqBwB,GAArB,CAAyBsB,gBAAzB,CAA0C,EAA1C;MACApC,CAAC,CAACQ,SAAF,CAAY6B,YAAZ,CAAyBC,IAAzB,CAA8BrC,CAA9B;IACH,CAjBD;EAkBH,CApBD;;EAqBAsC,UAAU,CAAC,CAAC1C,CAAC,CAACJ,EAAE,CAAC+C,IAAJ,CAAF,CAAD,EAAevC,CAAC,CAACO,SAAjB,EAA4B,OAA5B,EAAqC,KAAK,CAA1C,CAAV;;EACA,OAAO+B,UAAU,CAAC,CAAC5C,CAAD,CAAD,EAAMM,CAAN,CAAjB;AACH,CAtCO,CAsCLhB,UAAU,CAACwD,SAtCN,CAAR;;AAuCAC,OAAO,WAAP,GAAkB3C,CAAlB","sourceRoot":"/","sourcesContent":["var o;\r\nvar $assetsMap = require(\"./AssetsMap\");\r\nvar $popupManager = require(\"./PopupManager\");\r\nvar $popupView = require(\"./PopupView\");\r\nvar $platform = require(\"./Platform\");\r\nvar $seedUtil = require(\"./SeedUtil\");\r\nvar $aD = require(\"./AD\");\r\nvar $adService = require(\"./AdService\");\r\nvar $shopContext = require(\"./ShopContext\");\r\nvar $userDataContext = require(\"./UserDataContext\");\r\nvar m = cc._decorator;\r\nvar y = m.ccclass;\r\nvar g = m.property;\r\nvar _ = (function (t) {\r\n    function e() {\r\n        var e = (null !== t && t.apply(this, arguments)) || this;\r\n        e.btnAd = null;\r\n        e.counts = [2, 3, 4, 5, 6, 7];\r\n        e.weights = [6e3, 3e3, 100, 10, 1, 1];\r\n        return e;\r\n    }\r\n    __extends(e, t);\r\n    e.prototype.addEvent = function () {\r\n        this.btnAd.on(\"click\", this.clickAd, this);\r\n    };\r\n    e.prototype.removeEvent = function () {\r\n        this.btnAd.off(\"click\", this.clickAd, this);\r\n    };\r\n    e.prototype.clickAd = function () {\r\n        var e = this;\r\n        $adService.default.Ins.showRewardedVideo(function () {\r\n            if ($platform.Platform.currPlatForm === $platform.PlatformEnum.TOU_TIAO) {\r\n                $aD.default.toutiao.report(\"free_ad_box\");\r\n            }\r\n            var i = $seedUtil.default.weightRandomCount(e.weights, 1)[0];\r\n            var o = e.counts[i];\r\n            $userDataContext.default.Ins.opearAdCoin(o);\r\n            $popupManager.PopupManager.instance.open($assetsMap.AssetsMap.PopUpBundles.prefabs.assetsList.RewardView, {\r\n                infos: [\r\n                    {\r\n                        type: 12,\r\n                        num: o\r\n                    }\r\n                ]\r\n            });\r\n            $shopContext.default.Ins.addShopResRecord(12);\r\n            t.prototype.onClickClose.call(e);\r\n        });\r\n    };\r\n    __decorate([g(cc.Node)], e.prototype, \"btnAd\", void 0);\r\n    return __decorate([y], e);\r\n})($popupView.PopupView);\r\nexports.default = _;\r\n"]}