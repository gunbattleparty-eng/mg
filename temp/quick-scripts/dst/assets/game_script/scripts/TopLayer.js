
                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/game_script/scripts/TopLayer.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'be08cSgcaZBaISu/10LfNd7', 'TopLayer');
// game_script/scripts/TopLayer.js

"use strict";

var o;

var $assetsLoader = require("./AssetsLoader");

var $assetsMap = require("./AssetsMap");

var $resUtil = require("./ResUtil");

var $eventManager = require("./EventManager");

var $login = require("./Login");

var $popupManager = require("./PopupManager");

var $uIManager = require("./UIManager");

var $platform = require("./Platform");

var $globalParam = require("./GlobalParam");

var $localEventName = require("./LocalEventName");

var $userDataContext = require("./UserDataContext");

var $startView = require("./StartView");

var _ = cc._decorator;
var k = _.ccclass;
var v = _.property;

var b = function (t) {
  function e() {
    var e = null !== t && t.apply(this, arguments) || this;
    e.coinLabel = null;
    e.diamondLabel = null;
    e.powerLabel = null;
    e.adCoinLabel = null;
    e.headNode = null;
    e.gradeLevel = null;
    e.nameLabel = null;
    return e;
  }

  __extends(e, t);

  e.prototype.start = function () {
    $eventManager["default"].on($localEventName["default"].RENDER_USER_INFO, this.render, this);
    $eventManager["default"].on($localEventName["default"].RENDER_HEAD, this.renderHead, this);
    $eventManager["default"].on($login.Login.LOGIN_SUCCESS, this.renderName, this);
    this.nameLabel = this.node.getChildByName("name_label").getComponent(cc.Label);
    this.nameLabel.string = $userDataContext["default"].Ins.nickname;
    this.coinLabel.node.parent.on(cc.Node.EventType.TOUCH_START, this.touchCoin, this);
    this.diamondLabel.node.parent.on(cc.Node.EventType.TOUCH_START, this.touchDiamond, this);
    this.powerLabel.node.parent.on(cc.Node.EventType.TOUCH_START, this.touchPower, this);
    this.adCoinLabel.node.parent.on(cc.Node.EventType.TOUCH_START, this.touchAdCoin, this);
    this.headNode.on(cc.Node.EventType.TOUCH_START, this.touchHead, this);
    this.render();
    this.renderHead();

    if ($platform.Platform.currPlatForm === $platform.PlatformEnum.BROWSER) {
      this.nameLabel.node.on(cc.Node.EventType.TOUCH_START, this.touchGM, this);
    }
  };

  e.prototype.touchGM = function () {
    $popupManager.PopupManager.instance.open($assetsMap.AssetsMap.PopUpBundles.prefabs.assetsList.GMView);
  };

  e.prototype.renderHead = function () {
    var t = this;
    var e = this.headNode.children[0].getComponent(cc.Sprite);
    $assetsLoader["default"].instance.loadRes($assetsMap.BundleNames.Public_Res, ["/head_icon/tx" + ($userDataContext["default"].Ins.headIndex + 1)], cc.SpriteFrame, null, function (i, o) {
      var n = o[0];

      if (n && cc.isValid(e)) {
        e.spriteFrame = $resUtil.ResUtil.assignWith(n, t.node);
      }
    });
  };

  e.prototype.onDestroy = function () {
    $eventManager["default"].off($login.Login.LOGIN_SUCCESS, this.renderName, this);
    $eventManager["default"].off($localEventName["default"].RENDER_USER_INFO, this.render, this);
    $eventManager["default"].off($localEventName["default"].RENDER_HEAD, this.renderHead, this);
  };

  e.prototype.renderName = function () {
    this.nameLabel.string = $userDataContext["default"].Ins.nickname;
  };

  e.prototype.touchHead = function () {
    $popupManager.PopupManager.instance.open($assetsMap.AssetsMap.PopUpBundles.prefabs.assetsList.SettingView);
  };

  e.prototype.touchCoin = function () {
    $globalParam["default"].isStartView ? $eventManager["default"].send($localEventName["default"].MENU, $startView.MenuType.Shop, 2) : $uIManager.UIManager.instance.replaceView($assetsMap.AssetsMap.StartBundles.prefabs.assetsList.StartView, {
      type: $startView.MenuType.Shop,
      ext: 2
    });
  };

  e.prototype.touchDiamond = function () {
    $globalParam["default"].isStartView ? $eventManager["default"].send($localEventName["default"].MENU, $startView.MenuType.Shop, 3) : $uIManager.UIManager.instance.replaceView($assetsMap.AssetsMap.StartBundles.prefabs.assetsList.StartView, {
      type: $startView.MenuType.Shop,
      ext: 3
    });
  };

  e.prototype.touchAdCoin = function () {
    $globalParam["default"].isStartView ? $eventManager["default"].send($localEventName["default"].MENU, $startView.MenuType.Shop, 2) : $uIManager.UIManager.instance.replaceView($assetsMap.AssetsMap.StartBundles.prefabs.assetsList.StartView, {
      type: $startView.MenuType.Shop,
      ext: 2
    });
  };

  e.prototype.touchPower = function () {
    $globalParam["default"].isStartView ? $eventManager["default"].send($localEventName["default"].MENU, $startView.MenuType.Shop, 2) : $uIManager.UIManager.instance.replaceView($assetsMap.AssetsMap.StartBundles.prefabs.assetsList.StartView, {
      type: $startView.MenuType.Shop,
      ext: 2
    });
  };

  e.prototype.render = function () {
    this.coinLabel.string = $userDataContext["default"].Ins.coin.toString();
    this.diamondLabel.string = $userDataContext["default"].Ins.diamond.toString();
    this.powerLabel.string = $userDataContext["default"].Ins.power.toString();
    this.gradeLevel.string = $userDataContext["default"].Ins.gradeInfo.grade.toString();
    this.adCoinLabel.string = $userDataContext["default"].Ins.adCoin.toString();
  };

  __decorate([v(cc.Label)], e.prototype, "coinLabel", void 0);

  __decorate([v(cc.Label)], e.prototype, "diamondLabel", void 0);

  __decorate([v(cc.Label)], e.prototype, "powerLabel", void 0);

  __decorate([v(cc.Label)], e.prototype, "adCoinLabel", void 0);

  __decorate([v(cc.Node)], e.prototype, "headNode", void 0);

  __decorate([v(cc.Label)], e.prototype, "gradeLevel", void 0);

  return __decorate([k], e);
}(cc.Component);

exports["default"] = b;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcZ2FtZV9zY3JpcHRcXHNjcmlwdHNcXFRvcExheWVyLmpzIl0sIm5hbWVzIjpbIm8iLCIkYXNzZXRzTG9hZGVyIiwicmVxdWlyZSIsIiRhc3NldHNNYXAiLCIkcmVzVXRpbCIsIiRldmVudE1hbmFnZXIiLCIkbG9naW4iLCIkcG9wdXBNYW5hZ2VyIiwiJHVJTWFuYWdlciIsIiRwbGF0Zm9ybSIsIiRnbG9iYWxQYXJhbSIsIiRsb2NhbEV2ZW50TmFtZSIsIiR1c2VyRGF0YUNvbnRleHQiLCIkc3RhcnRWaWV3IiwiXyIsImNjIiwiX2RlY29yYXRvciIsImsiLCJjY2NsYXNzIiwidiIsInByb3BlcnR5IiwiYiIsInQiLCJlIiwiYXBwbHkiLCJhcmd1bWVudHMiLCJjb2luTGFiZWwiLCJkaWFtb25kTGFiZWwiLCJwb3dlckxhYmVsIiwiYWRDb2luTGFiZWwiLCJoZWFkTm9kZSIsImdyYWRlTGV2ZWwiLCJuYW1lTGFiZWwiLCJfX2V4dGVuZHMiLCJwcm90b3R5cGUiLCJzdGFydCIsIm9uIiwiUkVOREVSX1VTRVJfSU5GTyIsInJlbmRlciIsIlJFTkRFUl9IRUFEIiwicmVuZGVySGVhZCIsIkxvZ2luIiwiTE9HSU5fU1VDQ0VTUyIsInJlbmRlck5hbWUiLCJub2RlIiwiZ2V0Q2hpbGRCeU5hbWUiLCJnZXRDb21wb25lbnQiLCJMYWJlbCIsInN0cmluZyIsIklucyIsIm5pY2tuYW1lIiwicGFyZW50IiwiTm9kZSIsIkV2ZW50VHlwZSIsIlRPVUNIX1NUQVJUIiwidG91Y2hDb2luIiwidG91Y2hEaWFtb25kIiwidG91Y2hQb3dlciIsInRvdWNoQWRDb2luIiwidG91Y2hIZWFkIiwiUGxhdGZvcm0iLCJjdXJyUGxhdEZvcm0iLCJQbGF0Zm9ybUVudW0iLCJCUk9XU0VSIiwidG91Y2hHTSIsIlBvcHVwTWFuYWdlciIsImluc3RhbmNlIiwib3BlbiIsIkFzc2V0c01hcCIsIlBvcFVwQnVuZGxlcyIsInByZWZhYnMiLCJhc3NldHNMaXN0IiwiR01WaWV3IiwiY2hpbGRyZW4iLCJTcHJpdGUiLCJsb2FkUmVzIiwiQnVuZGxlTmFtZXMiLCJQdWJsaWNfUmVzIiwiaGVhZEluZGV4IiwiU3ByaXRlRnJhbWUiLCJpIiwibiIsImlzVmFsaWQiLCJzcHJpdGVGcmFtZSIsIlJlc1V0aWwiLCJhc3NpZ25XaXRoIiwib25EZXN0cm95Iiwib2ZmIiwiU2V0dGluZ1ZpZXciLCJpc1N0YXJ0VmlldyIsInNlbmQiLCJNRU5VIiwiTWVudVR5cGUiLCJTaG9wIiwiVUlNYW5hZ2VyIiwicmVwbGFjZVZpZXciLCJTdGFydEJ1bmRsZXMiLCJTdGFydFZpZXciLCJ0eXBlIiwiZXh0IiwiY29pbiIsInRvU3RyaW5nIiwiZGlhbW9uZCIsInBvd2VyIiwiZ3JhZGVJbmZvIiwiZ3JhZGUiLCJhZENvaW4iLCJfX2RlY29yYXRlIiwiQ29tcG9uZW50IiwiZXhwb3J0cyJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSxJQUFJQSxDQUFKOztBQUNBLElBQUlDLGFBQWEsR0FBR0MsT0FBTyxDQUFDLGdCQUFELENBQTNCOztBQUNBLElBQUlDLFVBQVUsR0FBR0QsT0FBTyxDQUFDLGFBQUQsQ0FBeEI7O0FBQ0EsSUFBSUUsUUFBUSxHQUFHRixPQUFPLENBQUMsV0FBRCxDQUF0Qjs7QUFDQSxJQUFJRyxhQUFhLEdBQUdILE9BQU8sQ0FBQyxnQkFBRCxDQUEzQjs7QUFDQSxJQUFJSSxNQUFNLEdBQUdKLE9BQU8sQ0FBQyxTQUFELENBQXBCOztBQUNBLElBQUlLLGFBQWEsR0FBR0wsT0FBTyxDQUFDLGdCQUFELENBQTNCOztBQUNBLElBQUlNLFVBQVUsR0FBR04sT0FBTyxDQUFDLGFBQUQsQ0FBeEI7O0FBQ0EsSUFBSU8sU0FBUyxHQUFHUCxPQUFPLENBQUMsWUFBRCxDQUF2Qjs7QUFDQSxJQUFJUSxZQUFZLEdBQUdSLE9BQU8sQ0FBQyxlQUFELENBQTFCOztBQUNBLElBQUlTLGVBQWUsR0FBR1QsT0FBTyxDQUFDLGtCQUFELENBQTdCOztBQUNBLElBQUlVLGdCQUFnQixHQUFHVixPQUFP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QUFFLENBQUNxQyxJQUFKLENBQUYsQ0FBRCxFQUFlN0IsQ0FBQyxDQUFDVyxTQUFqQixFQUE0QixVQUE1QixFQUF3QyxLQUFLLENBQTdDLENBQVY7O0VBQ0F5RSxVQUFVLENBQUMsQ0FBQ3hGLENBQUMsQ0FBQ0osRUFBRSxDQUFDZ0MsS0FBSixDQUFGLENBQUQsRUFBZ0J4QixDQUFDLENBQUNXLFNBQWxCLEVBQTZCLFlBQTdCLEVBQTJDLEtBQUssQ0FBaEQsQ0FBVjs7RUFDQSxPQUFPeUUsVUFBVSxDQUFDLENBQUMxRixDQUFELENBQUQsRUFBTU0sQ0FBTixDQUFqQjtBQUNILENBdEhPLENBc0hMUixFQUFFLENBQUM2RixTQXRIRSxDQUFSOztBQXVIQUMsT0FBTyxXQUFQLEdBQWtCeEYsQ0FBbEIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbInZhciBvO1xyXG52YXIgJGFzc2V0c0xvYWRlciA9IHJlcXVpcmUoXCIuL0Fzc2V0c0xvYWRlclwiKTtcclxudmFyICRhc3NldHNNYXAgPSByZXF1aXJlKFwiLi9Bc3NldHNNYXBcIik7XHJcbnZhciAkcmVzVXRpbCA9IHJlcXVpcmUoXCIuL1Jlc1V0aWxcIik7XHJcbnZhciAkZXZlbnRNYW5hZ2VyID0gcmVxdWlyZShcIi4vRXZlbnRNYW5hZ2VyXCIpO1xyXG52YXIgJGxvZ2luID0gcmVxdWlyZShcIi4vTG9naW5cIik7XHJcbnZhciAkcG9wdXBNYW5hZ2VyID0gcmVxdWlyZShcIi4vUG9wdXBNYW5hZ2VyXCIpO1xyXG52YXIgJHVJTWFuYWdlciA9IHJlcXVpcmUoXCIuL1VJTWFuYWdlclwiKTtcclxudmFyICRwbGF0Zm9ybSA9IHJlcXVpcmUoXCIuL1BsYXRmb3JtXCIpO1xyXG52YXIgJGdsb2JhbFBhcmFtID0gcmVxdWlyZShcIi4vR2xvYmFsUGFyYW1cIik7XHJcbnZhciAkbG9jYWxFdmVudE5hbWUgPSByZXF1aXJlKFwiLi9Mb2NhbEV2ZW50TmFtZVwiKTtcclxudmFyICR1c2VyRGF0YUNvbnRleHQgPSByZXF1aXJlKFwiLi9Vc2VyRGF0YUNvbnRleHRcIik7XHJcbnZhciAkc3RhcnRWaWV3ID0gcmVxdWlyZShcIi4vU3RhcnRWaWV3XCIpO1xyXG52YXIgXyA9IGNjLl9kZWNvcmF0b3I7XHJcbnZhciBrID0gXy5jY2NsYXNzO1xyXG52YXIgdiA9IF8ucHJvcGVydHk7XHJcbnZhciBiID0gKGZ1bmN0aW9uICh0KSB7XHJcbiAgICBmdW5jdGlvbiBlKCkge1xyXG4gICAgICAgIHZhciBlID0gKG51bGwgIT09IHQgJiYgdC5hcHBseSh0aGlzLCBhcmd1bWVudHMpKSB8fCB0aGlzO1xyXG4gICAgICAgIGUuY29pbkxhYmVsID0gbnVsbDtcclxuICAgICAgICBlLmRpYW1vbmRMYWJlbCA9IG51bGw7XHJcbiAgICAgICAgZS5wb3dlckxhYmVsID0gbnVsbDtcclxuICAgICAgICBlLmFkQ29pbkxhYmVsID0gbnVsbDtcclxuICAgICAgICBlLmhlYWROb2RlID0gbnVsbDtcclxuICAgICAgICBlLmdyYWRlTGV2ZWwgPSBudWxsO1xyXG4gICAgICAgIGUubmFtZUxhYmVsID0gbnVsbDtcclxuICAgICAgICByZXR1cm4gZTtcclxuICAgIH1cclxuICAgIF9fZXh0ZW5kcyhlLCB0KTtcclxuICAgIGUucHJvdG90eXBlLnN0YXJ0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICRldmVudE1hbmFnZXIuZGVmYXVsdC5vbigkbG9jYWxFdmVudE5hbWUuZGVmYXVsdC5SRU5ERVJfVVNFUl9JTkZPLCB0aGlzLnJlbmRlciwgdGhpcyk7XHJcbiAgICAgICAgJGV2ZW50TWFuYWdlci5kZWZhdWx0Lm9uKCRsb2NhbEV2ZW50TmFtZS5kZWZhdWx0LlJFTkRFUl9IRUFELCB0aGlzLnJlbmRlckhlYWQsIHRoaXMpO1xyXG4gICAgICAgICRldmVudE1hbmFnZXIuZGVmYXVsdC5vbigkbG9naW4uTG9naW4uTE9HSU5fU1VDQ0VTUywgdGhpcy5yZW5kZXJOYW1lLCB0aGlzKTtcclxuICAgICAgICB0aGlzLm5hbWVMYWJlbCA9IHRoaXMubm9kZS5nZXRDaGlsZEJ5TmFtZShcIm5hbWVfbGFiZWxcIikuZ2V0Q29tcG9uZW50KGNjLkxhYmVsKTtcclxuICAgICAgICB0aGlzLm5hbWVMYWJlbC5zdHJpbmcgPSAkdXNlckRhdGFDb250ZXh0LmRlZmF1bHQuSW5zLm5pY2tuYW1lO1xyXG4gICAgICAgIHRoaXMuY29pbkxhYmVsLm5vZGUucGFyZW50Lm9uKGNjLk5vZGUuRXZlbnRUeXBlLlRPVUNIX1NUQVJULCB0aGlzLnRvdWNoQ29pbiwgdGhpcyk7XHJcbiAgICAgICAgdGhpcy5kaWFtb25kTGFiZWwubm9kZS5wYXJlbnQub24oY2MuTm9kZS5FdmVudFR5cGUuVE9VQ0hfU1RBUlQsIHRoaXMudG91Y2hEaWFtb25kLCB0aGlzKTtcclxuICAgICAgICB0aGlzLnBvd2VyTGFiZWwubm9kZS5wYXJlbnQub24oY2MuTm9kZS5FdmVudFR5cGUuVE9VQ0hfU1RBUlQsIHRoaXMudG91Y2hQb3dlciwgdGhpcyk7XHJcbiAgICAgICAgdGhpcy5hZENvaW5MYWJlbC5ub2RlLnBhcmVudC5vbihjYy5Ob2RlLkV2ZW50VHlwZS5UT1VDSF9TVEFSVCwgdGhpcy50b3VjaEFkQ29pbiwgdGhpcyk7XHJcbiAgICAgICAgdGhpcy5oZWFkTm9kZS5vbihjYy5Ob2RlLkV2ZW50VHlwZS5UT1VDSF9TVEFSVCwgdGhpcy50b3VjaEhlYWQsIHRoaXMpO1xyXG4gICAgICAgIHRoaXMucmVuZGVyKCk7XHJcbiAgICAgICAgdGhpcy5yZW5kZXJIZWFkKCk7XHJcbiAgICAgICAgaWYgKCRwbGF0Zm9ybS5QbGF0Zm9ybS5jdXJyUGxhdEZvcm0gPT09ICRwbGF0Zm9ybS5QbGF0Zm9ybUVudW0uQlJPV1NFUikge1xyXG4gICAgICAgICAgICB0aGlzLm5hbWVMYWJlbC5ub2RlLm9uKGNjLk5vZGUuRXZlbnRUeXBlLlRPVUNIX1NUQVJULCB0aGlzLnRvdWNoR00sIHRoaXMpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBlLnByb3RvdHlwZS50b3VjaEdNID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICRwb3B1cE1hbmFnZXIuUG9wdXBNYW5hZ2VyLmluc3RhbmNlLm9wZW4oJGFzc2V0c01hcC5Bc3NldHNNYXAuUG9wVXBCdW5kbGVzLnByZWZhYnMuYXNzZXRzTGlzdC5HTVZpZXcpO1xyXG4gICAgfTtcclxuICAgIGUucHJvdG90eXBlLnJlbmRlckhlYWQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIHQgPSB0aGlzO1xyXG4gICAgICAgIHZhciBlID0gdGhpcy5oZWFkTm9kZS5jaGlsZHJlblswXS5nZXRDb21wb25lbnQoY2MuU3ByaXRlKTtcclxuICAgICAgICAkYXNzZXRzTG9hZGVyLmRlZmF1bHQuaW5zdGFuY2UubG9hZFJlcyhcclxuICAgICAgICAgICAgJGFzc2V0c01hcC5CdW5kbGVOYW1lcy5QdWJsaWNfUmVzLFxyXG4gICAgICAgICAgICBbXCIvaGVhZF9pY29uL3R4XCIgKyAoJHVzZXJEYXRhQ29udGV4dC5kZWZhdWx0Lklucy5oZWFkSW5kZXggKyAxKV0sXHJcbiAgICAgICAgICAgIGNjLlNwcml0ZUZyYW1lLFxyXG4gICAgICAgICAgICBudWxsLFxyXG4gICAgICAgICAgICBmdW5jdGlvbiAoaSwgbykge1xyXG4gICAgICAgICAgICAgICAgdmFyIG4gPSBvWzBdO1xyXG4gICAgICAgICAgICAgICAgaWYgKG4gJiYgY2MuaXNWYWxpZChlKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGUuc3ByaXRlRnJhbWUgPSAkcmVzVXRpbC5SZXNVdGlsLmFzc2lnbldpdGgobiwgdC5ub2RlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICk7XHJcbiAgICB9O1xyXG4gICAgZS5wcm90b3R5cGUub25EZXN0cm95ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICRldmVudE1hbmFnZXIuZGVmYXVsdC5vZmYoJGxvZ2luLkxvZ2luLkxPR0lOX1NVQ0NFU1MsIHRoaXMucmVuZGVyTmFtZSwgdGhpcyk7XHJcbiAgICAgICAgJGV2ZW50TWFuYWdlci5kZWZhdWx0Lm9mZigkbG9jYWxFdmVudE5hbWUuZGVmYXVsdC5SRU5ERVJfVVNFUl9JTkZPLCB0aGlzLnJlbmRlciwgdGhpcyk7XHJcbiAgICAgICAgJGV2ZW50TWFuYWdlci5kZWZhdWx0Lm9mZigkbG9jYWxFdmVudE5hbWUuZGVmYXVsdC5SRU5ERVJfSEVBRCwgdGhpcy5yZW5kZXJIZWFkLCB0aGlzKTtcclxuICAgIH07XHJcbiAgICBlLnByb3RvdHlwZS5yZW5kZXJOYW1lID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHRoaXMubmFtZUxhYmVsLnN0cmluZyA9ICR1c2VyRGF0YUNvbnRleHQuZGVmYXVsdC5JbnMubmlja25hbWU7XHJcbiAgICB9O1xyXG4gICAgZS5wcm90b3R5cGUudG91Y2hIZWFkID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICRwb3B1cE1hbmFnZXIuUG9wdXBNYW5hZ2VyLmluc3RhbmNlLm9wZW4oJGFzc2V0c01hcC5Bc3NldHNNYXAuUG9wVXBCdW5kbGVzLnByZWZhYnMuYXNzZXRzTGlzdC5TZXR0aW5nVmlldyk7XHJcbiAgICB9O1xyXG4gICAgZS5wcm90b3R5cGUudG91Y2hDb2luID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICRnbG9iYWxQYXJhbS5kZWZhdWx0LmlzU3RhcnRWaWV3XHJcbiAgICAgICAgICAgID8gJGV2ZW50TWFuYWdlci5kZWZhdWx0LnNlbmQoJGxvY2FsRXZlbnROYW1lLmRlZmF1bHQuTUVOVSwgJHN0YXJ0Vmlldy5NZW51VHlwZS5TaG9wLCAyKVxyXG4gICAgICAgICAgICA6ICR1SU1hbmFnZXIuVUlNYW5hZ2VyLmluc3RhbmNlLnJlcGxhY2VWaWV3KFxyXG4gICAgICAgICAgICAgICAgICAkYXNzZXRzTWFwLkFzc2V0c01hcC5TdGFydEJ1bmRsZXMucHJlZmFicy5hc3NldHNMaXN0LlN0YXJ0VmlldyxcclxuICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgdHlwZTogJHN0YXJ0Vmlldy5NZW51VHlwZS5TaG9wLFxyXG4gICAgICAgICAgICAgICAgICAgICAgZXh0OiAyXHJcbiAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICApO1xyXG4gICAgfTtcclxuICAgIGUucHJvdG90eXBlLnRvdWNoRGlhbW9uZCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAkZ2xvYmFsUGFyYW0uZGVmYXVsdC5pc1N0YXJ0Vmlld1xyXG4gICAgICAgICAgICA/ICRldmVudE1hbmFnZXIuZGVmYXVsdC5zZW5kKCRsb2NhbEV2ZW50TmFtZS5kZWZhdWx0Lk1FTlUsICRzdGFydFZpZXcuTWVudVR5cGUuU2hvcCwgMylcclxuICAgICAgICAgICAgOiAkdUlNYW5hZ2VyLlVJTWFuYWdlci5pbnN0YW5jZS5yZXBsYWNlVmlldyhcclxuICAgICAgICAgICAgICAgICAgJGFzc2V0c01hcC5Bc3NldHNNYXAuU3RhcnRCdW5kbGVzLnByZWZhYnMuYXNzZXRzTGlzdC5TdGFydFZpZXcsXHJcbiAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICRzdGFydFZpZXcuTWVudVR5cGUuU2hvcCxcclxuICAgICAgICAgICAgICAgICAgICAgIGV4dDogM1xyXG4gICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgKTtcclxuICAgIH07XHJcbiAgICBlLnByb3RvdHlwZS50b3VjaEFkQ29pbiA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAkZ2xvYmFsUGFyYW0uZGVmYXVsdC5pc1N0YXJ0Vmlld1xyXG4gICAgICAgICAgICA/ICRldmVudE1hbmFnZXIuZGVmYXVsdC5zZW5kKCRsb2NhbEV2ZW50TmFtZS5kZWZhdWx0Lk1FTlUsICRzdGFydFZpZXcuTWVudVR5cGUuU2hvcCwgMilcclxuICAgICAgICAgICAgOiAkdUlNYW5hZ2VyLlVJTWFuYWdlci5pbnN0YW5jZS5yZXBsYWNlVmlldyhcclxuICAgICAgICAgICAgICAgICAgJGFzc2V0c01hcC5Bc3NldHNNYXAuU3RhcnRCdW5kbGVzLnByZWZhYnMuYXNzZXRzTGlzdC5TdGFydFZpZXcsXHJcbiAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICRzdGFydFZpZXcuTWVudVR5cGUuU2hvcCxcclxuICAgICAgICAgICAgICAgICAgICAgIGV4dDogMlxyXG4gICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgKTtcclxuICAgIH07XHJcbiAgICBlLnByb3RvdHlwZS50b3VjaFBvd2VyID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICRnbG9iYWxQYXJhbS5kZWZhdWx0LmlzU3RhcnRWaWV3XHJcbiAgICAgICAgICAgID8gJGV2ZW50TWFuYWdlci5kZWZhdWx0LnNlbmQoJGxvY2FsRXZlbnROYW1lLmRlZmF1bHQuTUVOVSwgJHN0YXJ0Vmlldy5NZW51VHlwZS5TaG9wLCAyKVxyXG4gICAgICAgICAgICA6ICR1SU1hbmFnZXIuVUlNYW5hZ2VyLmluc3RhbmNlLnJlcGxhY2VWaWV3KFxyXG4gICAgICAgICAgICAgICAgICAkYXNzZXRzTWFwLkFzc2V0c01hcC5TdGFydEJ1bmRsZXMucHJlZmFicy5hc3NldHNMaXN0LlN0YXJ0VmlldyxcclxuICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgdHlwZTogJHN0YXJ0Vmlldy5NZW51VHlwZS5TaG9wLFxyXG4gICAgICAgICAgICAgICAgICAgICAgZXh0OiAyXHJcbiAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICApO1xyXG4gICAgfTtcclxuICAgIGUucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB0aGlzLmNvaW5MYWJlbC5zdHJpbmcgPSAkdXNlckRhdGFDb250ZXh0LmRlZmF1bHQuSW5zLmNvaW4udG9TdHJpbmcoKTtcclxuICAgICAgICB0aGlzLmRpYW1vbmRMYWJlbC5zdHJpbmcgPSAkdXNlckRhdGFDb250ZXh0LmRlZmF1bHQuSW5zLmRpYW1vbmQudG9TdHJpbmcoKTtcclxuICAgICAgICB0aGlzLnBvd2VyTGFiZWwuc3RyaW5nID0gJHVzZXJEYXRhQ29udGV4dC5kZWZhdWx0Lklucy5wb3dlci50b1N0cmluZygpO1xyXG4gICAgICAgIHRoaXMuZ3JhZGVMZXZlbC5zdHJpbmcgPSAkdXNlckRhdGFDb250ZXh0LmRlZmF1bHQuSW5zLmdyYWRlSW5mby5ncmFkZS50b1N0cmluZygpO1xyXG4gICAgICAgIHRoaXMuYWRDb2luTGFiZWwuc3RyaW5nID0gJHVzZXJEYXRhQ29udGV4dC5kZWZhdWx0Lklucy5hZENvaW4udG9TdHJpbmcoKTtcclxuICAgIH07XHJcbiAgICBfX2RlY29yYXRlKFt2KGNjLkxhYmVsKV0sIGUucHJvdG90eXBlLCBcImNvaW5MYWJlbFwiLCB2b2lkIDApO1xyXG4gICAgX19kZWNvcmF0ZShbdihjYy5MYWJlbCldLCBlLnByb3RvdHlwZSwgXCJkaWFtb25kTGFiZWxcIiwgdm9pZCAwKTtcclxuICAgIF9fZGVjb3JhdGUoW3YoY2MuTGFiZWwpXSwgZS5wcm90b3R5cGUsIFwicG93ZXJMYWJlbFwiLCB2b2lkIDApO1xyXG4gICAgX19kZWNvcmF0ZShbdihjYy5MYWJlbCldLCBlLnByb3RvdHlwZSwgXCJhZENvaW5MYWJlbFwiLCB2b2lkIDApO1xyXG4gICAgX19kZWNvcmF0ZShbdihjYy5Ob2RlKV0sIGUucHJvdG90eXBlLCBcImhlYWROb2RlXCIsIHZvaWQgMCk7XHJcbiAgICBfX2RlY29yYXRlKFt2KGNjLkxhYmVsKV0sIGUucHJvdG90eXBlLCBcImdyYWRlTGV2ZWxcIiwgdm9pZCAwKTtcclxuICAgIHJldHVybiBfX2RlY29yYXRlKFtrXSwgZSk7XHJcbn0pKGNjLkNvbXBvbmVudCk7XHJcbmV4cG9ydHMuZGVmYXVsdCA9IGI7XHJcbiJdfQ==