{"version":3,"sources":["assets\\game_script\\scripts\\VIVOGamePortal.js"],"names":["o","$baseAd","require","r","window","qg","a","t","e","apply","arguments","__extends","prototype","loadAd","adUnitId","createBoxPortalAd","posId","marginTop","adIns","onLoad","onClose","onError","isLoaded","console","warn","error","showGamePortal","i","showCallback","closeCallback","errorCallback","showing","show","then","destroyAd","reCreateAd","isAutoShow","hideGamePortal","hide","call","offLoad","offClose","offError","destroy","onAdLoad","isConsume","autoShow","onAdError","onAdClose","BaseAd","exports"],"mappings":"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","sourceRoot":"/","sourcesContent":["var o;\r\nvar $baseAd = require(\"./BaseAd\");\r\nvar r = window.qg;\r\nvar a = (function (t) {\r\n    function e() {\r\n        return (null !== t && t.apply(this, arguments)) || this;\r\n    }\r\n    __extends(e, t);\r\n    e.prototype.loadAd = function () {\r\n        if (this.adUnitId) {\r\n            if (r && r.createBoxPortalAd) {\r\n                var t = {\r\n                    posId: this.adUnitId,\r\n                    marginTop: 300\r\n                };\r\n                this.adIns = r.createBoxPortalAd(t);\r\n                if (this.adIns.onLoad) {\r\n                    this.adIns.onLoad(this.onLoad);\r\n                }\r\n                if (this.adIns.onClose) {\r\n                    this.adIns.onClose(this.onClose);\r\n                }\r\n                if (this.adIns.onError) {\r\n                    this.adIns.onError(this.onError);\r\n                }\r\n                this.isLoaded = !1;\r\n            } else {\r\n                console.warn(\"当前平台不支持创建OPPOGamePortal\");\r\n            }\r\n        } else {\r\n            console.error(\"GamePortal ID为空\");\r\n        }\r\n    };\r\n    e.prototype.showGamePortal = function (t, e, i) {\r\n        var o = this;\r\n        this.showCallback = t;\r\n        this.closeCallback = e;\r\n        this.errorCallback = i;\r\n        return this.adIns\r\n            ? this.isLoaded\r\n                ? void (this.showing\r\n                      ? console.warn(this.adUnitId, \":正在显示中，不给显示\")\r\n                      : this.adIns\r\n                      ? this.adIns.show &&\r\n                        this.adIns\r\n                            .show()\r\n                            .then(function () {\r\n                                o.showing = !0;\r\n                                if (o.showCallback) {\r\n                                    o.showCallback();\r\n                                }\r\n                                o.showCallback = null;\r\n                            })\r\n                            .catch(function (t) {\r\n                                o.showing = !1;\r\n                                console.warn(\"interstitial show error:\", t);\r\n                                o.destroyAd();\r\n                            })\r\n                      : (console.warn(\"interstitial,interstitial对象未创建,将在创建完成后自动显示\"),\r\n                        this.reCreateAd(!0)))\r\n                : (console.warn(this.adUnitId, \":未加载完成，稍等\"), void (this.isAutoShow = !0))\r\n            : (console.warn(this.adUnitId, \":未创建，执行创建\"), (this.isAutoShow = !0), this.loadAd());\r\n    };\r\n    e.prototype.hideGamePortal = function (t, e) {\r\n        var i = this;\r\n        this.adIns\r\n            ? this.adIns.hide &&\r\n              this.adIns\r\n                  .hide()\r\n                  .then(function () {\r\n                      i.showing = !1;\r\n                      if (t) {\r\n                          t();\r\n                      }\r\n                  })\r\n                  .catch(function (t) {\r\n                      if (e) {\r\n                          e();\r\n                      }\r\n                      console.error(\"隐藏GamePortal错误\", t);\r\n                  })\r\n            : console.error(\"GamePortal实例\", this.adIns, \"为空\");\r\n    };\r\n    e.prototype.reCreateAd = function (t) {\r\n        this.destroyAd();\r\n        this.isAutoShow = t;\r\n        this.loadAd();\r\n    };\r\n    e.prototype.destroyAd = function () {\r\n        t.prototype.destroyAd.call(this);\r\n        if (this.adIns) {\r\n            if (this.adIns.offLoad) {\r\n                this.adIns.offLoad(this.onLoad);\r\n            }\r\n            if (this.adIns.offClose) {\r\n                this.adIns.offClose(this.onClose);\r\n            }\r\n            if (this.adIns.offError) {\r\n                this.adIns.offError(this.onError);\r\n            }\r\n            if (this.adIns.destroy) {\r\n                this.adIns.destroy();\r\n            }\r\n            this.adIns = null;\r\n        }\r\n    };\r\n    e.prototype.onAdLoad = function () {\r\n        t.prototype.onAdLoad.call(this);\r\n        this.isConsume = !1;\r\n        this.isLoaded = !0;\r\n        this.autoShow();\r\n    };\r\n    e.prototype.onAdError = function (e) {\r\n        t.prototype.onAdError.call(this, e);\r\n        this.showing = !1;\r\n        if (this.errorCallback) {\r\n            this.errorCallback();\r\n        }\r\n        this.destroyAd();\r\n    };\r\n    e.prototype.onAdClose = function () {\r\n        t.prototype.onAdClose.call(this);\r\n        this.showing = !1;\r\n        if (this.closeCallback) {\r\n            this.closeCallback();\r\n        }\r\n        this.reCreateAd(!1);\r\n    };\r\n    e.prototype.autoShow = function () {\r\n        if (this.isAutoShow) {\r\n            this.isAutoShow = !1;\r\n            this.showGamePortal(this.showCallback, this.closeCallback, this.errorCallback);\r\n        }\r\n    };\r\n    return e;\r\n})($baseAd.BaseAd);\r\nexports.default = a;\r\n"]}