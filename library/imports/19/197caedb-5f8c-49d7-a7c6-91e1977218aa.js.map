{"version":3,"sources":["assets\\game_script\\scripts\\SBullet_4.js"],"names":["o","$object","require","$gameContext","$enemyStatus","$baseBullet","u","cc","_decorator","d","ccclass","p","property","Vec3","f","t","e","apply","arguments","buttleType","BulletType","s_bullet_4","time","currTime","bulletStatus","dis","start2PosY","__extends","prototype","initButtle","call","atk","ins","skillInfo","skinAtk","speed","skinParam","velocity","set","multiplyScalar","updateFrame","y","easeOutCubic","x","node","setPosition","easeInCubic","removeSelf","onTrigger","Trigger","enter","i","object","sufferAtk","skillSpecialitys","type","EnemyDebuffType","BACK","timeLeft","value","sufferDebuff","__decorate","exports"],"mappings":"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","sourceRoot":"/","sourcesContent":["var o;\r\nvar $object = require(\"./Object\");\r\nvar $gameContext = require(\"./GameContext\");\r\nvar $enemyStatus = require(\"./EnemyStatus\");\r\nvar $baseBullet = require(\"./BaseBullet\");\r\nvar u = cc._decorator;\r\nvar d = u.ccclass;\r\nvar p = (u.property, new cc.Vec3());\r\nvar f = (function (t) {\r\n    function e() {\r\n        var e = (null !== t && t.apply(this, arguments)) || this;\r\n        e.buttleType = $baseBullet.BulletType.s_bullet_4;\r\n        e.time = 0;\r\n        e.currTime = 0;\r\n        e.bulletStatus = 0;\r\n        e.dis = 0;\r\n        e.start2PosY = 0;\r\n        return e;\r\n    }\r\n    __extends(e, t);\r\n    e.prototype.initButtle = function (e) {\r\n        t.prototype.initButtle.call(this, e, null);\r\n        this.bulletStatus = 0;\r\n        this.currTime = 0;\r\n        this.atk = $gameContext.default.ins.skillInfo.skinAtk;\r\n        this.speed = $gameContext.default.ins.skillInfo.skinParam[4];\r\n        this.time = $gameContext.default.ins.skillInfo.skinParam[3] / this.speed;\r\n        this.start2PosY = -350 + $gameContext.default.ins.skillInfo.skinParam[3];\r\n        this.dis = this.start2PosY + 350;\r\n        if (e) {\r\n            this.velocity.set(e).multiplyScalar(this.speed);\r\n        }\r\n    };\r\n    e.prototype.updateFrame = function (t) {\r\n        if (0 === this.bulletStatus) {\r\n            this.currTime += t;\r\n            this.currTime >= this.time && ((this.currTime = this.time), (this.bulletStatus = 1));\r\n            p.y = this.easeOutCubic(this.currTime, -350, this.dis, this.time);\r\n            p.x = this.node.x;\r\n            this.setPosition(p);\r\n            this.currTime >= this.time && (this.currTime = 0);\r\n        } else {\r\n            if (1 === this.bulletStatus) {\r\n                this.currTime += t;\r\n                this.currTime >= this.time && ((this.currTime = this.time), (this.bulletStatus = 2));\r\n                p.y = this.easeInCubic(this.currTime, this.start2PosY, -this.dis, this.time);\r\n                p.x = this.node.x;\r\n                this.setPosition(p);\r\n            } else {\r\n                if (2 === this.bulletStatus) {\r\n                    this.bulletStatus = 3;\r\n                    return this.removeSelf();\r\n                }\r\n            }\r\n        }\r\n    };\r\n    e.prototype.onTrigger = function (t, e) {\r\n        if (e == $object.Trigger.enter) {\r\n            var i = t.object;\r\n            i.sufferAtk({\r\n                skillSpecialitys: this.skillSpecialitys,\r\n                atk: this.atk\r\n            });\r\n            if (0 === this.bulletStatus) {\r\n                var o = {\r\n                    type: $enemyStatus.EnemyDebuffType.BACK,\r\n                    timeLeft: -1,\r\n                    value: $gameContext.default.ins.skillInfo.skinParam[5]\r\n                };\r\n                i.sufferDebuff(o);\r\n            }\r\n        }\r\n    };\r\n    e.prototype.easeOutCubic = function (t, e, i, o) {\r\n        return i * ((t = t / o - 1) * t * t + 1) + e;\r\n    };\r\n    e.prototype.easeInCubic = function (t, e, i, o) {\r\n        return i * (t /= o) * t * t + e;\r\n    };\r\n    return __decorate([d], e);\r\n})($baseBullet.default);\r\nexports.default = f;\r\n"]}