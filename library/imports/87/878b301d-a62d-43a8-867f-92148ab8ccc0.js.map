{"version":3,"sources":["assets\\game_script\\scripts\\SBullet_7.js"],"names":["o","$object","require","$globalParam","$gameContext","$enemyStatus","$baseBullet","d","cc","_decorator","p","ccclass","f","property","Vec3","ZERO","h","t","e","apply","arguments","buttleType","BulletType","s_bullet_7","leftTime","currAngle","attackAtks","Set","isStart","startTime","__extends","prototype","initButtle","i","call","clear","atk","ins","skillInfo","skinAtk","speed","setAngle","y","getPosition","onTrigger","object","Trigger","enter","stay","has","add","sufferAtk","skillSpecialitys","x","n","type","EnemyDebuffType","BACK","timeLeft","value","skinParam","dir","v2","normalizeSelf","sufferDebuff","updateFrame","isGamePuase","removeSelf","__decorate","exports"],"mappings":"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","sourceRoot":"/","sourcesContent":["var o;\r\nvar $object = require(\"./Object\");\r\nvar $globalParam = require(\"./GlobalParam\");\r\nvar $gameContext = require(\"./GameContext\");\r\nvar $enemyStatus = require(\"./EnemyStatus\");\r\nvar $baseBullet = require(\"./BaseBullet\");\r\nvar d = cc._decorator;\r\nvar p = d.ccclass;\r\nvar f = (d.property, cc.Vec3.ZERO);\r\nvar h = (function (t) {\r\n    function e() {\r\n        var e = (null !== t && t.apply(this, arguments)) || this;\r\n        e.buttleType = $baseBullet.BulletType.s_bullet_7;\r\n        e.leftTime = 0.8;\r\n        e.currAngle = 180;\r\n        e.attackAtks = new Set();\r\n        e.isStart = !1;\r\n        e.startTime = 0.5;\r\n        return e;\r\n    }\r\n    __extends(e, t);\r\n    e.prototype.initButtle = function (e, i) {\r\n        t.prototype.initButtle.call(this, e, i);\r\n        this.attackAtks.clear();\r\n        this.atk = $gameContext.default.ins.skillInfo.skinAtk;\r\n        this.startTime = 0.5;\r\n        this.isStart = !1;\r\n        this.leftTime = 0.8;\r\n        this.currAngle = 180;\r\n        this.speed = this.currAngle / this.leftTime;\r\n        this.setAngle(this.currAngle);\r\n        f.y = this.getPosition().y;\r\n    };\r\n    e.prototype.onTrigger = function (t, e) {\r\n        var i = t.object;\r\n        if (this.isStart && (e === $object.Trigger.enter || e === $object.Trigger.stay)) {\r\n            if (this.attackAtks.has(i)) {\r\n                return;\r\n            }\r\n            this.attackAtks.add(i);\r\n            i.sufferAtk({\r\n                atk: this.atk,\r\n                skillSpecialitys: this.skillSpecialitys\r\n            });\r\n            var o = i.getPosition();\r\n            f.x = o.x;\r\n            f.y = o.y - this.getPosition().y;\r\n            var n = {\r\n                type: $enemyStatus.EnemyDebuffType.BACK,\r\n                timeLeft: -1,\r\n                value: $gameContext.default.ins.skillInfo.skinParam[3],\r\n                dir: cc.v2(f.y, -f.x).normalizeSelf()\r\n            };\r\n            i.sufferDebuff(n);\r\n        }\r\n    };\r\n    e.prototype.updateFrame = function (t) {\r\n        if (!this.isStart) {\r\n            this.startTime -= t;\r\n            if (this.startTime <= 0) {\r\n                this.isStart = !0;\r\n            }\r\n        }\r\n        if (!$globalParam.default.isGamePuase && this.isStart) {\r\n            this.leftTime -= t;\r\n            if (this.leftTime <= 0) {\r\n                this.removeSelf();\r\n            }\r\n            if (!(this.currAngle <= 0)) {\r\n                this.currAngle -= this.speed * t;\r\n                this.setAngle(this.currAngle);\r\n            }\r\n        }\r\n    };\r\n    return __decorate([p], e);\r\n})($baseBullet.default);\r\nexports.default = h;\r\n"]}