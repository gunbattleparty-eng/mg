{"version":3,"sources":["assets\\game_script\\scripts\\BaseAdNode.js"],"names":["o","$aDAssetsManager","require","r","t","e","apply","arguments","adNode","adData","__extends","prototype","createNativeAd","i","cc","isValid","destroy","instance","createNodeByPreloading","adAssetsMap","prefabs","zIndex","macro","MAX_ZINDEX","director","getScene","getChildByName","parent","n","children","length","a","name","includes","on","destroyNativeAdNode","destroyAd","call","setAdData","loader","load","url","type","console","error","SpriteFrame","getComponent","Sprite","spriteFrame","Label","string","s","BaseAd","exports"],"mappings":"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","sourceRoot":"/","sourcesContent":["var o;\r\nvar $aDAssetsManager = require(\"./ADAssetsManager\");\r\nvar r = (function (t) {\r\n    function e() {\r\n        var e = (null !== t && t.apply(this, arguments)) || this;\r\n        e.adNode = null;\r\n        e.adData = null;\r\n        return e;\r\n    }\r\n    __extends(e, t);\r\n    e.prototype.createNativeAd = function (t, e, i) {\r\n        if (cc.isValid(this.adNode)) {\r\n            this.adNode.destroy();\r\n        }\r\n        this.adNode = $aDAssetsManager.default.instance.createNodeByPreloading($aDAssetsManager.adAssetsMap.prefabs[t]);\r\n        this.adNode.zIndex = cc.macro.MAX_ZINDEX;\r\n        var o = cc.director.getScene().getChildByName(\"Canvas\");\r\n        this.adNode.parent = o;\r\n        var n = this.adNode.getChildByName(\"content\");\r\n        for (var r = 0; r < n.children.length; r++) {\r\n            var a = n.children[r];\r\n            if (a.name.includes(\"btn_click\")) {\r\n                a.on(\"click\", e, this);\r\n            }\r\n            if (a.name.includes(\"btn_close\")) {\r\n                a.on(\"click\", i, this);\r\n            }\r\n        }\r\n    };\r\n    e.prototype.destroyNativeAdNode = function () {\r\n        if (cc.isValid(this.adNode)) {\r\n            this.adNode.destroy();\r\n            this.adNode = null;\r\n        }\r\n    };\r\n    e.prototype.destroyAd = function () {\r\n        this.destroyNativeAdNode();\r\n        t.prototype.destroyAd.call(this);\r\n    };\r\n    e.prototype.setAdData = function (t, e, i) {\r\n        if (cc.isValid(this.adNode)) {\r\n            var o = this.adNode.getChildByName(\"content\");\r\n            if (t) {\r\n                cc.loader.load(\r\n                    {\r\n                        url: t,\r\n                        type: \"png\"\r\n                    },\r\n                    function (t, e) {\r\n                        if (t) {\r\n                            console.error(\"img加载失败\");\r\n                        } else {\r\n                            {\r\n                                var i = new cc.SpriteFrame(e);\r\n                                i\r\n                                    ? (o.getChildByName(\"ad_icon\").getComponent(cc.Sprite).spriteFrame = i)\r\n                                    : console.error(\"img加载失败\");\r\n                            }\r\n                        }\r\n                    }\r\n                );\r\n            }\r\n            var n = o.getChildByName(\"ad_title\");\r\n            if (cc.isValid(n) && e) {\r\n                n.getComponent(cc.Label).string = e;\r\n            }\r\n            var s = o.getChildByName(\"ad_dest\");\r\n            if (cc.isValid(s) && i) {\r\n                s.getComponent(cc.Label).string = e;\r\n            }\r\n        }\r\n    };\r\n    return e;\r\n})(require(\"./BaseAd\").BaseAd);\r\nexports.default = r;\r\n"]}