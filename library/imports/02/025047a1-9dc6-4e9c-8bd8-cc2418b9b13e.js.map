{"version":3,"sources":["assets\\game_script\\scripts\\SBullet_2.js"],"names":["o","$object","require","$assetsLoader","$assetsMap","$resUtil","$gameContext","$baseBullet","p","cc","_decorator","f","ccclass","h","property","t","e","apply","arguments","buttleType","BulletType","s_bullet_2","__extends","prototype","initButtle","call","atk","ins","skillInfo","skinAtk","speed","skinParam","velocity","set","multiplyScalar","onTrigger","isUse","Trigger","enter","i","object","sufferAtk","skillSpecialitys","createButtleBoom","removeSelf","getButtlePool","s_bullet_2_1","instance","getRes","BundleNames","Game","AssetsMap","GameBundles","prefabs","assetsList","SBullet_2_1","ResUtil","instantiate","lowBulletLayer","parent","getComponent","setPosition","v3","node","position","x","y","initSBullet","insert","setAnimation","__decorate","exports"],"mappings":"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","sourceRoot":"/","sourcesContent":["var o;\r\nvar $object = require(\"./Object\");\r\nvar $assetsLoader = require(\"./AssetsLoader\");\r\nvar $assetsMap = require(\"./AssetsMap\");\r\nvar $resUtil = require(\"./ResUtil\");\r\nvar $gameContext = require(\"./GameContext\");\r\nvar $baseBullet = require(\"./BaseBullet\");\r\nvar p = cc._decorator;\r\nvar f = p.ccclass;\r\nvar h =\r\n    (p.property,\r\n    (function (t) {\r\n        function e() {\r\n            var e = (null !== t && t.apply(this, arguments)) || this;\r\n            e.buttleType = $baseBullet.BulletType.s_bullet_2;\r\n            return e;\r\n        }\r\n        __extends(e, t);\r\n        e.prototype.initButtle = function (e) {\r\n            t.prototype.initButtle.call(this, e, null);\r\n            this.atk = $gameContext.default.ins.skillInfo.skinAtk;\r\n            this.speed = $gameContext.default.ins.skillInfo.skinParam[3];\r\n            if (e) {\r\n                this.velocity.set(e).multiplyScalar(this.speed);\r\n            }\r\n        };\r\n        e.prototype.onTrigger = function (t, e) {\r\n            if (!this.isUse && e == $object.Trigger.enter) {\r\n                var i = t.object;\r\n                i.sufferAtk({\r\n                    skillSpecialitys: this.skillSpecialitys,\r\n                    atk: this.atk\r\n                });\r\n                this.createButtleBoom(i);\r\n                this.removeSelf();\r\n            }\r\n        };\r\n        e.prototype.createButtleBoom = function (t) {\r\n            var e = $gameContext.default.ins.getButtlePool($baseBullet.BulletType.s_bullet_2_1);\r\n            if (!e) {\r\n                var i = $assetsLoader.default.instance.getRes(\r\n                    $assetsMap.BundleNames.Game,\r\n                    $assetsMap.AssetsMap.GameBundles.prefabs.assetsList.SBullet_2_1\r\n                );\r\n                e = $resUtil.ResUtil.instantiate(i, $gameContext.default.ins.lowBulletLayer.parent).getComponent(\r\n                    $baseBullet.default\r\n                );\r\n            }\r\n            e.setPosition(cc.v3(t.node.position.x, this.node.position.y));\r\n            e.initSBullet();\r\n            e.insert($gameContext.default.ins.lowBulletLayer);\r\n            e.setAnimation(null);\r\n        };\r\n        return __decorate([f], e);\r\n    })($baseBullet.default));\r\nexports.default = h;\r\n"]}