{"version":3,"sources":["assets\\game_script\\scripts\\RBullet_5_3.js"],"names":["o","$object","require","$countDownUtil","$gameContext","$gameSkillInfo","$baseBullet","d","cc","_decorator","p","ccclass","f","property","t","e","apply","arguments","buttleType","BulletType","r_bullet_5_3","timeLeft","__extends","prototype","initButtle","call","atk","Math","ceil","ins","skillInfo","robotParam","skillParam","skillAtk","Skill4Param","FINAL","i","setScale","v3","onTrigger","isUse","Trigger","stay","object","CountDownUtil","time","getLastAtkTime","gameRatio","setLastAtkTime","sufferAtk","skillSpecialitys","updateFrame","removeSelf","__decorate","exports"],"mappings":"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","sourceRoot":"/","sourcesContent":["var o;\r\nvar $object = require(\"./Object\");\r\nvar $countDownUtil = require(\"./CountDownUtil\");\r\nvar $gameContext = require(\"./GameContext\");\r\nvar $gameSkillInfo = require(\"./GameSkillInfo\");\r\nvar $baseBullet = require(\"./BaseBullet\");\r\nvar d = cc._decorator;\r\nvar p = d.ccclass;\r\nvar f =\r\n    (d.property,\r\n    (function (t) {\r\n        function e() {\r\n            var e = (null !== t && t.apply(this, arguments)) || this;\r\n            e.buttleType = $baseBullet.BulletType.r_bullet_5_3;\r\n            e.timeLeft = 0;\r\n            return e;\r\n        }\r\n        __extends(e, t);\r\n        e.prototype.initButtle = function (e) {\r\n            t.prototype.initButtle.call(this, e, null);\r\n            this.atk = Math.ceil(\r\n                $gameContext.default.ins.skillInfo.robotParam[6] *\r\n                    this.skillParam.skillAtk[$gameSkillInfo.Skill4Param.FINAL]\r\n            );\r\n            var i = $gameContext.default.ins.skillInfo.robotParam[9];\r\n            this.setScale(cc.v3(i, i));\r\n            this.timeLeft = $gameContext.default.ins.skillInfo.robotParam[8];\r\n        };\r\n        e.prototype.onTrigger = function (t, e) {\r\n            if (!this.isUse && e == $object.Trigger.stay) {\r\n                var i = t.object;\r\n                if (\r\n                    $countDownUtil.CountDownUtil.time - i.getLastAtkTime(5) <=\r\n                    $gameContext.default.ins.skillInfo.robotParam[7] / $gameContext.default.ins.gameRatio\r\n                ) {\r\n                    return;\r\n                }\r\n                i.setLastAtkTime(5, $countDownUtil.CountDownUtil.time);\r\n                i.sufferAtk({\r\n                    skillSpecialitys: [],\r\n                    atk: this.atk\r\n                });\r\n            }\r\n        };\r\n        e.prototype.updateFrame = function (t) {\r\n            if (!(this.timeLeft <= 0)) {\r\n                this.timeLeft -= t;\r\n                if (this.timeLeft <= 0) {\r\n                    this.removeSelf();\r\n                }\r\n            }\r\n        };\r\n        return __decorate([p], e);\r\n    })($baseBullet.default));\r\nexports.default = f;\r\n"]}