
                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/game_script/scripts/RBullet_8.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '43271o1BYlAUoMwo94OKMs6', 'RBullet_8');
// game_script/scripts/RBullet_8.js

"use strict";

var o;

var $assetsLoader = require("./AssetsLoader");

var $assetsMap = require("./AssetsMap");

var $resUtil = require("./ResUtil");

var $globalParam = require("./GlobalParam");

var $gameContext = require("./GameContext");

var $gameSkillInfo = require("./GameSkillInfo");

var $baseBullet = require("./BaseBullet");

var f = cc._decorator;
var h = f.ccclass;
var m = f.property;
var y = new cc.Vec3();

var g = function (t) {
  function e() {
    var e = null !== t && t.apply(this, arguments) || this;
    e.buttleType = $baseBullet.BulletType.r_bullet_8;
    e.skin = null;
    e.status = 0;
    e.leftTime = 0;
    e.targetEnemy = null;
    e.findLeftTime = 0;
    e.atkLeftTime = 0;
    e.atkIntervalTime = 1;
    e.pointNode = null;
    return e;
  }

  __extends(e, t);

  e.prototype.initButtle = function (e) {
    this.targetEnemy = null;
    this.speed = $gameContext["default"].ins.skillInfo.robotParam[3];
    this.atkIntervalTime = $gameContext["default"].ins.skillInfo.robotParam[4];
    this.leftTime = $gameContext["default"].ins.skillInfo.robotParam[5];
    t.prototype.initButtle.call(this, e, null);
    this.atk = Math.ceil($gameContext["default"].ins.skillInfo.robotParam[0] * this.skillParam.skillAtk[$gameSkillInfo.Skill4Param.FINAL]);
    this.status = 0;
    this.node.zIndex = 10;

    if (e) {
      this.velocity.set(e).multiplyScalar(this.speed);
    }
  };

  e.prototype.attack = function (t) {
    var e = this;
    this.atkLeftTime -= t;

    if (!(this.atkLeftTime > 0)) {
      this.atkLeftTime = 1;
      this.skin.off(dragonBones.EventObject.COMPLETE);
      this.playAnim("hit", 1);
      this.skin.once(dragonBones.EventObject.COMPLETE, function () {
        e.atkLeftTime = e.atkIntervalTime;
        e.playAnim("stand_2", 0);
        e.targetEnemy.getPosition().y < -250 ? (e.targetEnemy.removeDieCallback(e), e.status = 0) : 0 !== e.status && (e.status = 1);
      }, this);
      this.createBullet();
    }
  };

  e.prototype.findTarget = function (t) {
    if ("stand_2" !== this.skin.animationName) {
      this.skin.off(dragonBones.EventObject.COMPLETE);
      this.playAnim("stand_2", 0);
    }

    this.findLeftTime -= t;

    if (this.findLeftTime <= 0) {
      this.findLeftTime = 1;
      var e = this.getTarget();

      if (e) {
        this.targetEnemy = e;
        this.targetEnemy.addDieCallback(this.targetDie, this);
        this.status = 1;
      }
    }
  };

  e.prototype.getTarget = function () {
    var t = [];

    for (var e = 0; e < $gameContext["default"].ins.currEnemys.length; e++) {
      var i = $gameContext["default"].ins.currEnemys[e];

      if (i && i.getPosition().y >= -250 && Math.abs(i.getPosition().y - this.pointNode.position.y) < $gameContext["default"].ins.skillInfo.robotParam[2]) {
        t.push(i);
      }
    }

    return t.length < 0 ? null : (t.sort(function (t, e) {
      return t.residueDis - e.residueDis;
    }), t[0]);
  };

  e.prototype.findPath = function (t) {
    y.x = this.targetEnemy.getPosition().x - this.node.position.x;
    y.y = this.targetEnemy.getPosition().y - this.node.position.y - 100;
    y.z = 0;
    y.normalizeSelf();
    Math.abs(this.targetEnemy.getPosition().x - this.node.position.x) <= 30 && Math.abs(this.targetEnemy.getPosition().y - this.node.position.y - 100) <= 30 ? 0 !== this.status && (this.status = 2) : ("stand_2" !== this.skin.animationName && (this.skin.off(dragonBones.EventObject.COMPLETE), this.playAnim("stand_2", 0)), this.setPosition(y.mulSelf(this.speed * t).add(this.getPosition())));
  };

  e.prototype.targetDie = function () {
    this.status = 0;
  };

  e.prototype.updateFrame = function (t) {
    if (!($globalParam["default"].isGamePuase || this.leftTime <= 0)) {
      this.leftTime -= t;
      this.leftTime <= 0 ? this.removeSelf() : this.updateStatus(t);
    }
  };

  e.prototype.updateStatus = function (t) {
    0 === this.status ? this.findTarget(t) : 1 === this.status ? this.findPath(t) : 2 === this.status && this.attack(t);
  };

  e.prototype.playAnim = function (t, e) {
    this.skin.timeScale = $gameContext["default"].ins.gameRatio;
    this.skin.playAnimation(t, e);
  };

  e.prototype.createBullet = function () {
    var t = $gameContext["default"].ins.getButtlePool($baseBullet.BulletType.r_bullet_8_1);

    if (!t) {
      var e = $assetsLoader["default"].instance.getRes($assetsMap.BundleNames.Game, $assetsMap.AssetsMap.GameBundles.prefabs.assetsList.RBullet_8_1);
      t = $resUtil.ResUtil.instantiate(e, $gameContext["default"].ins.robotFlyLayer.parent).getComponent($baseBullet["default"]);
    }

    t.setPosition(this.node.position.clone());
    y.x = 0;
    y.y = 1;
    t.initButtle(y, null);
    t.insert($gameContext["default"].ins.robotFlyLayer);
  };

  __decorate([m(dragonBones.ArmatureDisplay)], e.prototype, "skin", void 0);

  return __decorate([h], e);
}($baseBullet["default"]);

exports["default"] = g;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcZ2FtZV9zY3JpcHRcXHNjcmlwdHNcXFJCdWxsZXRfOC5qcyJdLCJuYW1lcyI6WyJvIiwiJGFzc2V0c0xvYWRlciIsInJlcXVpcmUiLCIkYXNzZXRzTWFwIiwiJHJlc1V0aWwiLCIkZ2xvYmFsUGFyYW0iLCIkZ2FtZUNvbnRleHQiLCIkZ2FtZVNraWxsSW5mbyIsIiRiYXNlQnVsbGV0IiwiZiIsImNjIiwiX2RlY29yYXRvciIsImgiLCJjY2NsYXNzIiwibSIsInByb3BlcnR5IiwieSIsIlZlYzMiLCJnIiwidCIsImUiLCJhcHBseSIsImFyZ3VtZW50cyIsImJ1dHRsZVR5cGUiLCJCdWxsZXRUeXBlIiwicl9idWxsZXRfOCIsInNraW4iLCJzdGF0dXMiLCJsZWZ0VGltZSIsInRhcmdldEVuZW15IiwiZmluZExlZnRUaW1lIiwiYXRrTGVmdFRpbWUiLCJhdGtJbnRlcnZhbFRpbWUiLCJwb2ludE5vZGUiLCJfX2V4dGVuZHMiLCJwcm90b3R5cGUiLCJpbml0QnV0dGxlIiwic3BlZWQiLCJpbnMiLCJza2lsbEluZm8iLCJyb2JvdFBhcmFtIiwiY2FsbCIsImF0ayIsIk1hdGgiLCJjZWlsIiwic2tpbGxQYXJhbSIsInNraWxsQXRrIiwiU2tpbGw0UGFyYW0iLCJGSU5BTCIsIm5vZGUiLCJ6SW5kZXgiLCJ2ZWxvY2l0eSIsInNldCIsIm11bHRpcGx5U2NhbGFyIiwiYXR0YWNrIiwib2ZmIiwiZHJhZ29uQm9uZXMiLCJFdmVudE9iamVjdCIsIkNPTVBMRVRFIiwicGxheUFuaW0iLCJvbmNlIiwiZ2V0UG9zaXRpb24iLCJyZW1vdmVEaWVDYWxsYmFjayIsImNyZWF0ZUJ1bGxldCIsImZpbmRUYXJnZXQiLCJhbmltYXRpb25OYW1lIiwiZ2V0VGFyZ2V0IiwiYWRkRGllQ2FsbGJhY2siLCJ0YXJnZXREaWUiLCJjdXJyRW5lbXlzIiwibGVuZ3RoIiwiaSIsImFicyIsInBvc2l0aW9uIiwicHVzaCIsInNvcnQiLCJyZXNpZHVlRGlzIiwiZmluZFBhdGgiLCJ4IiwieiIsIm5vcm1hbGl6ZVNlbGYiLCJzZXRQb3NpdGlvbiIsIm11bFNlbGYiLCJhZGQiLCJ1cGRhdGVGcmFtZSIsImlzR2FtZVB1YXNlIiwicmVtb3ZlU2VsZiIsInVwZGF0ZVN0YXR1cyIsInRpbWVTY2FsZSIsImdhbWVSYXRpbyIsInBsYXlBbmltYXRpb24iLCJnZXRCdXR0bGVQb29sIiwicl9idWxsZXRfOF8xIiwiaW5zdGFuY2UiLCJnZXRSZXMiLCJCdW5kbGVOYW1lcyIsIkdhbWUiLCJBc3NldHNNYXAiLCJHYW1lQnVuZGxlcyIsInByZWZhYnMiLCJhc3NldHNMaXN0IiwiUkJ1bGxldF84XzEiLCJSZXNVdGlsIiwiaW5zdGFudGlhdGUiLCJyb2JvdEZseUxheWVyIiwicGFyZW50IiwiZ2V0Q29tcG9uZW50IiwiY2xvbmUiLCJpbnNlcnQiLCJfX2RlY29yYXRlIiwiQXJtYXR1cmVEaXNwbGF5IiwiZXhwb3J0cyJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSxJQUFJQSxDQUFKOztBQUNBLElBQUlDLGFBQWEsR0FBR0MsT0FBTyxDQUFDLGdCQUFELENBQTNCOztBQUNBLElBQUlDLFVBQVUsR0FBR0QsT0FBTyxDQUFDLGFBQUQsQ0FBeEI7O0FBQ0EsSUFBSUUsUUFBUSxHQUFHRixPQUFPLENBQUMsV0FBRCxDQUF0Qjs7QUFDQSxJQUFJRyxZQUFZLEdBQUdILE9BQU8sQ0FBQyxlQUFELENBQTFCOztBQUNBLElBQUlJLFlBQVksR0FBR0osT0FBTyxDQUFDLGVBQUQsQ0FBMUI7O0FBQ0EsSUFBSUssY0FBYyxHQUFHTCxPQUFPLENBQUMsaUJBQUQsQ0FBNUI7O0FBQ0EsSUFBSU0sV0FBVyxHQUFHTixPQUFPLENBQUMsY0FBRCxDQUF6Qjs7QUFDQSxJQUFJTyxDQUFDLEdBQUdDLEVBQUUsQ0FBQ0MsVUFBWDtBQUNBLElBQUlDLENBQUMsR0FBR0gsQ0FBQyxDQUFDSSxPQUFWO0FBQ0EsSUFBSUMsQ0FBQyxHQUFHTCxDQUFDLENBQUNNLFFBQVY7QUFDQSxJQUFJQyxDQUFDLEdBQUcsSUFB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LFVBQVUsQ0FBQzRGLFdBQVgsQ0FBdUJDLElBRG5CLEVBRUo3RixVQUFVLENBQUM4RixTQUFYLENBQXFCQyxXQUFyQixDQUFpQ0MsT0FBakMsQ0FBeUNDLFVBQXpDLENBQW9EQyxXQUZoRCxDQUFSO01BSUFsRixDQUFDLEdBQUdmLFFBQVEsQ0FBQ2tHLE9BQVQsQ0FBaUJDLFdBQWpCLENBQTZCbkYsQ0FBN0IsRUFBZ0NkLFlBQVksV0FBWixDQUFxQmdDLEdBQXJCLENBQXlCa0UsYUFBekIsQ0FBdUNDLE1BQXZFLEVBQStFQyxZQUEvRSxDQUNBbEcsV0FBVyxXQURYLENBQUo7SUFHSDs7SUFDRFcsQ0FBQyxDQUFDOEQsV0FBRixDQUFjLEtBQUtoQyxJQUFMLENBQVV3QixRQUFWLENBQW1Ca0MsS0FBbkIsRUFBZDtJQUNBM0YsQ0FBQyxDQUFDOEQsQ0FBRixHQUFNLENBQU47SUFDQTlELENBQUMsQ0FBQ0EsQ0FBRixHQUFNLENBQU47SUFDQUcsQ0FBQyxDQUFDaUIsVUFBRixDQUFhcEIsQ0FBYixFQUFnQixJQUFoQjtJQUNBRyxDQUFDLENBQUN5RixNQUFGLENBQVN0RyxZQUFZLFdBQVosQ0FBcUJnQyxHQUFyQixDQUF5QmtFLGFBQWxDO0VBQ0gsQ0FoQkQ7O0VBaUJBSyxVQUFVLENBQUMsQ0FBQy9GLENBQUMsQ0FBQzBDLFdBQVcsQ0FBQ3NELGVBQWIsQ0FBRixDQUFELEVBQW1DMUYsQ0FBQyxDQUFDZSxTQUFyQyxFQUFnRCxNQUFoRCxFQUF3RCxLQUFLLENBQTdELENBQVY7O0VBQ0EsT0FBTzBFLFVBQVUsQ0FBQyxDQUFDakcsQ0FBRCxDQUFELEVBQU1RLENBQU4sQ0FBakI7QUFDSCxDQTNJTyxDQTJJTFosV0FBVyxXQTNJTixDQUFSOztBQTRJQXVHLE9BQU8sV0FBUCxHQUFrQjdGLENBQWxCIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgbztcclxudmFyICRhc3NldHNMb2FkZXIgPSByZXF1aXJlKFwiLi9Bc3NldHNMb2FkZXJcIik7XHJcbnZhciAkYXNzZXRzTWFwID0gcmVxdWlyZShcIi4vQXNzZXRzTWFwXCIpO1xyXG52YXIgJHJlc1V0aWwgPSByZXF1aXJlKFwiLi9SZXNVdGlsXCIpO1xyXG52YXIgJGdsb2JhbFBhcmFtID0gcmVxdWlyZShcIi4vR2xvYmFsUGFyYW1cIik7XHJcbnZhciAkZ2FtZUNvbnRleHQgPSByZXF1aXJlKFwiLi9HYW1lQ29udGV4dFwiKTtcclxudmFyICRnYW1lU2tpbGxJbmZvID0gcmVxdWlyZShcIi4vR2FtZVNraWxsSW5mb1wiKTtcclxudmFyICRiYXNlQnVsbGV0ID0gcmVxdWlyZShcIi4vQmFzZUJ1bGxldFwiKTtcclxudmFyIGYgPSBjYy5fZGVjb3JhdG9yO1xyXG52YXIgaCA9IGYuY2NjbGFzcztcclxudmFyIG0gPSBmLnByb3BlcnR5O1xyXG52YXIgeSA9IG5ldyBjYy5WZWMzKCk7XHJcbnZhciBnID0gKGZ1bmN0aW9uICh0KSB7XHJcbiAgICBmdW5jdGlvbiBlKCkge1xyXG4gICAgICAgIHZhciBlID0gKG51bGwgIT09IHQgJiYgdC5hcHBseSh0aGlzLCBhcmd1bWVudHMpKSB8fCB0aGlzO1xyXG4gICAgICAgIGUuYnV0dGxlVHlwZSA9ICRiYXNlQnVsbGV0LkJ1bGxldFR5cGUucl9idWxsZXRfODtcclxuICAgICAgICBlLnNraW4gPSBudWxsO1xyXG4gICAgICAgIGUuc3RhdHVzID0gMDtcclxuICAgICAgICBlLmxlZnRUaW1lID0gMDtcclxuICAgICAgICBlLnRhcmdldEVuZW15ID0gbnVsbDtcclxuICAgICAgICBlLmZpbmRMZWZ0VGltZSA9IDA7XHJcbiAgICAgICAgZS5hdGtMZWZ0VGltZSA9IDA7XHJcbiAgICAgICAgZS5hdGtJbnRlcnZhbFRpbWUgPSAxO1xyXG4gICAgICAgIGUucG9pbnROb2RlID0gbnVsbDtcclxuICAgICAgICByZXR1cm4gZTtcclxuICAgIH1cclxuICAgIF9fZXh0ZW5kcyhlLCB0KTtcclxuICAgIGUucHJvdG90eXBlLmluaXRCdXR0bGUgPSBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgIHRoaXMudGFyZ2V0RW5lbXkgPSBudWxsO1xyXG4gICAgICAgIHRoaXMuc3BlZWQgPSAkZ2FtZUNvbnRleHQuZGVmYXVsdC5pbnMuc2tpbGxJbmZvLnJvYm90UGFyYW1bM107XHJcbiAgICAgICAgdGhpcy5hdGtJbnRlcnZhbFRpbWUgPSAkZ2FtZUNvbnRleHQuZGVmYXVsdC5pbnMuc2tpbGxJbmZvLnJvYm90UGFyYW1bNF07XHJcbiAgICAgICAgdGhpcy5sZWZ0VGltZSA9ICRnYW1lQ29udGV4dC5kZWZhdWx0Lmlucy5za2lsbEluZm8ucm9ib3RQYXJhbVs1XTtcclxuICAgICAgICB0LnByb3RvdHlwZS5pbml0QnV0dGxlLmNhbGwodGhpcywgZSwgbnVsbCk7XHJcbiAgICAgICAgdGhpcy5hdGsgPSBNYXRoLmNlaWwoXHJcbiAgICAgICAgICAgICRnYW1lQ29udGV4dC5kZWZhdWx0Lmlucy5za2lsbEluZm8ucm9ib3RQYXJhbVswXSAqXHJcbiAgICAgICAgICAgICAgICB0aGlzLnNraWxsUGFyYW0uc2tpbGxBdGtbJGdhbWVTa2lsbEluZm8uU2tpbGw0UGFyYW0uRklOQUxdXHJcbiAgICAgICAgKTtcclxuICAgICAgICB0aGlzLnN0YXR1cyA9IDA7XHJcbiAgICAgICAgdGhpcy5ub2RlLnpJbmRleCA9IDEwO1xyXG4gICAgICAgIGlmIChlKSB7XHJcbiAgICAgICAgICAgIHRoaXMudmVsb2NpdHkuc2V0KGUpLm11bHRpcGx5U2NhbGFyKHRoaXMuc3BlZWQpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBlLnByb3RvdHlwZS5hdHRhY2sgPSBmdW5jdGlvbiAodCkge1xyXG4gICAgICAgIHZhciBlID0gdGhpcztcclxuICAgICAgICB0aGlzLmF0a0xlZnRUaW1lIC09IHQ7XHJcbiAgICAgICAgaWYgKCEodGhpcy5hdGtMZWZ0VGltZSA+IDApKSB7XHJcbiAgICAgICAgICAgIHRoaXMuYXRrTGVmdFRpbWUgPSAxO1xyXG4gICAgICAgICAgICB0aGlzLnNraW4ub2ZmKGRyYWdvbkJvbmVzLkV2ZW50T2JqZWN0LkNPTVBMRVRFKTtcclxuICAgICAgICAgICAgdGhpcy5wbGF5QW5pbShcImhpdFwiLCAxKTtcclxuICAgICAgICAgICAgdGhpcy5za2luLm9uY2UoXHJcbiAgICAgICAgICAgICAgICBkcmFnb25Cb25lcy5FdmVudE9iamVjdC5DT01QTEVURSxcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICBlLmF0a0xlZnRUaW1lID0gZS5hdGtJbnRlcnZhbFRpbWU7XHJcbiAgICAgICAgICAgICAgICAgICAgZS5wbGF5QW5pbShcInN0YW5kXzJcIiwgMCk7XHJcbiAgICAgICAgICAgICAgICAgICAgZS50YXJnZXRFbmVteS5nZXRQb3NpdGlvbigpLnkgPCAtMjUwXHJcbiAgICAgICAgICAgICAgICAgICAgICAgID8gKGUudGFyZ2V0RW5lbXkucmVtb3ZlRGllQ2FsbGJhY2soZSksIChlLnN0YXR1cyA9IDApKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICA6IDAgIT09IGUuc3RhdHVzICYmIChlLnN0YXR1cyA9IDEpO1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIHRoaXNcclxuICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgdGhpcy5jcmVhdGVCdWxsZXQoKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgZS5wcm90b3R5cGUuZmluZFRhcmdldCA9IGZ1bmN0aW9uICh0KSB7XHJcbiAgICAgICAgaWYgKFwic3RhbmRfMlwiICE9PSB0aGlzLnNraW4uYW5pbWF0aW9uTmFtZSkge1xyXG4gICAgICAgICAgICB0aGlzLnNraW4ub2ZmKGRyYWdvbkJvbmVzLkV2ZW50T2JqZWN0LkNPTVBMRVRFKTtcclxuICAgICAgICAgICAgdGhpcy5wbGF5QW5pbShcInN0YW5kXzJcIiwgMCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuZmluZExlZnRUaW1lIC09IHQ7XHJcbiAgICAgICAgaWYgKHRoaXMuZmluZExlZnRUaW1lIDw9IDApIHtcclxuICAgICAgICAgICAgdGhpcy5maW5kTGVmdFRpbWUgPSAxO1xyXG4gICAgICAgICAgICB2YXIgZSA9IHRoaXMuZ2V0VGFyZ2V0KCk7XHJcbiAgICAgICAgICAgIGlmIChlKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnRhcmdldEVuZW15ID0gZTtcclxuICAgICAgICAgICAgICAgIHRoaXMudGFyZ2V0RW5lbXkuYWRkRGllQ2FsbGJhY2sodGhpcy50YXJnZXREaWUsIHRoaXMpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zdGF0dXMgPSAxO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIGUucHJvdG90eXBlLmdldFRhcmdldCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgdCA9IFtdO1xyXG4gICAgICAgIGZvciAodmFyIGUgPSAwOyBlIDwgJGdhbWVDb250ZXh0LmRlZmF1bHQuaW5zLmN1cnJFbmVteXMubGVuZ3RoOyBlKyspIHtcclxuICAgICAgICAgICAgdmFyIGkgPSAkZ2FtZUNvbnRleHQuZGVmYXVsdC5pbnMuY3VyckVuZW15c1tlXTtcclxuICAgICAgICAgICAgaWYgKFxyXG4gICAgICAgICAgICAgICAgaSAmJlxyXG4gICAgICAgICAgICAgICAgaS5nZXRQb3NpdGlvbigpLnkgPj0gLTI1MCAmJlxyXG4gICAgICAgICAgICAgICAgTWF0aC5hYnMoaS5nZXRQb3NpdGlvbigpLnkgLSB0aGlzLnBvaW50Tm9kZS5wb3NpdGlvbi55KSA8XHJcbiAgICAgICAgICAgICAgICAgICAgJGdhbWVDb250ZXh0LmRlZmF1bHQuaW5zLnNraWxsSW5mby5yb2JvdFBhcmFtWzJdXHJcbiAgICAgICAgICAgICkge1xyXG4gICAgICAgICAgICAgICAgdC5wdXNoKGkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0Lmxlbmd0aCA8IDBcclxuICAgICAgICAgICAgPyBudWxsXHJcbiAgICAgICAgICAgIDogKHQuc29ydChmdW5jdGlvbiAodCwgZSkge1xyXG4gICAgICAgICAgICAgICAgICByZXR1cm4gdC5yZXNpZHVlRGlzIC0gZS5yZXNpZHVlRGlzO1xyXG4gICAgICAgICAgICAgIH0pLFxyXG4gICAgICAgICAgICAgIHRbMF0pO1xyXG4gICAgfTtcclxuICAgIGUucHJvdG90eXBlLmZpbmRQYXRoID0gZnVuY3Rpb24gKHQpIHtcclxuICAgICAgICB5LnggPSB0aGlzLnRhcmdldEVuZW15LmdldFBvc2l0aW9uKCkueCAtIHRoaXMubm9kZS5wb3NpdGlvbi54O1xyXG4gICAgICAgIHkueSA9IHRoaXMudGFyZ2V0RW5lbXkuZ2V0UG9zaXRpb24oKS55IC0gdGhpcy5ub2RlLnBvc2l0aW9uLnkgLSAxMDA7XHJcbiAgICAgICAgeS56ID0gMDtcclxuICAgICAgICB5Lm5vcm1hbGl6ZVNlbGYoKTtcclxuICAgICAgICBNYXRoLmFicyh0aGlzLnRhcmdldEVuZW15LmdldFBvc2l0aW9uKCkueCAtIHRoaXMubm9kZS5wb3NpdGlvbi54KSA8PSAzMCAmJlxyXG4gICAgICAgIE1hdGguYWJzKHRoaXMudGFyZ2V0RW5lbXkuZ2V0UG9zaXRpb24oKS55IC0gdGhpcy5ub2RlLnBvc2l0aW9uLnkgLSAxMDApIDw9IDMwXHJcbiAgICAgICAgICAgID8gMCAhPT0gdGhpcy5zdGF0dXMgJiYgKHRoaXMuc3RhdHVzID0gMilcclxuICAgICAgICAgICAgOiAoXCJzdGFuZF8yXCIgIT09IHRoaXMuc2tpbi5hbmltYXRpb25OYW1lICYmXHJcbiAgICAgICAgICAgICAgICAgICh0aGlzLnNraW4ub2ZmKGRyYWdvbkJvbmVzLkV2ZW50T2JqZWN0LkNPTVBMRVRFKSwgdGhpcy5wbGF5QW5pbShcInN0YW5kXzJcIiwgMCkpLFxyXG4gICAgICAgICAgICAgIHRoaXMuc2V0UG9zaXRpb24oeS5tdWxTZWxmKHRoaXMuc3BlZWQgKiB0KS5hZGQodGhpcy5nZXRQb3NpdGlvbigpKSkpO1xyXG4gICAgfTtcclxuICAgIGUucHJvdG90eXBlLnRhcmdldERpZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB0aGlzLnN0YXR1cyA9IDA7XHJcbiAgICB9O1xyXG4gICAgZS5wcm90b3R5cGUudXBkYXRlRnJhbWUgPSBmdW5jdGlvbiAodCkge1xyXG4gICAgICAgIGlmICghKCRnbG9iYWxQYXJhbS5kZWZhdWx0LmlzR2FtZVB1YXNlIHx8IHRoaXMubGVmdFRpbWUgPD0gMCkpIHtcclxuICAgICAgICAgICAgdGhpcy5sZWZ0VGltZSAtPSB0O1xyXG4gICAgICAgICAgICB0aGlzLmxlZnRUaW1lIDw9IDAgPyB0aGlzLnJlbW92ZVNlbGYoKSA6IHRoaXMudXBkYXRlU3RhdHVzKHQpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBlLnByb3RvdHlwZS51cGRhdGVTdGF0dXMgPSBmdW5jdGlvbiAodCkge1xyXG4gICAgICAgIDAgPT09IHRoaXMuc3RhdHVzXHJcbiAgICAgICAgICAgID8gdGhpcy5maW5kVGFyZ2V0KHQpXHJcbiAgICAgICAgICAgIDogMSA9PT0gdGhpcy5zdGF0dXNcclxuICAgICAgICAgICAgPyB0aGlzLmZpbmRQYXRoKHQpXHJcbiAgICAgICAgICAgIDogMiA9PT0gdGhpcy5zdGF0dXMgJiYgdGhpcy5hdHRhY2sodCk7XHJcbiAgICB9O1xyXG4gICAgZS5wcm90b3R5cGUucGxheUFuaW0gPSBmdW5jdGlvbiAodCwgZSkge1xyXG4gICAgICAgIHRoaXMuc2tpbi50aW1lU2NhbGUgPSAkZ2FtZUNvbnRleHQuZGVmYXVsdC5pbnMuZ2FtZVJhdGlvO1xyXG4gICAgICAgIHRoaXMuc2tpbi5wbGF5QW5pbWF0aW9uKHQsIGUpO1xyXG4gICAgfTtcclxuICAgIGUucHJvdG90eXBlLmNyZWF0ZUJ1bGxldCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgdCA9ICRnYW1lQ29udGV4dC5kZWZhdWx0Lmlucy5nZXRCdXR0bGVQb29sKCRiYXNlQnVsbGV0LkJ1bGxldFR5cGUucl9idWxsZXRfOF8xKTtcclxuICAgICAgICBpZiAoIXQpIHtcclxuICAgICAgICAgICAgdmFyIGUgPSAkYXNzZXRzTG9hZGVyLmRlZmF1bHQuaW5zdGFuY2UuZ2V0UmVzKFxyXG4gICAgICAgICAgICAgICAgJGFzc2V0c01hcC5CdW5kbGVOYW1lcy5HYW1lLFxyXG4gICAgICAgICAgICAgICAgJGFzc2V0c01hcC5Bc3NldHNNYXAuR2FtZUJ1bmRsZXMucHJlZmFicy5hc3NldHNMaXN0LlJCdWxsZXRfOF8xXHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgIHQgPSAkcmVzVXRpbC5SZXNVdGlsLmluc3RhbnRpYXRlKGUsICRnYW1lQ29udGV4dC5kZWZhdWx0Lmlucy5yb2JvdEZseUxheWVyLnBhcmVudCkuZ2V0Q29tcG9uZW50KFxyXG4gICAgICAgICAgICAgICAgJGJhc2VCdWxsZXQuZGVmYXVsdFxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0LnNldFBvc2l0aW9uKHRoaXMubm9kZS5wb3NpdGlvbi5jbG9uZSgpKTtcclxuICAgICAgICB5LnggPSAwO1xyXG4gICAgICAgIHkueSA9IDE7XHJcbiAgICAgICAgdC5pbml0QnV0dGxlKHksIG51bGwpO1xyXG4gICAgICAgIHQuaW5zZXJ0KCRnYW1lQ29udGV4dC5kZWZhdWx0Lmlucy5yb2JvdEZseUxheWVyKTtcclxuICAgIH07XHJcbiAgICBfX2RlY29yYXRlKFttKGRyYWdvbkJvbmVzLkFybWF0dXJlRGlzcGxheSldLCBlLnByb3RvdHlwZSwgXCJza2luXCIsIHZvaWQgMCk7XHJcbiAgICByZXR1cm4gX19kZWNvcmF0ZShbaF0sIGUpO1xyXG59KSgkYmFzZUJ1bGxldC5kZWZhdWx0KTtcclxuZXhwb3J0cy5kZWZhdWx0ID0gZztcclxuIl19