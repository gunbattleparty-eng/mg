
                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/game_script/scripts/Agent.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '68460HvO8hH4pX7jUa/LFyB', 'Agent');
// game_script/scripts/Agent.js

"use strict";

exports.Agent = exports.RVOConfig = exports.KeyValuePair = exports.ObserverObj = void 0;

var $maths = require("./Maths");

var n = function n(t) {
  if (t) {
    this.value = t;
  }
};

exports.ObserverObj = n;

exports.KeyValuePair = function (t, e) {
  this.Key = t;
  this.Value = e;
};

var s = function () {
  function t() {}

  t.agentCount = 10;
  t.neighborDist = 0.75;
  t.radius = 0.5;
  t.maxSpeed = 1;
  t.velocity = new cc.Vec3();
  t.maxNeighbors = 10;
  t.timeHorizon = 5;
  t.timeHorizonObst = 0;
  t.timeStep = 0.05;
  return t;
}();

exports.RVOConfig = s;

var r = function () {
  function t() {}

  Object.defineProperty(t, "inst", {
    get: function get() {
      if (null == this._inst) {
        this._inst = new t();
      }

      return this._inst;
    },
    enumerable: !1,
    configurable: !0
  });

  t.prototype.check = function (t, e) {
    var i = 1 / s.timeHorizon;
    var n = $maths.Vector2.subtract(e.getCenter(), t.getCenter());
    var r = $maths.Vector2.subtract(t.newVelocity, e.newVelocity);
    var a = t.neighborDist + e.neighborDist;
    var l = $maths.RVOMath.sqr(a);
    var c = $maths.RVOMath.absSq(n);
    var u = new $maths.Vector2();
    var d = new $maths.Vector2();

    if (c > l) {
      var p = $maths.Vector2.subtract(r, $maths.Vector2.multiply2(i, n));
      var f = $maths.RVOMath.absSq(p);
      var h = $maths.Vector2.multiply(p, n);

      if (h < 0 && $maths.RVOMath.sqr(h) > l * f) {
        var m = $maths.RVOMath.sqrt(f);
        var y = $maths.Vector2.division(p, m);
        d = new $maths.Vector2(y.y, -y.x);
        u = $maths.Vector2.multiply2(a * i - m, y);
      } else {
        var g = $maths.RVOMath.sqrt(c - l);
        d = $maths.RVOMath.det(n, p) > 0 ? $maths.Vector2.division(new $maths.Vector2(n.x * g - n.y * a, n.x * a + n.y * g), c) : $maths.Vector2.division(new $maths.Vector2(n.x * g + n.y * a, -n.x * a + n.y * g), -c);

        var _ = $maths.Vector2.multiply(r, d);

        u = $maths.Vector2.subtract($maths.Vector2.multiply2(_, d), r);
      }
    } else {
      var k = 1 / s.timeStep;
      p = $maths.Vector2.subtract(r, $maths.Vector2.multiply2(k, n));
      m = $maths.RVOMath.abs(p);
      y = $maths.Vector2.division(p, m);
      d = new $maths.Vector2(y.y, -y.x);
      u = $maths.Vector2.multiply2(a * k - m, y);
    }

    var v = new $maths.Line();
    v.direction = new $maths.Vector2(d.x, d.y);
    v.point = $maths.Vector2.addition(t.newVelocity, $maths.Vector2.multiply2(0.5, u));
    t.orcaLines.push(v);
  };

  t.prototype.process = function (t) {
    var e = 0;

    for (var i = t.length; e < i; e++) {
      var s = t[e];

      if (s.isAgent && s.orcaLines.length > 0) {
        if (!s.isRemove && s.object) {
          var r = new n(new $maths.Vector2(s.newVelocity.x, s.newVelocity.y));
          var a = this.linearProgram2(s.orcaLines, s.maxVelocity, s.prefVelocity, !1, r);

          if (a < s.orcaLines.length) {
            this.linearProgram3(s.orcaLines, 0, a, s.maxVelocity, r);
          }

          var l = r.value;
          s.prefVelocity.x = s.newVelocity.x;
          s.prefVelocity.y = s.newVelocity.y;

          if (s.object) {
            var c = s.object.velocity;
            c.x = l.x;
            c.y = l.y;
            c.z = 0;
          }
        }

        s.orcaLines.length = 0;
      }
    }
  };

  t.prototype.linearProgram1 = function (t, e, i, n, s, r) {
    var a = $maths.Vector2.multiply(t[e].point, t[e].direction);
    var l = $maths.RVOMath.sqr(a) + $maths.RVOMath.sqr(i) - $maths.RVOMath.absSq(t[e].point);

    if (l < 0) {
      return !1;
    }

    var c = $maths.RVOMath.sqrt(l);
    var u = -a - c;
    var d = -a + c;

    for (var p = 0; p < e; ++p) {
      var f = $maths.RVOMath.det(t[e].direction, t[p].direction);
      var h = $maths.RVOMath.det(t[p].direction, $maths.Vector2.subtract(t[e].point, t[p].point));

      if ($maths.RVOMath.fabs(f) <= $maths.RVOMath.RVO_EPSILON) {
        if (h < 0) {
          return !1;
        }
      } else {
        var m = h / f;
        f > 0 ? d = Math.min(d, m) : u = Math.max(u, m);

        if (u > d) {
          return !1;
        }
      }
    }

    s ? $maths.Vector2.multiply(n, t[e].direction) > 0 ? r.value = $maths.Vector2.addition(t[e].point, $maths.Vector2.multiply2(d, t[e].direction)) : r.value = $maths.Vector2.addition(t[e].point, $maths.Vector2.multiply2(u, t[e].direction)) : (m = $maths.Vector2.multiply(t[e].direction, $maths.Vector2.subtract(n, t[e].point)), r.value = m < u ? $maths.Vector2.addition(t[e].point, $maths.Vector2.multiply2(u, t[e].direction)) : m > d ? $maths.Vector2.addition(t[e].point, $maths.Vector2.multiply2(d, t[e].direction)) : $maths.Vector2.addition(t[e].point, $maths.Vector2.multiply2(m, t[e].direction)));
    return !0;
  };

  t.prototype.linearProgram2 = function (t, e, i, n, s) {
    n ? s.value = $maths.Vector2.multiply2(e, i) : $maths.RVOMath.absSq(i) > $maths.RVOMath.sqr(e) ? s.value = $maths.Vector2.multiply2(e, $maths.RVOMath.normalize(i)) : s.value = i;

    for (var r = 0; r < t.length; ++r) {
      if ($maths.RVOMath.det(t[r].direction, $maths.Vector2.subtract(t[r].point, s.value)) > 0) {
        var a = new $maths.Vector2(s.value.x, s.value.y);

        if (!this.linearProgram1(t, r, e, i, n, s)) {
          s.value = a;
          return r;
        }
      }
    }

    return t.length;
  };

  t.prototype.linearProgram3 = function (t, e, i, n, s) {
    var r = 0;

    for (var a = i; a < t.length; ++a) {
      if ($maths.RVOMath.det(t[a].direction, $maths.Vector2.subtract(t[a].point, s.value)) > r) {
        var l = [];

        for (var c = 0; c < e; ++c) {
          l[l.length] = t[c];
        }

        for (var u = e; u < a; ++u) {
          var d = new $maths.Line();
          var p = $maths.RVOMath.det(t[a].direction, t[u].direction);

          if ($maths.RVOMath.fabs(p) <= $maths.RVOMath.RVO_EPSILON) {
            if ($maths.Vector2.multiply(t[a].direction, t[u].direction) > 0) {
              continue;
            }

            d.point = $maths.Vector2.multiply2(0.5, $maths.Vector2.addition(t[a].point, t[u].point));
          } else {
            d.point = $maths.Vector2.addition(t[a].point, $maths.Vector2.multiply2($maths.RVOMath.det(t[u].direction, $maths.Vector2.subtract(t[a].point, t[u].point)) / p, t[a].direction));
          }

          var f = $maths.Vector2.subtract(t[u].direction, t[a].direction);

          if ($maths.RVOMath.absSq(f) > 0) {
            d.direction = $maths.RVOMath.normalize(f);
            l[l.length] = d;
          }
        }

        var h = new $maths.Vector2(s.value.x, s.value.y);

        if (this.linearProgram2(l, n, new $maths.Vector2(-t[a].direction.y, t[a].direction.x), !0, s) < l.length) {
          s.value = h;
        }

        r = $maths.RVOMath.det(t[a].direction, $maths.Vector2.subtract(t[a].point, s.value));
      }
    }
  };

  t._inst = null;
  return t;
}();

exports.Agent = r;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcZ2FtZV9zY3JpcHRcXHNjcmlwdHNcXEFnZW50LmpzIl0sIm5hbWVzIjpbImV4cG9ydHMiLCJBZ2VudCIsIlJWT0NvbmZpZyIsIktleVZhbHVlUGFpciIsIk9ic2VydmVyT2JqIiwiJG1hdGhzIiwicmVxdWlyZSIsIm4iLCJ0IiwidmFsdWUiLCJlIiwiS2V5IiwiVmFsdWUiLCJzIiwiYWdlbnRDb3VudCIsIm5laWdoYm9yRGlzdCIsInJhZGl1cyIsIm1heFNwZWVkIiwidmVsb2NpdHkiLCJjYyIsIlZlYzMiLCJtYXhOZWlnaGJvcnMiLCJ0aW1lSG9yaXpvbiIsInRpbWVIb3Jpem9uT2JzdCIsInRpbWVTdGVwIiwiciIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZ2V0IiwiX2luc3QiLCJlbnVtZXJhYmxlIiwiY29uZmlndXJhYmxlIiwicHJvdG90eXBlIiwiY2hlY2siLCJpIiwiVmVjdG9yMiIsInN1YnRyYWN0IiwiZ2V0Q2VudGVyIiwibmV3VmVsb2NpdHkiLCJhIiwibCIsIlJWT01hdGgiLCJzcXIiLCJjIiwiYWJzU3EiLCJ1IiwiZCIsInAiLCJtdWx0aXBseTIiLCJmIiwiaCIsIm11bHRpcGx5IiwibSIsInNxcnQiLCJ5IiwiZGl2aXNpb24iLCJ4IiwiZyIsImRldCIsIl8iLCJrIiwiYWJzIiwidiIsIkxpbmUiLCJkaXJlY3Rpb24iLCJwb2ludCIsImFkZGl0aW9uIiwib3JjYUxpbmVzIiwicHVzaCIsInByb2Nlc3MiLCJsZW5ndGgiLCJpc0FnZW50IiwiaXNSZW1vdmUiLCJvYmplY3QiLCJsaW5lYXJQcm9ncmFtMiIsIm1heFZlbG9jaXR5IiwicHJlZlZlbG9jaXR5IiwibGluZWFyUHJvZ3JhbTMiLCJ6IiwibGluZWFyUHJvZ3JhbTEiLCJmYWJzIiwiUlZPX0VQU0lMT04iLCJNYXRoIiwibWluIiwibWF4Iiwibm9ybWFsaXplIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7OztBQUFBQSxPQUFPLENBQUNDLEtBQVIsR0FBZ0JE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cUIsS0FBRixHQUFVLElBQVY7RUFDQSxPQUFPckIsQ0FBUDtBQUNILENBOUtPLEVBQVI7O0FBK0tBUixPQUFPLENBQUNDLEtBQVIsR0FBZ0J3QixDQUFoQiIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0cy5BZ2VudCA9IGV4cG9ydHMuUlZPQ29uZmlnID0gZXhwb3J0cy5LZXlWYWx1ZVBhaXIgPSBleHBvcnRzLk9ic2VydmVyT2JqID0gdm9pZCAwO1xyXG52YXIgJG1hdGhzID0gcmVxdWlyZShcIi4vTWF0aHNcIik7XHJcbnZhciBuID0gZnVuY3Rpb24gKHQpIHtcclxuICAgIGlmICh0KSB7XHJcbiAgICAgICAgdGhpcy52YWx1ZSA9IHQ7XHJcbiAgICB9XHJcbn07XHJcbmV4cG9ydHMuT2JzZXJ2ZXJPYmogPSBuO1xyXG5leHBvcnRzLktleVZhbHVlUGFpciA9IGZ1bmN0aW9uICh0LCBlKSB7XHJcbiAgICB0aGlzLktleSA9IHQ7XHJcbiAgICB0aGlzLlZhbHVlID0gZTtcclxufTtcclxudmFyIHMgPSAoZnVuY3Rpb24gKCkge1xyXG4gICAgZnVuY3Rpb24gdCgpIHt9XHJcbiAgICB0LmFnZW50Q291bnQgPSAxMDtcclxuICAgIHQubmVpZ2hib3JEaXN0ID0gMC43NTtcclxuICAgIHQucmFkaXVzID0gMC41O1xyXG4gICAgdC5tYXhTcGVlZCA9IDE7XHJcbiAgICB0LnZlbG9jaXR5ID0gbmV3IGNjLlZlYzMoKTtcclxuICAgIHQubWF4TmVpZ2hib3JzID0gMTA7XHJcbiAgICB0LnRpbWVIb3Jpem9uID0gNTtcclxuICAgIHQudGltZUhvcml6b25PYnN0ID0gMDtcclxuICAgIHQudGltZVN0ZXAgPSAwLjA1O1xyXG4gICAgcmV0dXJuIHQ7XHJcbn0pKCk7XHJcbmV4cG9ydHMuUlZPQ29uZmlnID0gcztcclxudmFyIHIgPSAoZnVuY3Rpb24gKCkge1xyXG4gICAgZnVuY3Rpb24gdCgpIHt9XHJcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodCwgXCJpbnN0XCIsIHtcclxuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgaWYgKG51bGwgPT0gdGhpcy5faW5zdCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5faW5zdCA9IG5ldyB0KCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2luc3Q7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBlbnVtZXJhYmxlOiAhMSxcclxuICAgICAgICBjb25maWd1cmFibGU6ICEwXHJcbiAgICB9KTtcclxuICAgIHQucHJvdG90eXBlLmNoZWNrID0gZnVuY3Rpb24gKHQsIGUpIHtcclxuICAgICAgICB2YXIgaSA9IDEgLyBzLnRpbWVIb3Jpem9uO1xyXG4gICAgICAgIHZhciBuID0gJG1hdGhzLlZlY3RvcjIuc3VidHJhY3QoZS5nZXRDZW50ZXIoKSwgdC5nZXRDZW50ZXIoKSk7XHJcbiAgICAgICAgdmFyIHIgPSAkbWF0aHMuVmVjdG9yMi5zdWJ0cmFjdCh0Lm5ld1ZlbG9jaXR5LCBlLm5ld1ZlbG9jaXR5KTtcclxuICAgICAgICB2YXIgYSA9IHQubmVpZ2hib3JEaXN0ICsgZS5uZWlnaGJvckRpc3Q7XHJcbiAgICAgICAgdmFyIGwgPSAkbWF0aHMuUlZPTWF0aC5zcXIoYSk7XHJcbiAgICAgICAgdmFyIGMgPSAkbWF0aHMuUlZPTWF0aC5hYnNTcShuKTtcclxuICAgICAgICB2YXIgdSA9IG5ldyAkbWF0aHMuVmVjdG9yMigpO1xyXG4gICAgICAgIHZhciBkID0gbmV3ICRtYXRocy5WZWN0b3IyKCk7XHJcbiAgICAgICAgaWYgKGMgPiBsKSB7XHJcbiAgICAgICAgICAgIHZhciBwID0gJG1hdGhzLlZlY3RvcjIuc3VidHJhY3QociwgJG1hdGhzLlZlY3RvcjIubXVsdGlwbHkyKGksIG4pKTtcclxuICAgICAgICAgICAgdmFyIGYgPSAkbWF0aHMuUlZPTWF0aC5hYnNTcShwKTtcclxuICAgICAgICAgICAgdmFyIGggPSAkbWF0aHMuVmVjdG9yMi5tdWx0aXBseShwLCBuKTtcclxuICAgICAgICAgICAgaWYgKGggPCAwICYmICRtYXRocy5SVk9NYXRoLnNxcihoKSA+IGwgKiBmKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgbSA9ICRtYXRocy5SVk9NYXRoLnNxcnQoZik7XHJcbiAgICAgICAgICAgICAgICB2YXIgeSA9ICRtYXRocy5WZWN0b3IyLmRpdmlzaW9uKHAsIG0pO1xyXG4gICAgICAgICAgICAgICAgZCA9IG5ldyAkbWF0aHMuVmVjdG9yMih5LnksIC15LngpO1xyXG4gICAgICAgICAgICAgICAgdSA9ICRtYXRocy5WZWN0b3IyLm11bHRpcGx5MihhICogaSAtIG0sIHkpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdmFyIGcgPSAkbWF0aHMuUlZPTWF0aC5zcXJ0KGMgLSBsKTtcclxuICAgICAgICAgICAgICAgIGQgPVxyXG4gICAgICAgICAgICAgICAgICAgICRtYXRocy5SVk9NYXRoLmRldChuLCBwKSA+IDBcclxuICAgICAgICAgICAgICAgICAgICAgICAgPyAkbWF0aHMuVmVjdG9yMi5kaXZpc2lvbihuZXcgJG1hdGhzLlZlY3RvcjIobi54ICogZyAtIG4ueSAqIGEsIG4ueCAqIGEgKyBuLnkgKiBnKSwgYylcclxuICAgICAgICAgICAgICAgICAgICAgICAgOiAkbWF0aHMuVmVjdG9yMi5kaXZpc2lvbihuZXcgJG1hdGhzLlZlY3RvcjIobi54ICogZyArIG4ueSAqIGEsIC1uLnggKiBhICsgbi55ICogZyksIC1jKTtcclxuICAgICAgICAgICAgICAgIHZhciBfID0gJG1hdGhzLlZlY3RvcjIubXVsdGlwbHkociwgZCk7XHJcbiAgICAgICAgICAgICAgICB1ID0gJG1hdGhzLlZlY3RvcjIuc3VidHJhY3QoJG1hdGhzLlZlY3RvcjIubXVsdGlwbHkyKF8sIGQpLCByKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHZhciBrID0gMSAvIHMudGltZVN0ZXA7XHJcbiAgICAgICAgICAgIHAgPSAkbWF0aHMuVmVjdG9yMi5zdWJ0cmFjdChyLCAkbWF0aHMuVmVjdG9yMi5tdWx0aXBseTIoaywgbikpO1xyXG4gICAgICAgICAgICBtID0gJG1hdGhzLlJWT01hdGguYWJzKHApO1xyXG4gICAgICAgICAgICB5ID0gJG1hdGhzLlZlY3RvcjIuZGl2aXNpb24ocCwgbSk7XHJcbiAgICAgICAgICAgIGQgPSBuZXcgJG1hdGhzLlZlY3RvcjIoeS55LCAteS54KTtcclxuICAgICAgICAgICAgdSA9ICRtYXRocy5WZWN0b3IyLm11bHRpcGx5MihhICogayAtIG0sIHkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgdiA9IG5ldyAkbWF0aHMuTGluZSgpO1xyXG4gICAgICAgIHYuZGlyZWN0aW9uID0gbmV3ICRtYXRocy5WZWN0b3IyKGQueCwgZC55KTtcclxuICAgICAgICB2LnBvaW50ID0gJG1hdGhzLlZlY3RvcjIuYWRkaXRpb24odC5uZXdWZWxvY2l0eSwgJG1hdGhzLlZlY3RvcjIubXVsdGlwbHkyKDAuNSwgdSkpO1xyXG4gICAgICAgIHQub3JjYUxpbmVzLnB1c2godik7XHJcbiAgICB9O1xyXG4gICAgdC5wcm90b3R5cGUucHJvY2VzcyA9IGZ1bmN0aW9uICh0KSB7XHJcbiAgICAgICAgdmFyIGUgPSAwO1xyXG4gICAgICAgIGZvciAodmFyIGkgPSB0Lmxlbmd0aDsgZSA8IGk7IGUrKykge1xyXG4gICAgICAgICAgICB2YXIgcyA9IHRbZV07XHJcbiAgICAgICAgICAgIGlmIChzLmlzQWdlbnQgJiYgcy5vcmNhTGluZXMubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKCFzLmlzUmVtb3ZlICYmIHMub2JqZWN0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHIgPSBuZXcgbihuZXcgJG1hdGhzLlZlY3RvcjIocy5uZXdWZWxvY2l0eS54LCBzLm5ld1ZlbG9jaXR5LnkpKTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgYSA9IHRoaXMubGluZWFyUHJvZ3JhbTIocy5vcmNhTGluZXMsIHMubWF4VmVsb2NpdHksIHMucHJlZlZlbG9jaXR5LCAhMSwgcik7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGEgPCBzLm9yY2FMaW5lcy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5saW5lYXJQcm9ncmFtMyhzLm9yY2FMaW5lcywgMCwgYSwgcy5tYXhWZWxvY2l0eSwgcik7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHZhciBsID0gci52YWx1ZTtcclxuICAgICAgICAgICAgICAgICAgICBzLnByZWZWZWxvY2l0eS54ID0gcy5uZXdWZWxvY2l0eS54O1xyXG4gICAgICAgICAgICAgICAgICAgIHMucHJlZlZlbG9jaXR5LnkgPSBzLm5ld1ZlbG9jaXR5Lnk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHMub2JqZWN0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjID0gcy5vYmplY3QudmVsb2NpdHk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGMueCA9IGwueDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYy55ID0gbC55O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjLnogPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHMub3JjYUxpbmVzLmxlbmd0aCA9IDA7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgdC5wcm90b3R5cGUubGluZWFyUHJvZ3JhbTEgPSBmdW5jdGlvbiAodCwgZSwgaSwgbiwgcywgcikge1xyXG4gICAgICAgIHZhciBhID0gJG1hdGhzLlZlY3RvcjIubXVsdGlwbHkodFtlXS5wb2ludCwgdFtlXS5kaXJlY3Rpb24pO1xyXG4gICAgICAgIHZhciBsID0gJG1hdGhzLlJWT01hdGguc3FyKGEpICsgJG1hdGhzLlJWT01hdGguc3FyKGkpIC0gJG1hdGhzLlJWT01hdGguYWJzU3EodFtlXS5wb2ludCk7XHJcbiAgICAgICAgaWYgKGwgPCAwKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAhMTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIGMgPSAkbWF0aHMuUlZPTWF0aC5zcXJ0KGwpO1xyXG4gICAgICAgIHZhciB1ID0gLWEgLSBjO1xyXG4gICAgICAgIHZhciBkID0gLWEgKyBjO1xyXG4gICAgICAgIGZvciAodmFyIHAgPSAwOyBwIDwgZTsgKytwKSB7XHJcbiAgICAgICAgICAgIHZhciBmID0gJG1hdGhzLlJWT01hdGguZGV0KHRbZV0uZGlyZWN0aW9uLCB0W3BdLmRpcmVjdGlvbik7XHJcbiAgICAgICAgICAgIHZhciBoID0gJG1hdGhzLlJWT01hdGguZGV0KHRbcF0uZGlyZWN0aW9uLCAkbWF0aHMuVmVjdG9yMi5zdWJ0cmFjdCh0W2VdLnBvaW50LCB0W3BdLnBvaW50KSk7XHJcbiAgICAgICAgICAgIGlmICgkbWF0aHMuUlZPTWF0aC5mYWJzKGYpIDw9ICRtYXRocy5SVk9NYXRoLlJWT19FUFNJTE9OKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoaCA8IDApIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gITE7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgbSA9IGggLyBmO1xyXG4gICAgICAgICAgICAgICAgZiA+IDAgPyAoZCA9IE1hdGgubWluKGQsIG0pKSA6ICh1ID0gTWF0aC5tYXgodSwgbSkpO1xyXG4gICAgICAgICAgICAgICAgaWYgKHUgPiBkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICExO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHNcclxuICAgICAgICAgICAgPyAkbWF0aHMuVmVjdG9yMi5tdWx0aXBseShuLCB0W2VdLmRpcmVjdGlvbikgPiAwXHJcbiAgICAgICAgICAgICAgICA/IChyLnZhbHVlID0gJG1hdGhzLlZlY3RvcjIuYWRkaXRpb24odFtlXS5wb2ludCwgJG1hdGhzLlZlY3RvcjIubXVsdGlwbHkyKGQsIHRbZV0uZGlyZWN0aW9uKSkpXHJcbiAgICAgICAgICAgICAgICA6IChyLnZhbHVlID0gJG1hdGhzLlZlY3RvcjIuYWRkaXRpb24odFtlXS5wb2ludCwgJG1hdGhzLlZlY3RvcjIubXVsdGlwbHkyKHUsIHRbZV0uZGlyZWN0aW9uKSkpXHJcbiAgICAgICAgICAgIDogKChtID0gJG1hdGhzLlZlY3RvcjIubXVsdGlwbHkodFtlXS5kaXJlY3Rpb24sICRtYXRocy5WZWN0b3IyLnN1YnRyYWN0KG4sIHRbZV0ucG9pbnQpKSksXHJcbiAgICAgICAgICAgICAgKHIudmFsdWUgPVxyXG4gICAgICAgICAgICAgICAgICBtIDwgdVxyXG4gICAgICAgICAgICAgICAgICAgICAgPyAkbWF0aHMuVmVjdG9yMi5hZGRpdGlvbih0W2VdLnBvaW50LCAkbWF0aHMuVmVjdG9yMi5tdWx0aXBseTIodSwgdFtlXS5kaXJlY3Rpb24pKVxyXG4gICAgICAgICAgICAgICAgICAgICAgOiBtID4gZFxyXG4gICAgICAgICAgICAgICAgICAgICAgPyAkbWF0aHMuVmVjdG9yMi5hZGRpdGlvbih0W2VdLnBvaW50LCAkbWF0aHMuVmVjdG9yMi5tdWx0aXBseTIoZCwgdFtlXS5kaXJlY3Rpb24pKVxyXG4gICAgICAgICAgICAgICAgICAgICAgOiAkbWF0aHMuVmVjdG9yMi5hZGRpdGlvbih0W2VdLnBvaW50LCAkbWF0aHMuVmVjdG9yMi5tdWx0aXBseTIobSwgdFtlXS5kaXJlY3Rpb24pKSkpO1xyXG4gICAgICAgIHJldHVybiAhMDtcclxuICAgIH07XHJcbiAgICB0LnByb3RvdHlwZS5saW5lYXJQcm9ncmFtMiA9IGZ1bmN0aW9uICh0LCBlLCBpLCBuLCBzKSB7XHJcbiAgICAgICAgblxyXG4gICAgICAgICAgICA/IChzLnZhbHVlID0gJG1hdGhzLlZlY3RvcjIubXVsdGlwbHkyKGUsIGkpKVxyXG4gICAgICAgICAgICA6ICRtYXRocy5SVk9NYXRoLmFic1NxKGkpID4gJG1hdGhzLlJWT01hdGguc3FyKGUpXHJcbiAgICAgICAgICAgID8gKHMudmFsdWUgPSAkbWF0aHMuVmVjdG9yMi5tdWx0aXBseTIoZSwgJG1hdGhzLlJWT01hdGgubm9ybWFsaXplKGkpKSlcclxuICAgICAgICAgICAgOiAocy52YWx1ZSA9IGkpO1xyXG4gICAgICAgIGZvciAodmFyIHIgPSAwOyByIDwgdC5sZW5ndGg7ICsrcikge1xyXG4gICAgICAgICAgICBpZiAoJG1hdGhzLlJWT01hdGguZGV0KHRbcl0uZGlyZWN0aW9uLCAkbWF0aHMuVmVjdG9yMi5zdWJ0cmFjdCh0W3JdLnBvaW50LCBzLnZhbHVlKSkgPiAwKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgYSA9IG5ldyAkbWF0aHMuVmVjdG9yMihzLnZhbHVlLngsIHMudmFsdWUueSk7XHJcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMubGluZWFyUHJvZ3JhbTEodCwgciwgZSwgaSwgbiwgcykpIHtcclxuICAgICAgICAgICAgICAgICAgICBzLnZhbHVlID0gYTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdC5sZW5ndGg7XHJcbiAgICB9O1xyXG4gICAgdC5wcm90b3R5cGUubGluZWFyUHJvZ3JhbTMgPSBmdW5jdGlvbiAodCwgZSwgaSwgbiwgcykge1xyXG4gICAgICAgIHZhciByID0gMDtcclxuICAgICAgICBmb3IgKHZhciBhID0gaTsgYSA8IHQubGVuZ3RoOyArK2EpIHtcclxuICAgICAgICAgICAgaWYgKCRtYXRocy5SVk9NYXRoLmRldCh0W2FdLmRpcmVjdGlvbiwgJG1hdGhzLlZlY3RvcjIuc3VidHJhY3QodFthXS5wb2ludCwgcy52YWx1ZSkpID4gcikge1xyXG4gICAgICAgICAgICAgICAgdmFyIGwgPSBbXTtcclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGMgPSAwOyBjIDwgZTsgKytjKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbFtsLmxlbmd0aF0gPSB0W2NdO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgdSA9IGU7IHUgPCBhOyArK3UpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgZCA9IG5ldyAkbWF0aHMuTGluZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBwID0gJG1hdGhzLlJWT01hdGguZGV0KHRbYV0uZGlyZWN0aW9uLCB0W3VdLmRpcmVjdGlvbik7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCRtYXRocy5SVk9NYXRoLmZhYnMocCkgPD0gJG1hdGhzLlJWT01hdGguUlZPX0VQU0lMT04pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRtYXRocy5WZWN0b3IyLm11bHRpcGx5KHRbYV0uZGlyZWN0aW9uLCB0W3VdLmRpcmVjdGlvbikgPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBkLnBvaW50ID0gJG1hdGhzLlZlY3RvcjIubXVsdGlwbHkyKDAuNSwgJG1hdGhzLlZlY3RvcjIuYWRkaXRpb24odFthXS5wb2ludCwgdFt1XS5wb2ludCkpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGQucG9pbnQgPSAkbWF0aHMuVmVjdG9yMi5hZGRpdGlvbihcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRbYV0ucG9pbnQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkbWF0aHMuVmVjdG9yMi5tdWx0aXBseTIoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJG1hdGhzLlJWT01hdGguZGV0KHRbdV0uZGlyZWN0aW9uLCAkbWF0aHMuVmVjdG9yMi5zdWJ0cmFjdCh0W2FdLnBvaW50LCB0W3VdLnBvaW50KSkgLyBwLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRbYV0uZGlyZWN0aW9uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHZhciBmID0gJG1hdGhzLlZlY3RvcjIuc3VidHJhY3QodFt1XS5kaXJlY3Rpb24sIHRbYV0uZGlyZWN0aW9uKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoJG1hdGhzLlJWT01hdGguYWJzU3EoZikgPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGQuZGlyZWN0aW9uID0gJG1hdGhzLlJWT01hdGgubm9ybWFsaXplKGYpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsW2wubGVuZ3RoXSA9IGQ7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdmFyIGggPSBuZXcgJG1hdGhzLlZlY3RvcjIocy52YWx1ZS54LCBzLnZhbHVlLnkpO1xyXG4gICAgICAgICAgICAgICAgaWYgKFxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubGluZWFyUHJvZ3JhbTIobCwgbiwgbmV3ICRtYXRocy5WZWN0b3IyKC10W2FdLmRpcmVjdGlvbi55LCB0W2FdLmRpcmVjdGlvbi54KSwgITAsIHMpIDwgbC5sZW5ndGhcclxuICAgICAgICAgICAgICAgICkge1xyXG4gICAgICAgICAgICAgICAgICAgIHMudmFsdWUgPSBoO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgciA9ICRtYXRocy5SVk9NYXRoLmRldCh0W2FdLmRpcmVjdGlvbiwgJG1hdGhzLlZlY3RvcjIuc3VidHJhY3QodFthXS5wb2ludCwgcy52YWx1ZSkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIHQuX2luc3QgPSBudWxsO1xyXG4gICAgcmV0dXJuIHQ7XHJcbn0pKCk7XHJcbmV4cG9ydHMuQWdlbnQgPSByO1xyXG4iXX0=