{"version":3,"sources":["assets\\game_script\\scripts\\EggKeyView.js"],"names":["o","$uIManager","require","$popupView","$platform","$aD","$adService","$userDataContext","p","cc","_decorator","f","ccclass","h","property","m","t","e","apply","arguments","btnAd","tipLable","type","__extends","prototype","onResetView","uiParam","param","string","addEvent","on","clickAd","removeEvent","off","Ins","showRewardedVideo","Platform","currPlatForm","PlatformEnum","TOU_TIAO","toutiao","report","UIManager","instance","showToast","setEgg","onClickClose","call","__decorate","Node","Label","PopupView","exports"],"mappings":"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","sourceRoot":"/","sourcesContent":["var o;\r\nvar $uIManager = require(\"./UIManager\");\r\nvar $popupView = require(\"./PopupView\");\r\nvar $platform = require(\"./Platform\");\r\nvar $aD = require(\"./AD\");\r\nvar $adService = require(\"./AdService\");\r\nvar $userDataContext = require(\"./UserDataContext\");\r\nvar p = cc._decorator;\r\nvar f = p.ccclass;\r\nvar h = p.property;\r\nvar m = (function (t) {\r\n    function e() {\r\n        var e = (null !== t && t.apply(this, arguments)) || this;\r\n        e.btnAd = null;\r\n        e.tipLable = null;\r\n        e.type = -1;\r\n        return e;\r\n    }\r\n    __extends(e, t);\r\n    e.prototype.onResetView = function () {\r\n        var t;\r\n        this.type = null === (t = this.uiParam.param) || void 0 === t ? void 0 : t.type;\r\n        if (!this.type) {\r\n            this.type;\r\n        }\r\n        1 === this.type\r\n            ? (this.tipLable.string = \"观看广告获得钥匙\")\r\n            : (this.tipLable.string = \"是否让宝箱进入沉睡状态\");\r\n    };\r\n    e.prototype.addEvent = function () {\r\n        this.btnAd.on(\"click\", this.clickAd, this);\r\n    };\r\n    e.prototype.removeEvent = function () {\r\n        this.btnAd.off(\"click\", this.clickAd, this);\r\n    };\r\n    e.prototype.clickAd = function () {\r\n        var e = this;\r\n        $adService.default.Ins.showRewardedVideo(function () {\r\n            if ($platform.Platform.currPlatForm === $platform.PlatformEnum.TOU_TIAO) {\r\n                1 === e.type ? $aD.default.toutiao.report(\"Egg_key\") : $aD.default.toutiao.report(\"Egg_key_box\");\r\n            }\r\n            1 === e.type\r\n                ? ($uIManager.UIManager.instance.showToast(\"获得钥匙\"), $userDataContext.default.Ins.setEgg(1, 1))\r\n                : $userDataContext.default.Ins.setEgg(2, 1);\r\n            t.prototype.onClickClose.call(e);\r\n        });\r\n    };\r\n    __decorate([h(cc.Node)], e.prototype, \"btnAd\", void 0);\r\n    __decorate([h(cc.Label)], e.prototype, \"tipLable\", void 0);\r\n    return __decorate([f], e);\r\n})($popupView.PopupView);\r\nexports.default = m;\r\n"]}