
                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/game_script/scripts/StartView.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '885895CSeJNBLlPa99oe8qq', 'StartView');
// game_script/scripts/StartView.js

"use strict";

var o;
exports.MenuType = void 0;
var r;
var a;

var $assetsMap = require("./AssetsMap");

var $resManager = require("./ResManager");

var $eventManager = require("./EventManager");

var $popupManager = require("./PopupManager");

var $uIManager = require("./UIManager");

var $uIView = require("./UIView");

var $guide = require("./Guide");

var $remoteAudio = require("./RemoteAudio");

var $configContext = require("./ConfigContext");

var $equipmentContext = require("./EquipmentContext");

var $globalParam = require("./GlobalParam");

var $localEventName = require("./LocalEventName");

var $onlineContext = require("./OnlineContext");

var $roleContext = require("./RoleContext");

var $shopContext = require("./ShopContext");

var $skillContext = require("./SkillContext");

var $taskContext = require("./TaskContext");

var $userDataContext = require("./UserDataContext");

var $gameSkillInfo = require("./GameSkillInfo");

var $rankService = require("./RankService");

var $itemView = require("./ItemView");

var $shopView = require("./ShopView");

var x = cc._decorator;
var O = x.ccclass;
var L = x.property;
(a = r = exports.MenuType || (exports.MenuType = {}))[a.Shop = 0] = "Shop";
a[a.Role = 1] = "Role";
a[a.Battle = 2] = "Battle";
a[a.Skill = 3] = "Skill";
a[a.ALL = 4] = "ALL";

var E = function (t) {
  function e() {
    var e = null !== t && t.apply(this, arguments) || this;
    e.btnLayers = null;
    e.content = null;
    e.nodePool = [];
    e.currType = r.Battle;
    e.skillInfo = null;
    return e;
  }

  __extends(e, t);

  e.prototype.onResetView = function () {
    var t;
    var e;
    var i;

    if (!$globalParam["default"].isChangeLoding) {
      $globalParam["default"].isChangeLoding = !0;
      $uIManager.UIManager.instance.changeLoadingView($assetsMap.AssetsMap.ResourcesBundle.prefabs.assetsList.GameLoadingView);
    }

    var o = null === (t = this.uiParam.param) || void 0 === t ? void 0 : t.type;

    if (void 0 !== o) {
      (null === (e = this.uiParam.param) || void 0 === e ? void 0 : e.ext) ? this.skip(o, this.uiParam.param.ext) : this.skip(o);
    }

    if (null === (i = this.uiParam.param) || void 0 === i ? void 0 : i.isUpgrade) {
      $popupManager.PopupManager.instance.open($assetsMap.AssetsMap.PopUpBundles.prefabs.assetsList.UpgradeView, {
        count: 1
      });
    }

    for (var n = 0; n < 4; n++) {
      this.renderDot(n);
    }

    $userDataContext["default"].Ins.isEndGuide ? $globalParam["default"].isFirstComeStart || ($rankService["default"].instance.reportRankData($rankService.RankTypeEnum.Level), $globalParam["default"].isFirstComeStart = !0, !$userDataContext["default"].Ins.isSign() && $configContext["default"].instance.getAdSwitch2("open_shop_diamond") && $popupManager.PopupManager.instance.open($assetsMap.AssetsMap.PopUpBundles.prefabs.assetsList.NewPackView)) : 0 === $roleContext["default"].ins.packList.length ? $userDataContext["default"].Ins.guideEnd() : $guide["default"].self.startGuideTest(this.btnLayers.children[1], "点击角色");
  };

  e.prototype.addEvent = function () {
    $eventManager["default"].on($localEventName["default"].CHOOSE_SKILL, this.testChooseSKill, this);
    $eventManager["default"].on($localEventName["default"].MENU, this.skip, this);
    $eventManager["default"].on($localEventName["default"].RENDER_DOT, this.renderDot, this);

    for (var t = 0; t < this.btnLayers.children.length; t++) {
      this.btnLayers.children[t].on("click", this.clickItem, this);
    }
  };

  e.prototype.removeEvent = function () {
    $eventManager["default"].off($localEventName["default"].CHOOSE_SKILL, this.testChooseSKill, this);
    $eventManager["default"].off($localEventName["default"].MENU, this.skip, this);
    $eventManager["default"].off($localEventName["default"].RENDER_DOT, this.renderDot, this);

    for (var t = 0; t < this.btnLayers.children.length; t++) {
      this.btnLayers.children[t].off("click", this.clickItem, this);
    }
  };

  e.prototype.skip = function (t, e) {
    if (void 0 === e) {
      e = -1;
    }

    this.renderDot(t);

    if (t !== this.currType) {
      $remoteAudio["default"].instance.playEffectMusic("Click");
      this.btnLayers.children[this.currType].children[0].getComponent(dragonBones.ArmatureDisplay).playAnimation("stand", 0);
      this.btnLayers.children[t].children[0].getComponent(dragonBones.ArmatureDisplay).playAnimation("on", 0);
      var i = this.getItem(t);

      if (i.node) {
        this.nodePool[this.currType] = this.content.children[0];
        this.content.children[0].getComponent($itemView["default"]).unuse();
        this.content.children[0].parent = null;
        i.node.parent = this.content;
        this.currType = t;
      }

      if (-1 !== e) {
        i.node.getComponent($shopView["default"]).currItemIndex = e - 1;
      }

      if (!i.isNew) {
        i.node.getComponent($itemView["default"]).reuse();
      }
    } else {
      if (-1 !== e) {
        var o = this.content.children[0].getComponent($shopView["default"]);
        o.currItemIndex = e - 1;
        o.renderItems();
      }
    }
  };

  e.prototype.addToScreen = function () {
    $remoteAudio["default"].instance.playBGM();
    $globalParam["default"].isStartView = !0;
  };

  e.prototype.removeToScreen = function () {
    $globalParam["default"].isStartView = !1;

    for (var t = 0; t < this.nodePool.length; t++) {
      if (this.nodePool[t]) {
        this.nodePool[t].destroy();
      }
    }

    this.nodePool.length = 0;
  };

  e.prototype.clickItem = function (t) {
    var e = this.btnLayers.children.indexOf(t.node);

    if (4 === e) {
      return $uIManager.UIManager.instance.showToast("敬请期待");
    }

    this.skip(e);
  };

  e.prototype.getItem = function (t) {
    var e = {
      node: null,
      isNew: !1
    };
    e.isNew = !0;

    if (this.nodePool[t]) {
      e.node = this.nodePool[t];
      this.nodePool[t] = null;
      e.isNew = !1;
    } else {
      if (t === r.Role) {
        var i = $resManager.ResManager.instance.get($assetsMap.AssetsMap.StartBundles.prefabs.assetsList.RoleView);
        e.node = cc.instantiate(i);
      } else {
        t === r.Battle ? (i = $resManager.ResManager.instance.get($assetsMap.AssetsMap.StartBundles.prefabs.assetsList.BattleView), e.node = cc.instantiate(i)) : t === r.Skill ? (i = $resManager.ResManager.instance.get($assetsMap.AssetsMap.StartBundles.prefabs.assetsList.SkillView), e.node = cc.instantiate(i)) : t === r.Shop && (i = $resManager.ResManager.instance.get($assetsMap.AssetsMap.StartBundles.prefabs.assetsList.ShopView), e.node = cc.instantiate(i));
      }
    }

    return e;
  };

  e.prototype.renderDot = function (t) {
    var e;
    var i = !1;

    if (!(t !== r.ALL && t !== r.Role)) {
      i = $equipmentContext["default"].Ins.checkEquipUpgrade() || $roleContext["default"].ins.isCanComposeGem() || $roleContext["default"].ins.hasGunSkinDot() || $roleContext["default"].ins.hasPlayerSkinDot();
      (e = this.btnLayers.children[r.Role]).children[e.children.length - 1].active = i;
    }

    if (!(t !== r.ALL && t !== r.Skill)) {
      i = $roleContext["default"].ins.hasRobotSkinDot() || $skillContext["default"].Ins.checkAllSKillUpgrade();
      (e = this.btnLayers.children[r.Skill]).children[e.children.length - 1].active = i;
    }

    if (!(t !== r.ALL && t !== r.Battle)) {
      i = $onlineContext["default"].Ins.hasRedDot() || $taskContext["default"].Ins.hasRedDot() || !$userDataContext["default"].Ins.isSign() || $userDataContext["default"].Ins.getSweepTime() >= 8 || -1 === $userDataContext["default"].Ins.getCurrConfigIndex();
      (e = this.btnLayers.children[r.Battle]).children[e.children.length - 1].active = i;
    }

    if (!(t !== r.ALL && t !== r.Shop)) {
      i = $shopContext["default"].Ins.hasResRedDot() || $shopContext["default"].Ins.hasDiamondRedDot();
      (e = this.btnLayers.children[r.Shop]).children[e.children.length - 1].active = i;
    }
  };

  e.prototype.testChooseSKill = function (t) {
    if (!this.skillInfo) {
      this.skillInfo = new $gameSkillInfo.GameSkillInfo();
    }

    this.skillInfo.chooseSkill(t);
  };

  __decorate([L(cc.Node)], e.prototype, "btnLayers", void 0);

  __decorate([L(cc.Node)], e.prototype, "content", void 0);

  return __decorate([O], e);
}($uIView.UIView);

exports["default"] = E;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcZ2FtZV9zY3JpcHRcXHNjcmlwdHNcXFN0YXJ0Vmlldy5qcyJdLCJuYW1lcyI6WyJvIiwiZXhwb3J0cyIsIk1lbnVUeXBlIiwiciIsImEiLCIkYXNzZXRzTWFwIiwicmVxdWlyZSIsIiRyZXNNYW5hZ2VyIiwiJGV2ZW50TWFuYWdlciIsIiRwb3B1cE1hbmFnZXIiLCIkdUlNYW5hZ2VyIiwiJHVJVmlldyIsIiRndWlkZSIsIiRyZW1vdGVBdWRpbyIsIiRjb25maWdDb250ZXh0IiwiJGVxdWlwbWVudENvbnRleHQiLCIkZ2xvYmFsUGFyYW0iLCIkbG9jYWxFdmVudE5hbWUiLCIkb25saW5lQ29udGV4dCIsIiRyb2xlQ29udGV4dCIsIiRzaG9wQ29udGV4dCIsIiRza2lsbENvbnRleHQiLCIkdGFza0NvbnRleHQiLCIkdXNlckRhdGFDb250ZXh0IiwiJGdhbWVTa2lsbEluZm8iLCIkcmFua1NlcnZpY2UiLCIkaXRlbVZpZXciLCIkc2hvcFZpZXciLCJ4IiwiY2MiLCJfZGVjb3JhdG9yIiwiTyIsImNjY2xhc3MiLCJMIiwicHJvcGVydHkiLCJTaG9wIiwiUm9sZSIsIkJhdHRsZSIsIlNraWxsIiwiQUxMIiwiRSIsInQiLCJlIiwiYXBwbHkiLCJhcmd1bWVudHMiLCJidG5MYXllcnMiLCJjb250ZW50Iiwibm9kZVBvb2wiLCJjdXJyVHlwZSIsInNraWxsSW5mbyIsIl9fZXh0ZW5kcyIsInByb3RvdHlwZSIsIm9uUmVzZXRWaWV3IiwiaSIsImlzQ2hhbmdlTG9kaW5nIiwiVUlNYW5hZ2VyIiwiaW5zdGFuY2UiLCJjaGFuZ2VMb2FkaW5nVmlldyIsIkFzc2V0c01hcCIsIlJlc291cmNlc0J1bmRsZSIsInByZWZhYnMiLCJhc3NldHNMaXN0IiwiR2FtZUxvYWRpbmdWaWV3IiwidWlQYXJhbSIsInBhcmFtIiwidHlwZSIsImV4dCIsInNraXAiLCJpc1VwZ3JhZGUiLCJQb3B1cE1hbmFnZXIiLCJvcGVuIiwiUG9wVXBCdW5kbGVzIiwiVXBncmFkZVZpZXciLCJjb3VudCIsIm4iLCJyZW5kZXJEb3QiLCJJbnMiLCJpc0VuZEd1aWRlIiwiaXNGaXJzdENvbWVTdGFydCIsInJlcG9ydFJhbmtEYXRhIiwiUmFua1R5cGVFbnVtIiwiTGV2ZWwiLCJpc1NpZ24iLCJnZXRBZFN3aXRjaDIiLCJOZXdQYWNrVmlldyIsImlucyIsInBhY2tMaXN0IiwibGVuZ3RoIiwiZ3VpZGVFbmQiLCJzZWxmIiwic3RhcnRHdWlkZVRlc3QiLCJjaGlsZHJlbiIsImFkZEV2ZW50Iiwib24iLCJDSE9PU0VfU0tJTEwiLCJ0ZXN0Q2hvb3NlU0tpbGwiLCJNRU5VIiwiUkVOREVSX0RPVCIsImNsaWNrSXRlbSIsInJlbW92ZUV2ZW50Iiwib2ZmIiwicGxheUVmZmVjdE11c2ljIiwiZ2V0Q29tcG9uZW50IiwiZHJhZ29uQm9uZXMiLCJBcm1hdHVyZURpc3BsYXkiLCJwbGF5QW5pbWF0aW9uIiwiZ2V0SXRlbSIsIm5vZGUiLCJ1bnVzZSIsInBhcmVudCIsImN1cnJJdGVtSW5kZXgiLCJpc05ldyIsInJldXNlIiwicmVuZGVySXRlbXMiLCJhZGRUb1NjcmVlbiIsInBsYXlCR00iLCJpc1N0YXJ0VmlldyIsInJlbW92ZVRvU2NyZWVuIiwiZGVzdHJveSIsImluZGV4T2YiLCJzaG93VG9hc3QiLCJSZXNNYW5hZ2VyIiwiZ2V0IiwiU3RhcnRCdW5kbGVzIiwiUm9sZVZpZXciLCJpbnN0YW50aWF0ZSIsIkJhdHRsZVZpZXciLCJTa2lsbFZpZXciLCJTaG9wVmlldyIsImNoZWNrRXF1aXBVcGdyYWRlIiwiaXNDYW5Db21wb3NlR2VtIiwiaGFzR3VuU2tpbkRvdCIsImhhc1BsYXllclNraW5Eb3QiLCJhY3RpdmUiLCJoYXNSb2JvdFNraW5Eb3QiLCJjaGVja0FsbFNLaWxsVXBncmFkZSIsImhhc1JlZERvdCIsImdldFN3ZWVwVGltZSIsImdldEN1cnJDb25maWdJbmRleCIsImhhc1Jlc1JlZERvdCIsImhhc0RpYW1vbmRSZWREb3QiLCJHYW1lU2tpbGxJbmZvIiwiY2hvb3NlU2tpbGwiLCJfX2RlY29y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RixDQUFELEVBQWV0RyxDQUFDLENBQUNTLFNBQWpCLEVBQTRCLFdBQTVCLEVBQXlDLEtBQUssQ0FBOUMsQ0FBVjs7RUFDQTRGLFVBQVUsQ0FBQyxDQUFDOUcsQ0FBQyxDQUFDSixFQUFFLENBQUNtSCxJQUFKLENBQUYsQ0FBRCxFQUFldEcsQ0FBQyxDQUFDUyxTQUFqQixFQUE0QixTQUE1QixFQUF1QyxLQUFLLENBQTVDLENBQVY7O0VBQ0EsT0FBTzRGLFVBQVUsQ0FBQyxDQUFDaEgsQ0FBRCxDQUFELEVBQU1XLENBQU4sQ0FBakI7QUFDSCxDQS9MTyxDQStMTC9CLE9BQU8sQ0FBQ3NJLE1BL0xILENBQVI7O0FBZ01BaEosT0FBTyxXQUFQLEdBQWtCdUMsQ0FBbEIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbInZhciBvO1xyXG5leHBvcnRzLk1lbnVUeXBlID0gdm9pZCAwO1xyXG52YXIgcjtcclxudmFyIGE7XHJcbnZhciAkYXNzZXRzTWFwID0gcmVxdWlyZShcIi4vQXNzZXRzTWFwXCIpO1xyXG52YXIgJHJlc01hbmFnZXIgPSByZXF1aXJlKFwiLi9SZXNNYW5hZ2VyXCIpO1xyXG52YXIgJGV2ZW50TWFuYWdlciA9IHJlcXVpcmUoXCIuL0V2ZW50TWFuYWdlclwiKTtcclxudmFyICRwb3B1cE1hbmFnZXIgPSByZXF1aXJlKFwiLi9Qb3B1cE1hbmFnZXJcIik7XHJcbnZhciAkdUlNYW5hZ2VyID0gcmVxdWlyZShcIi4vVUlNYW5hZ2VyXCIpO1xyXG52YXIgJHVJVmlldyA9IHJlcXVpcmUoXCIuL1VJVmlld1wiKTtcclxudmFyICRndWlkZSA9IHJlcXVpcmUoXCIuL0d1aWRlXCIpO1xyXG52YXIgJHJlbW90ZUF1ZGlvID0gcmVxdWlyZShcIi4vUmVtb3RlQXVkaW9cIik7XHJcbnZhciAkY29uZmlnQ29udGV4dCA9IHJlcXVpcmUoXCIuL0NvbmZpZ0NvbnRleHRcIik7XHJcbnZhciAkZXF1aXBtZW50Q29udGV4dCA9IHJlcXVpcmUoXCIuL0VxdWlwbWVudENvbnRleHRcIik7XHJcbnZhciAkZ2xvYmFsUGFyYW0gPSByZXF1aXJlKFwiLi9HbG9iYWxQYXJhbVwiKTtcclxudmFyICRsb2NhbEV2ZW50TmFtZSA9IHJlcXVpcmUoXCIuL0xvY2FsRXZlbnROYW1lXCIpO1xyXG52YXIgJG9ubGluZUNvbnRleHQgPSByZXF1aXJlKFwiLi9PbmxpbmVDb250ZXh0XCIpO1xyXG52YXIgJHJvbGVDb250ZXh0ID0gcmVxdWlyZShcIi4vUm9sZUNvbnRleHRcIik7XHJcbnZhciAkc2hvcENvbnRleHQgPSByZXF1aXJlKFwiLi9TaG9wQ29udGV4dFwiKTtcclxudmFyICRza2lsbENvbnRleHQgPSByZXF1aXJlKFwiLi9Ta2lsbENvbnRleHRcIik7XHJcbnZhciAkdGFza0NvbnRleHQgPSByZXF1aXJlKFwiLi9UYXNrQ29udGV4dFwiKTtcclxudmFyICR1c2VyRGF0YUNvbnRleHQgPSByZXF1aXJlKFwiLi9Vc2VyRGF0YUNvbnRleHRcIik7XHJcbnZhciAkZ2FtZVNraWxsSW5mbyA9IHJlcXVpcmUoXCIuL0dhbWVTa2lsbEluZm9cIik7XHJcbnZhciAkcmFua1NlcnZpY2UgPSByZXF1aXJlKFwiLi9SYW5rU2VydmljZVwiKTtcclxudmFyICRpdGVtVmlldyA9IHJlcXVpcmUoXCIuL0l0ZW1WaWV3XCIpO1xyXG52YXIgJHNob3BWaWV3ID0gcmVxdWlyZShcIi4vU2hvcFZpZXdcIik7XHJcbnZhciB4ID0gY2MuX2RlY29yYXRvcjtcclxudmFyIE8gPSB4LmNjY2xhc3M7XHJcbnZhciBMID0geC5wcm9wZXJ0eTtcclxuKGEgPSByID0gZXhwb3J0cy5NZW51VHlwZSB8fCAoZXhwb3J0cy5NZW51VHlwZSA9IHt9KSlbKGEuU2hvcCA9IDApXSA9IFwiU2hvcFwiO1xyXG5hWyhhLlJvbGUgPSAxKV0gPSBcIlJvbGVcIjtcclxuYVsoYS5CYXR0bGUgPSAyKV0gPSBcIkJhdHRsZVwiO1xyXG5hWyhhLlNraWxsID0gMyldID0gXCJTa2lsbFwiO1xyXG5hWyhhLkFMTCA9IDQpXSA9IFwiQUxMXCI7XHJcbnZhciBFID0gKGZ1bmN0aW9uICh0KSB7XHJcbiAgICBmdW5jdGlvbiBlKCkge1xyXG4gICAgICAgIHZhciBlID0gKG51bGwgIT09IHQgJiYgdC5hcHBseSh0aGlzLCBhcmd1bWVudHMpKSB8fCB0aGlzO1xyXG4gICAgICAgIGUuYnRuTGF5ZXJzID0gbnVsbDtcclxuICAgICAgICBlLmNvbnRlbnQgPSBudWxsO1xyXG4gICAgICAgIGUubm9kZVBvb2wgPSBbXTtcclxuICAgICAgICBlLmN1cnJUeXBlID0gci5CYXR0bGU7XHJcbiAgICAgICAgZS5za2lsbEluZm8gPSBudWxsO1xyXG4gICAgICAgIHJldHVybiBlO1xyXG4gICAgfVxyXG4gICAgX19leHRlbmRzKGUsIHQpO1xyXG4gICAgZS5wcm90b3R5cGUub25SZXNldFZpZXcgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIHQ7XHJcbiAgICAgICAgdmFyIGU7XHJcbiAgICAgICAgdmFyIGk7XHJcbiAgICAgICAgaWYgKCEkZ2xvYmFsUGFyYW0uZGVmYXVsdC5pc0NoYW5nZUxvZGluZykge1xyXG4gICAgICAgICAgICAkZ2xvYmFsUGFyYW0uZGVmYXVsdC5pc0NoYW5nZUxvZGluZyA9ICEwO1xyXG4gICAgICAgICAgICAkdUlNYW5hZ2VyLlVJTWFuYWdlci5pbnN0YW5jZS5jaGFuZ2VMb2FkaW5nVmlldyhcclxuICAgICAgICAgICAgICAgICRhc3NldHNNYXAuQXNzZXRzTWFwLlJlc291cmNlc0J1bmRsZS5wcmVmYWJzLmFzc2V0c0xpc3QuR2FtZUxvYWRpbmdWaWV3XHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBvID0gbnVsbCA9PT0gKHQgPSB0aGlzLnVpUGFyYW0ucGFyYW0pIHx8IHZvaWQgMCA9PT0gdCA/IHZvaWQgMCA6IHQudHlwZTtcclxuICAgICAgICBpZiAodm9pZCAwICE9PSBvKSB7XHJcbiAgICAgICAgICAgIChudWxsID09PSAoZSA9IHRoaXMudWlQYXJhbS5wYXJhbSkgfHwgdm9pZCAwID09PSBlID8gdm9pZCAwIDogZS5leHQpXHJcbiAgICAgICAgICAgICAgICA/IHRoaXMuc2tpcChvLCB0aGlzLnVpUGFyYW0ucGFyYW0uZXh0KVxyXG4gICAgICAgICAgICAgICAgOiB0aGlzLnNraXAobyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChudWxsID09PSAoaSA9IHRoaXMudWlQYXJhbS5wYXJhbSkgfHwgdm9pZCAwID09PSBpID8gdm9pZCAwIDogaS5pc1VwZ3JhZGUpIHtcclxuICAgICAgICAgICAgJHBvcHVwTWFuYWdlci5Qb3B1cE1hbmFnZXIuaW5zdGFuY2Uub3BlbigkYXNzZXRzTWFwLkFzc2V0c01hcC5Qb3BVcEJ1bmRsZXMucHJlZmFicy5hc3NldHNMaXN0LlVwZ3JhZGVWaWV3LCB7XHJcbiAgICAgICAgICAgICAgICBjb3VudDogMVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZm9yICh2YXIgbiA9IDA7IG4gPCA0OyBuKyspIHtcclxuICAgICAgICAgICAgdGhpcy5yZW5kZXJEb3Qobik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgICR1c2VyRGF0YUNvbnRleHQuZGVmYXVsdC5JbnMuaXNFbmRHdWlkZVxyXG4gICAgICAgICAgICA/ICRnbG9iYWxQYXJhbS5kZWZhdWx0LmlzRmlyc3RDb21lU3RhcnQgfHxcclxuICAgICAgICAgICAgICAoJHJhbmtTZXJ2aWNlLmRlZmF1bHQuaW5zdGFuY2UucmVwb3J0UmFua0RhdGEoJHJhbmtTZXJ2aWNlLlJhbmtUeXBlRW51bS5MZXZlbCksXHJcbiAgICAgICAgICAgICAgKCRnbG9iYWxQYXJhbS5kZWZhdWx0LmlzRmlyc3RDb21lU3RhcnQgPSAhMCksXHJcbiAgICAgICAgICAgICAgISR1c2VyRGF0YUNvbnRleHQuZGVmYXVsdC5JbnMuaXNTaWduKCkgJiZcclxuICAgICAgICAgICAgICAgICAgJGNvbmZpZ0NvbnRleHQuZGVmYXVsdC5pbnN0YW5jZS5nZXRBZFN3aXRjaDIoXCJvcGVuX3Nob3BfZGlhbW9uZFwiKSAmJlxyXG4gICAgICAgICAgICAgICAgICAkcG9wdXBNYW5hZ2VyLlBvcHVwTWFuYWdlci5pbnN0YW5jZS5vcGVuKFxyXG4gICAgICAgICAgICAgICAgICAgICAgJGFzc2V0c01hcC5Bc3NldHNNYXAuUG9wVXBCdW5kbGVzLnByZWZhYnMuYXNzZXRzTGlzdC5OZXdQYWNrVmlld1xyXG4gICAgICAgICAgICAgICAgICApKVxyXG4gICAgICAgICAgICA6IDAgPT09ICRyb2xlQ29udGV4dC5kZWZhdWx0Lmlucy5wYWNrTGlzdC5sZW5ndGhcclxuICAgICAgICAgICAgPyAkdXNlckRhdGFDb250ZXh0LmRlZmF1bHQuSW5zLmd1aWRlRW5kKClcclxuICAgICAgICAgICAgOiAkZ3VpZGUuZGVmYXVsdC5zZWxmLnN0YXJ0R3VpZGVUZXN0KHRoaXMuYnRuTGF5ZXJzLmNoaWxkcmVuWzFdLCBcIueCueWHu+inkuiJslwiKTtcclxuICAgIH07XHJcbiAgICBlLnByb3RvdHlwZS5hZGRFdmVudCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAkZXZlbnRNYW5hZ2VyLmRlZmF1bHQub24oJGxvY2FsRXZlbnROYW1lLmRlZmF1bHQuQ0hPT1NFX1NLSUxMLCB0aGlzLnRlc3RDaG9vc2VTS2lsbCwgdGhpcyk7XHJcbiAgICAgICAgJGV2ZW50TWFuYWdlci5kZWZhdWx0Lm9uKCRsb2NhbEV2ZW50TmFtZS5kZWZhdWx0Lk1FTlUsIHRoaXMuc2tpcCwgdGhpcyk7XHJcbiAgICAgICAgJGV2ZW50TWFuYWdlci5kZWZhdWx0Lm9uKCRsb2NhbEV2ZW50TmFtZS5kZWZhdWx0LlJFTkRFUl9ET1QsIHRoaXMucmVuZGVyRG90LCB0aGlzKTtcclxuICAgICAgICBmb3IgKHZhciB0ID0gMDsgdCA8IHRoaXMuYnRuTGF5ZXJzLmNoaWxkcmVuLmxlbmd0aDsgdCsrKSB7XHJcbiAgICAgICAgICAgIHRoaXMuYnRuTGF5ZXJzLmNoaWxkcmVuW3RdLm9uKFwiY2xpY2tcIiwgdGhpcy5jbGlja0l0ZW0sIHRoaXMpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBlLnByb3RvdHlwZS5yZW1vdmVFdmVudCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAkZXZlbnRNYW5hZ2VyLmRlZmF1bHQub2ZmKCRsb2NhbEV2ZW50TmFtZS5kZWZhdWx0LkNIT09TRV9TS0lMTCwgdGhpcy50ZXN0Q2hvb3NlU0tpbGwsIHRoaXMpO1xyXG4gICAgICAgICRldmVudE1hbmFnZXIuZGVmYXVsdC5vZmYoJGxvY2FsRXZlbnROYW1lLmRlZmF1bHQuTUVOVSwgdGhpcy5za2lwLCB0aGlzKTtcclxuICAgICAgICAkZXZlbnRNYW5hZ2VyLmRlZmF1bHQub2ZmKCRsb2NhbEV2ZW50TmFtZS5kZWZhdWx0LlJFTkRFUl9ET1QsIHRoaXMucmVuZGVyRG90LCB0aGlzKTtcclxuICAgICAgICBmb3IgKHZhciB0ID0gMDsgdCA8IHRoaXMuYnRuTGF5ZXJzLmNoaWxkcmVuLmxlbmd0aDsgdCsrKSB7XHJcbiAgICAgICAgICAgIHRoaXMuYnRuTGF5ZXJzLmNoaWxkcmVuW3RdLm9mZihcImNsaWNrXCIsIHRoaXMuY2xpY2tJdGVtLCB0aGlzKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgZS5wcm90b3R5cGUuc2tpcCA9IGZ1bmN0aW9uICh0LCBlKSB7XHJcbiAgICAgICAgaWYgKHZvaWQgMCA9PT0gZSkge1xyXG4gICAgICAgICAgICBlID0gLTE7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMucmVuZGVyRG90KHQpO1xyXG4gICAgICAgIGlmICh0ICE9PSB0aGlzLmN1cnJUeXBlKSB7XHJcbiAgICAgICAgICAgICRyZW1vdGVBdWRpby5kZWZhdWx0Lmluc3RhbmNlLnBsYXlFZmZlY3RNdXNpYyhcIkNsaWNrXCIpO1xyXG4gICAgICAgICAgICB0aGlzLmJ0bkxheWVycy5jaGlsZHJlblt0aGlzLmN1cnJUeXBlXS5jaGlsZHJlblswXVxyXG4gICAgICAgICAgICAgICAgLmdldENvbXBvbmVudChkcmFnb25Cb25lcy5Bcm1hdHVyZURpc3BsYXkpXHJcbiAgICAgICAgICAgICAgICAucGxheUFuaW1hdGlvbihcInN0YW5kXCIsIDApO1xyXG4gICAgICAgICAgICB0aGlzLmJ0bkxheWVycy5jaGlsZHJlblt0XS5jaGlsZHJlblswXS5nZXRDb21wb25lbnQoZHJhZ29uQm9uZXMuQXJtYXR1cmVEaXNwbGF5KS5wbGF5QW5pbWF0aW9uKFwib25cIiwgMCk7XHJcbiAgICAgICAgICAgIHZhciBpID0gdGhpcy5nZXRJdGVtKHQpO1xyXG4gICAgICAgICAgICBpZiAoaS5ub2RlKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm5vZGVQb29sW3RoaXMuY3VyclR5cGVdID0gdGhpcy5jb250ZW50LmNoaWxkcmVuWzBdO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jb250ZW50LmNoaWxkcmVuWzBdLmdldENvbXBvbmVudCgkaXRlbVZpZXcuZGVmYXVsdCkudW51c2UoKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuY29udGVudC5jaGlsZHJlblswXS5wYXJlbnQgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgaS5ub2RlLnBhcmVudCA9IHRoaXMuY29udGVudDtcclxuICAgICAgICAgICAgICAgIHRoaXMuY3VyclR5cGUgPSB0O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICgtMSAhPT0gZSkge1xyXG4gICAgICAgICAgICAgICAgaS5ub2RlLmdldENvbXBvbmVudCgkc2hvcFZpZXcuZGVmYXVsdCkuY3Vyckl0ZW1JbmRleCA9IGUgLSAxO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICghaS5pc05ldykge1xyXG4gICAgICAgICAgICAgICAgaS5ub2RlLmdldENvbXBvbmVudCgkaXRlbVZpZXcuZGVmYXVsdCkucmV1c2UoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGlmICgtMSAhPT0gZSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIG8gPSB0aGlzLmNvbnRlbnQuY2hpbGRyZW5bMF0uZ2V0Q29tcG9uZW50KCRzaG9wVmlldy5kZWZhdWx0KTtcclxuICAgICAgICAgICAgICAgIG8uY3Vyckl0ZW1JbmRleCA9IGUgLSAxO1xyXG4gICAgICAgICAgICAgICAgby5yZW5kZXJJdGVtcygpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIGUucHJvdG90eXBlLmFkZFRvU2NyZWVuID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICRyZW1vdGVBdWRpby5kZWZhdWx0Lmluc3RhbmNlLnBsYXlCR00oKTtcclxuICAgICAgICAkZ2xvYmFsUGFyYW0uZGVmYXVsdC5pc1N0YXJ0VmlldyA9ICEwO1xyXG4gICAgfTtcclxuICAgIGUucHJvdG90eXBlLnJlbW92ZVRvU2NyZWVuID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICRnbG9iYWxQYXJhbS5kZWZhdWx0LmlzU3RhcnRWaWV3ID0gITE7XHJcbiAgICAgICAgZm9yICh2YXIgdCA9IDA7IHQgPCB0aGlzLm5vZGVQb29sLmxlbmd0aDsgdCsrKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLm5vZGVQb29sW3RdKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm5vZGVQb29sW3RdLmRlc3Ryb3koKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLm5vZGVQb29sLmxlbmd0aCA9IDA7XHJcbiAgICB9O1xyXG4gICAgZS5wcm90b3R5cGUuY2xpY2tJdGVtID0gZnVuY3Rpb24gKHQpIHtcclxuICAgICAgICB2YXIgZSA9IHRoaXMuYnRuTGF5ZXJzLmNoaWxkcmVuLmluZGV4T2YodC5ub2RlKTtcclxuICAgICAgICBpZiAoNCA9PT0gZSkge1xyXG4gICAgICAgICAgICByZXR1cm4gJHVJTWFuYWdlci5VSU1hbmFnZXIuaW5zdGFuY2Uuc2hvd1RvYXN0KFwi5pWs6K+35pyf5b6FXCIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLnNraXAoZSk7XHJcbiAgICB9O1xyXG4gICAgZS5wcm90b3R5cGUuZ2V0SXRlbSA9IGZ1bmN0aW9uICh0KSB7XHJcbiAgICAgICAgdmFyIGUgPSB7XHJcbiAgICAgICAgICAgIG5vZGU6IG51bGwsXHJcbiAgICAgICAgICAgIGlzTmV3OiAhMVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgZS5pc05ldyA9ICEwO1xyXG4gICAgICAgIGlmICh0aGlzLm5vZGVQb29sW3RdKSB7XHJcbiAgICAgICAgICAgIGUubm9kZSA9IHRoaXMubm9kZVBvb2xbdF07XHJcbiAgICAgICAgICAgIHRoaXMubm9kZVBvb2xbdF0gPSBudWxsO1xyXG4gICAgICAgICAgICBlLmlzTmV3ID0gITE7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgaWYgKHQgPT09IHIuUm9sZSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGkgPSAkcmVzTWFuYWdlci5SZXNNYW5hZ2VyLmluc3RhbmNlLmdldChcclxuICAgICAgICAgICAgICAgICAgICAkYXNzZXRzTWFwLkFzc2V0c01hcC5TdGFydEJ1bmRsZXMucHJlZmFicy5hc3NldHNMaXN0LlJvbGVWaWV3XHJcbiAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgICAgZS5ub2RlID0gY2MuaW5zdGFudGlhdGUoaSk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0ID09PSByLkJhdHRsZVxyXG4gICAgICAgICAgICAgICAgICAgID8gKChpID0gJHJlc01hbmFnZXIuUmVzTWFuYWdlci5pbnN0YW5jZS5nZXQoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgJGFzc2V0c01hcC5Bc3NldHNNYXAuU3RhcnRCdW5kbGVzLnByZWZhYnMuYXNzZXRzTGlzdC5CYXR0bGVWaWV3XHJcbiAgICAgICAgICAgICAgICAgICAgICApKSxcclxuICAgICAgICAgICAgICAgICAgICAgIChlLm5vZGUgPSBjYy5pbnN0YW50aWF0ZShpKSkpXHJcbiAgICAgICAgICAgICAgICAgICAgOiB0ID09PSByLlNraWxsXHJcbiAgICAgICAgICAgICAgICAgICAgPyAoKGkgPSAkcmVzTWFuYWdlci5SZXNNYW5hZ2VyLmluc3RhbmNlLmdldChcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAkYXNzZXRzTWFwLkFzc2V0c01hcC5TdGFydEJ1bmRsZXMucHJlZmFicy5hc3NldHNMaXN0LlNraWxsVmlld1xyXG4gICAgICAgICAgICAgICAgICAgICAgKSksXHJcbiAgICAgICAgICAgICAgICAgICAgICAoZS5ub2RlID0gY2MuaW5zdGFudGlhdGUoaSkpKVxyXG4gICAgICAgICAgICAgICAgICAgIDogdCA9PT0gci5TaG9wICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICAoKGkgPSAkcmVzTWFuYWdlci5SZXNNYW5hZ2VyLmluc3RhbmNlLmdldChcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAkYXNzZXRzTWFwLkFzc2V0c01hcC5TdGFydEJ1bmRsZXMucHJlZmFicy5hc3NldHNMaXN0LlNob3BWaWV3XHJcbiAgICAgICAgICAgICAgICAgICAgICApKSxcclxuICAgICAgICAgICAgICAgICAgICAgIChlLm5vZGUgPSBjYy5pbnN0YW50aWF0ZShpKSkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBlO1xyXG4gICAgfTtcclxuICAgIGUucHJvdG90eXBlLnJlbmRlckRvdCA9IGZ1bmN0aW9uICh0KSB7XHJcbiAgICAgICAgdmFyIGU7XHJcbiAgICAgICAgdmFyIGkgPSAhMTtcclxuICAgICAgICBpZiAoISh0ICE9PSByLkFMTCAmJiB0ICE9PSByLlJvbGUpKSB7XHJcbiAgICAgICAgICAgIGkgPVxyXG4gICAgICAgICAgICAgICAgJGVxdWlwbWVudENvbnRleHQuZGVmYXVsdC5JbnMuY2hlY2tFcXVpcFVwZ3JhZGUoKSB8fFxyXG4gICAgICAgICAgICAgICAgJHJvbGVDb250ZXh0LmRlZmF1bHQuaW5zLmlzQ2FuQ29tcG9zZUdlbSgpIHx8XHJcbiAgICAgICAgICAgICAgICAkcm9sZUNvbnRleHQuZGVmYXVsdC5pbnMuaGFzR3VuU2tpbkRvdCgpIHx8XHJcbiAgICAgICAgICAgICAgICAkcm9sZUNvbnRleHQuZGVmYXVsdC5pbnMuaGFzUGxheWVyU2tpbkRvdCgpO1xyXG4gICAgICAgICAgICAoZSA9IHRoaXMuYnRuTGF5ZXJzLmNoaWxkcmVuW3IuUm9sZV0pLmNoaWxkcmVuW2UuY2hpbGRyZW4ubGVuZ3RoIC0gMV0uYWN0aXZlID0gaTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKCEodCAhPT0gci5BTEwgJiYgdCAhPT0gci5Ta2lsbCkpIHtcclxuICAgICAgICAgICAgaSA9ICRyb2xlQ29udGV4dC5kZWZhdWx0Lmlucy5oYXNSb2JvdFNraW5Eb3QoKSB8fCAkc2tpbGxDb250ZXh0LmRlZmF1bHQuSW5zLmNoZWNrQWxsU0tpbGxVcGdyYWRlKCk7XHJcbiAgICAgICAgICAgIChlID0gdGhpcy5idG5MYXllcnMuY2hpbGRyZW5bci5Ta2lsbF0pLmNoaWxkcmVuW2UuY2hpbGRyZW4ubGVuZ3RoIC0gMV0uYWN0aXZlID0gaTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKCEodCAhPT0gci5BTEwgJiYgdCAhPT0gci5CYXR0bGUpKSB7XHJcbiAgICAgICAgICAgIGkgPVxyXG4gICAgICAgICAgICAgICAgJG9ubGluZUNvbnRleHQuZGVmYXVsdC5JbnMuaGFzUmVkRG90KCkgfHxcclxuICAgICAgICAgICAgICAgICR0YXNrQ29udGV4dC5kZWZhdWx0Lklucy5oYXNSZWREb3QoKSB8fFxyXG4gICAgICAgICAgICAgICAgISR1c2VyRGF0YUNvbnRleHQuZGVmYXVsdC5JbnMuaXNTaWduKCkgfHxcclxuICAgICAgICAgICAgICAgICR1c2VyRGF0YUNvbnRleHQuZGVmYXVsdC5JbnMuZ2V0U3dlZXBUaW1lKCkgPj0gOCB8fFxyXG4gICAgICAgICAgICAgICAgLTEgPT09ICR1c2VyRGF0YUNvbnRleHQuZGVmYXVsdC5JbnMuZ2V0Q3VyckNvbmZpZ0luZGV4KCk7XHJcbiAgICAgICAgICAgIChlID0gdGhpcy5idG5MYXllcnMuY2hpbGRyZW5bci5CYXR0bGVdKS5jaGlsZHJlbltlLmNoaWxkcmVuLmxlbmd0aCAtIDFdLmFjdGl2ZSA9IGk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICghKHQgIT09IHIuQUxMICYmIHQgIT09IHIuU2hvcCkpIHtcclxuICAgICAgICAgICAgaSA9ICRzaG9wQ29udGV4dC5kZWZhdWx0Lklucy5oYXNSZXNSZWREb3QoKSB8fCAkc2hvcENvbnRleHQuZGVmYXVsdC5JbnMuaGFzRGlhbW9uZFJlZERvdCgpO1xyXG4gICAgICAgICAgICAoZSA9IHRoaXMuYnRuTGF5ZXJzLmNoaWxkcmVuW3IuU2hvcF0pLmNoaWxkcmVuW2UuY2hpbGRyZW4ubGVuZ3RoIC0gMV0uYWN0aXZlID0gaTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgZS5wcm90b3R5cGUudGVzdENob29zZVNLaWxsID0gZnVuY3Rpb24gKHQpIHtcclxuICAgICAgICBpZiAoIXRoaXMuc2tpbGxJbmZvKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2tpbGxJbmZvID0gbmV3ICRnYW1lU2tpbGxJbmZvLkdhbWVTa2lsbEluZm8oKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5za2lsbEluZm8uY2hvb3NlU2tpbGwodCk7XHJcbiAgICB9O1xyXG4gICAgX19kZWNvcmF0ZShbTChjYy5Ob2RlKV0sIGUucHJvdG90eXBlLCBcImJ0bkxheWVyc1wiLCB2b2lkIDApO1xyXG4gICAgX19kZWNvcmF0ZShbTChjYy5Ob2RlKV0sIGUucHJvdG90eXBlLCBcImNvbnRlbnRcIiwgdm9pZCAwKTtcclxuICAgIHJldHVybiBfX2RlY29yYXRlKFtPXSwgZSk7XHJcbn0pKCR1SVZpZXcuVUlWaWV3KTtcclxuZXhwb3J0cy5kZWZhdWx0ID0gRTtcclxuIl19