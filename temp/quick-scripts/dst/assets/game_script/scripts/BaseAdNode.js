
                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/game_script/scripts/BaseAdNode.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '90eefh8E2BG1LI53Pw44itc', 'BaseAdNode');
// game_script/scripts/BaseAdNode.js

"use strict";

var o;

var $aDAssetsManager = require("./ADAssetsManager");

var r = function (t) {
  function e() {
    var e = null !== t && t.apply(this, arguments) || this;
    e.adNode = null;
    e.adData = null;
    return e;
  }

  __extends(e, t);

  e.prototype.createNativeAd = function (t, e, i) {
    if (cc.isValid(this.adNode)) {
      this.adNode.destroy();
    }

    this.adNode = $aDAssetsManager["default"].instance.createNodeByPreloading($aDAssetsManager.adAssetsMap.prefabs[t]);
    this.adNode.zIndex = cc.macro.MAX_ZINDEX;
    var o = cc.director.getScene().getChildByName("Canvas");
    this.adNode.parent = o;
    var n = this.adNode.getChildByName("content");

    for (var r = 0; r < n.children.length; r++) {
      var a = n.children[r];

      if (a.name.includes("btn_click")) {
        a.on("click", e, this);
      }

      if (a.name.includes("btn_close")) {
        a.on("click", i, this);
      }
    }
  };

  e.prototype.destroyNativeAdNode = function () {
    if (cc.isValid(this.adNode)) {
      this.adNode.destroy();
      this.adNode = null;
    }
  };

  e.prototype.destroyAd = function () {
    this.destroyNativeAdNode();
    t.prototype.destroyAd.call(this);
  };

  e.prototype.setAdData = function (t, e, i) {
    if (cc.isValid(this.adNode)) {
      var o = this.adNode.getChildByName("content");

      if (t) {
        cc.loader.load({
          url: t,
          type: "png"
        }, function (t, e) {
          if (t) {
            console.error("img加载失败");
          } else {
            {
              var i = new cc.SpriteFrame(e);
              i ? o.getChildByName("ad_icon").getComponent(cc.Sprite).spriteFrame = i : console.error("img加载失败");
            }
          }
        });
      }

      var n = o.getChildByName("ad_title");

      if (cc.isValid(n) && e) {
        n.getComponent(cc.Label).string = e;
      }

      var s = o.getChildByName("ad_dest");

      if (cc.isValid(s) && i) {
        s.getComponent(cc.Label).string = e;
      }
    }
  };

  return e;
}(require("./BaseAd").BaseAd);

exports["default"] = r;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcZ2FtZV9zY3JpcHRcXHNjcmlwdHNcXEJhc2VBZE5vZGUuanMiXSwibmFtZXMiOlsibyIsIiRhREFzc2V0c01hbmFnZXIiLCJyZXF1aXJlIiwiciIsInQiLCJlIiwiYXBwbHkiLCJhcmd1bWVudHMiLCJhZE5vZGUiLCJhZERhdGEiLCJfX2V4dGVuZHMiLCJwcm90b3R5cGUiLCJjcmVhdGVOYXRpdmVBZCIsImkiLCJjYyIsImlzVmFsaWQiLCJkZXN0cm95IiwiaW5zdGFuY2UiLCJjcmVhdGVOb2RlQnlQcmVsb2FkaW5nIiwiYWRBc3NldHNNYXAiLCJwcmVmYWJzIiwiekluZGV4IiwibWFjcm8iLCJNQVhfWklOREVYIiwiZGlyZWN0b3IiLCJnZXRTY2VuZSIsImdldENoaWxkQnlOYW1lIiwicGFyZW50IiwibiIsImNoaWxkcmVuIiwibGVuZ3RoIiwiYSIsIm5hbWUiLCJpbmNsdWRlcyIsIm9uIiwiZGVzdHJveU5hdGl2ZUFkTm9kZSIsImRlc3Ryb3lBZCIsImNhbGwiLCJzZXRBZERhdGEiLCJsb2FkZXIiLCJsb2FkIiwidXJsIiwidHlwZSIsImNvbnNvbGUiLCJlcnJvciIsIlNwcml0ZUZyYW1lIiwiZ2V0Q29tcG9uZW50IiwiU3ByaXRlIiwic3ByaXRlRnJhbWUiLCJMYWJlbCIsInN0cmluZyIsInMiLCJCYXNlQWQiLCJleHBvcnRzIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLElBQUlBLENBQUo7O0FBQ0EsSUFBSUMsZ0JBQWdCLEdBQUdDLE9BQU8sQ0FBQyxtQkFBRCxDQUE5Qjs7QUFDQSxJQUFJQyxDQUFDLEdBQUksVUFBVUMsQ0FBVixFQUFhO0VBQ2xCLFNBQVNDLENBQVQsR0FBYTtJQUNULElBQUlBLENBQUMsR0FBSSxTQUFTRCxDQUFULElBQWNBLENBQUMsQ0FBQ0UsS0FBRixDQUFRLElBQVIsRUFBY0MsU0FBZCxDQUFmLElBQTRDLElBQXBEO0lBQ0FGLENBQUMsQ0FBQ0csTUFBRixHQUFXLElBQVg7SUFDQUgsQ0FB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LENBQUMsR0FBRyxJQUFJQyxFQUFFLENBQUMrQixXQUFQLENBQW1CeEMsQ0FBbkIsQ0FBUjtjQUNBUSxDQUFDLEdBQ01iLENBQUMsQ0FBQzBCLGNBQUYsQ0FBaUIsU0FBakIsRUFBNEJvQixZQUE1QixDQUF5Q2hDLEVBQUUsQ0FBQ2lDLE1BQTVDLEVBQW9EQyxXQUFwRCxHQUFrRW5DLENBRHhFLEdBRUs4QixPQUFPLENBQUNDLEtBQVIsQ0FBYyxTQUFkLENBRk47WUFHSDtVQUNKO1FBQ0osQ0FoQkw7TUFrQkg7O01BQ0QsSUFBSWhCLENBQUMsR0FBRzVCLENBQUMsQ0FBQzBCLGNBQUYsQ0FBaUIsVUFBakIsQ0FBUjs7TUFDQSxJQUFJWixFQUFFLENBQUNDLE9BQUgsQ0FBV2EsQ0FBWCxLQUFpQnZCLENBQXJCLEVBQXdCO1FBQ3BCdUIsQ0FBQyxDQUFDa0IsWUFBRixDQUFlaEMsRUFBRSxDQUFDbUMsS0FBbEIsRUFBeUJDLE1BQXpCLEdBQWtDN0MsQ0FBbEM7TUFDSDs7TUFDRCxJQUFJOEMsQ0FBQyxHQUFHbkQsQ0FBQyxDQUFDMEIsY0FBRixDQUFpQixTQUFqQixDQUFSOztNQUNBLElBQUlaLEVBQUUsQ0FBQ0MsT0FBSCxDQUFXb0MsQ0FBWCxLQUFpQnRDLENBQXJCLEVBQXdCO1FBQ3BCc0MsQ0FBQyxDQUFDTCxZQUFGLENBQWVoQyxFQUFFLENBQUNtQyxLQUFsQixFQUF5QkMsTUFBekIsR0FBa0M3QyxDQUFsQztNQUNIO0lBQ0o7RUFDSixDQWhDRDs7RUFpQ0EsT0FBT0EsQ0FBUDtBQUNILENBdkVPLENBdUVMSCxPQUFPLENBQUMsVUFBRCxDQUFQLENBQW9Ca0QsTUF2RWYsQ0FBUjs7QUF3RUFDLE9BQU8sV0FBUCxHQUFrQmxELENBQWxCIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgbztcclxudmFyICRhREFzc2V0c01hbmFnZXIgPSByZXF1aXJlKFwiLi9BREFzc2V0c01hbmFnZXJcIik7XHJcbnZhciByID0gKGZ1bmN0aW9uICh0KSB7XHJcbiAgICBmdW5jdGlvbiBlKCkge1xyXG4gICAgICAgIHZhciBlID0gKG51bGwgIT09IHQgJiYgdC5hcHBseSh0aGlzLCBhcmd1bWVudHMpKSB8fCB0aGlzO1xyXG4gICAgICAgIGUuYWROb2RlID0gbnVsbDtcclxuICAgICAgICBlLmFkRGF0YSA9IG51bGw7XHJcbiAgICAgICAgcmV0dXJuIGU7XHJcbiAgICB9XHJcbiAgICBfX2V4dGVuZHMoZSwgdCk7XHJcbiAgICBlLnByb3RvdHlwZS5jcmVhdGVOYXRpdmVBZCA9IGZ1bmN0aW9uICh0LCBlLCBpKSB7XHJcbiAgICAgICAgaWYgKGNjLmlzVmFsaWQodGhpcy5hZE5vZGUpKSB7XHJcbiAgICAgICAgICAgIHRoaXMuYWROb2RlLmRlc3Ryb3koKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5hZE5vZGUgPSAkYURBc3NldHNNYW5hZ2VyLmRlZmF1bHQuaW5zdGFuY2UuY3JlYXRlTm9kZUJ5UHJlbG9hZGluZygkYURBc3NldHNNYW5hZ2VyLmFkQXNzZXRzTWFwLnByZWZhYnNbdF0pO1xyXG4gICAgICAgIHRoaXMuYWROb2RlLnpJbmRleCA9IGNjLm1hY3JvLk1BWF9aSU5ERVg7XHJcbiAgICAgICAgdmFyIG8gPSBjYy5kaXJlY3Rvci5nZXRTY2VuZSgpLmdldENoaWxkQnlOYW1lKFwiQ2FudmFzXCIpO1xyXG4gICAgICAgIHRoaXMuYWROb2RlLnBhcmVudCA9IG87XHJcbiAgICAgICAgdmFyIG4gPSB0aGlzLmFkTm9kZS5nZXRDaGlsZEJ5TmFtZShcImNvbnRlbnRcIik7XHJcbiAgICAgICAgZm9yICh2YXIgciA9IDA7IHIgPCBuLmNoaWxkcmVuLmxlbmd0aDsgcisrKSB7XHJcbiAgICAgICAgICAgIHZhciBhID0gbi5jaGlsZHJlbltyXTtcclxuICAgICAgICAgICAgaWYgKGEubmFtZS5pbmNsdWRlcyhcImJ0bl9jbGlja1wiKSkge1xyXG4gICAgICAgICAgICAgICAgYS5vbihcImNsaWNrXCIsIGUsIHRoaXMpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChhLm5hbWUuaW5jbHVkZXMoXCJidG5fY2xvc2VcIikpIHtcclxuICAgICAgICAgICAgICAgIGEub24oXCJjbGlja1wiLCBpLCB0aGlzKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBlLnByb3RvdHlwZS5kZXN0cm95TmF0aXZlQWROb2RlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGlmIChjYy5pc1ZhbGlkKHRoaXMuYWROb2RlKSkge1xyXG4gICAgICAgICAgICB0aGlzLmFkTm9kZS5kZXN0cm95KCk7XHJcbiAgICAgICAgICAgIHRoaXMuYWROb2RlID0gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgZS5wcm90b3R5cGUuZGVzdHJveUFkID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHRoaXMuZGVzdHJveU5hdGl2ZUFkTm9kZSgpO1xyXG4gICAgICAgIHQucHJvdG90eXBlLmRlc3Ryb3lBZC5jYWxsKHRoaXMpO1xyXG4gICAgfTtcclxuICAgIGUucHJvdG90eXBlLnNldEFkRGF0YSA9IGZ1bmN0aW9uICh0LCBlLCBpKSB7XHJcbiAgICAgICAgaWYgKGNjLmlzVmFsaWQodGhpcy5hZE5vZGUpKSB7XHJcbiAgICAgICAgICAgIHZhciBvID0gdGhpcy5hZE5vZGUuZ2V0Q2hpbGRCeU5hbWUoXCJjb250ZW50XCIpO1xyXG4gICAgICAgICAgICBpZiAodCkge1xyXG4gICAgICAgICAgICAgICAgY2MubG9hZGVyLmxvYWQoXHJcbiAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB1cmw6IHQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFwicG5nXCJcclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uICh0LCBlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiaW1n5Yqg6L295aSx6LSlXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpID0gbmV3IGNjLlNwcml0ZUZyYW1lKGUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyAoby5nZXRDaGlsZEJ5TmFtZShcImFkX2ljb25cIikuZ2V0Q29tcG9uZW50KGNjLlNwcml0ZSkuc3ByaXRlRnJhbWUgPSBpKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IGNvbnNvbGUuZXJyb3IoXCJpbWfliqDovb3lpLHotKVcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHZhciBuID0gby5nZXRDaGlsZEJ5TmFtZShcImFkX3RpdGxlXCIpO1xyXG4gICAgICAgICAgICBpZiAoY2MuaXNWYWxpZChuKSAmJiBlKSB7XHJcbiAgICAgICAgICAgICAgICBuLmdldENvbXBvbmVudChjYy5MYWJlbCkuc3RyaW5nID0gZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB2YXIgcyA9IG8uZ2V0Q2hpbGRCeU5hbWUoXCJhZF9kZXN0XCIpO1xyXG4gICAgICAgICAgICBpZiAoY2MuaXNWYWxpZChzKSAmJiBpKSB7XHJcbiAgICAgICAgICAgICAgICBzLmdldENvbXBvbmVudChjYy5MYWJlbCkuc3RyaW5nID0gZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICByZXR1cm4gZTtcclxufSkocmVxdWlyZShcIi4vQmFzZUFkXCIpLkJhc2VBZCk7XHJcbmV4cG9ydHMuZGVmYXVsdCA9IHI7XHJcbiJdfQ==