{"version":3,"sources":["assets\\game_script\\scripts\\core\\Storage.js"],"names":["KEY","TOKEN","PLAYER","Storage","setToken","t","cc","sys","localStorage","setItem","getToken","getItem","setPlayer","p","JSON","stringify","getPlayer","parse","e","clear","Object","values","forEach","k","removeItem","module","exports"],"mappings":";;;;;;AAAA;AACA,IAAMA,GAAG,GAAG;EACVC,KAAK,EAAE,YADG;EAEVC,MAAM,EAAE;AAFE,CAAZ;AAIA,IAAMC,OAAO,GAAG;EACdC,QADc,oBACLC,CADK,EACH;IAAEC,EAAE,CAACC,GAAH,CAAOC,YAAP,CAAoBC,OAApB,CAA4BT,GAAG,CAACC,KAAhC,EAAuCI,CAAC,IAAI,EAA5C;EAAkD,CADjD;EAEdK,QAFc,sBAEJ;IAAE,OAAOJ,EAAE,CAACC,GAAH,CAAOC,YAAP,CAAoBG,OAApB,CAA4BX,GAAG,CAACC,KAAhC,KAA0C,EAAjD;EAAsD,CAFpD;EAGdW,SAHc,qBAGJC,CAHI,EAGF;IAAEP,EAAE,CAACC,GAAH,CAAOC,YAAP,CAAoBC,OAApB,CAA4BT,GAAG,CAACE,MAAhC,EAAwCY,IAAI,CAACC,SAAL,CAAeF,CAAC,IAAE,EAAlB,CAAxC;EAAiE,CAHjE;EAIdG,SAJc,uBAIH;IAAE,IAAI;MAAE,OAAOF,IAAI,CAACG,KAAL,CAAWX,EAAE,CAACC,GAAH,CAAOC,YAAP,CAAoBG,OAApB,CAA4BX,GAAG,CAACE,MAAhC,KAAyC,IAApD,CAAP;IAAmE,CAAzE,CAA0E,OAAMgB,CAAN,EAAQ;MAAE,OAAO,EAAP;IAAY;EAAE,CAJjG;EAKdC,KALc,mBAKP;IAAEC,MAAM,CAACC,MAAP,CAAcrB,GAAd,EAAmBsB,OAAnB,CAA2B,UAAAC,CAAC;MAAA,OAAEjB,EAAE,CAACC,GAAH,CAAOC,YAAP,CAAoBgB,UAApB,CAA+BD,CAA/B,CAAF;IAAA,CAA5B;EAAmE;AAL9D,CAAhB;AAOAE,MAAM,CAACC,OAAP,GAAiBvB,OAAjB","sourceRoot":"/","sourcesContent":["// assets/scripts/core/Storage.js\nconst KEY = {\n  TOKEN: 'auth_token',\n  PLAYER: 'player_cache',\n};\nconst Storage = {\n  setToken(t){ cc.sys.localStorage.setItem(KEY.TOKEN, t || ''); },\n  getToken(){ return cc.sys.localStorage.getItem(KEY.TOKEN) || ''; },\n  setPlayer(p){ cc.sys.localStorage.setItem(KEY.PLAYER, JSON.stringify(p||{})); },\n  getPlayer(){ try { return JSON.parse(cc.sys.localStorage.getItem(KEY.PLAYER)||'{}'); } catch(e){ return {}; } },\n  clear(){ Object.values(KEY).forEach(k=>cc.sys.localStorage.removeItem(k)); }\n};\nmodule.exports = Storage;\n"]}