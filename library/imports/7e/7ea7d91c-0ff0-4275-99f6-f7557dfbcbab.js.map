{"version":3,"sources":["assets\\game_script\\scripts\\HollowOut.js"],"names":["o","exports","HollowOutShape","require","l","c","u","cc","_decorator","d","ccclass","p","property","f","requireComponent","h","executeInEditMode","m","disallowMultiple","y","executionOrder","Rect","Circle","g","t","e","apply","arguments","_effect","_shape","_center","v2","_width","_height","_round","_radius","_feather","isStartInit","sprite","material","tweenRes","__extends","Object","defineProperty","prototype","get","set","init","enumerable","configurable","updateProperties","onLoad","node","zIndex","resetInEditor","__awaiter","__generator","label","sent","getComponent","Sprite","spriteFrame","getTexture","packable","Material","create","setMaterial","rect","circle","i","n","s","Math","min","r","setProperty","getNodeSize","getCenter","getWidth","getHeight","getRound","getFeather","rectTo","Promise","a","Tween","stopAllByTarget","unscheduleAllCallbacks","tween","to","center","width","height","round","feather","call","scheduleOnce","start","circleTo","radius","reset","setNodeSize","sqrt","pow","getPosition","x","__decorate","type","EffectAsset","readonly","Enum","visible","Component"],"mappings":"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","sourceRoot":"/","sourcesContent":["var o;\r\nexports.HollowOutShape = void 0;\r\nrequire(\"./EditorAsset\");\r\nvar l;\r\nvar c;\r\nvar u = cc._decorator;\r\nvar d = u.ccclass;\r\nvar p = u.property;\r\nvar f = u.requireComponent;\r\nvar h = u.executeInEditMode;\r\nvar m = u.disallowMultiple;\r\nvar y = u.executionOrder;\r\n(c = l = exports.HollowOutShape || (exports.HollowOutShape = {}))[(c.Rect = 1)] = \"Rect\";\r\nc[(c.Circle = 2)] = \"Circle\";\r\nvar g = (function (t) {\r\n    function e() {\r\n        var e = (null !== t && t.apply(this, arguments)) || this;\r\n        e._effect = null;\r\n        e._shape = l.Rect;\r\n        e._center = cc.v2();\r\n        e._width = 300;\r\n        e._height = 300;\r\n        e._round = 1;\r\n        e._radius = 200;\r\n        e._feather = 0.5;\r\n        e.isStartInit = !1;\r\n        e.sprite = null;\r\n        e.material = null;\r\n        e.tweenRes = null;\r\n        return e;\r\n    }\r\n    __extends(e, t);\r\n    Object.defineProperty(e.prototype, \"effect\", {\r\n        get: function () {\r\n            return this._effect;\r\n        },\r\n        set: function (t) {\r\n            this._effect = t;\r\n            this.init();\r\n        },\r\n        enumerable: !1,\r\n        configurable: !0\r\n    });\r\n    Object.defineProperty(e.prototype, \"shape\", {\r\n        get: function () {\r\n            return this._shape;\r\n        },\r\n        set: function (t) {\r\n            this._shape = t;\r\n            this.updateProperties();\r\n        },\r\n        enumerable: !1,\r\n        configurable: !0\r\n    });\r\n    Object.defineProperty(e.prototype, \"center\", {\r\n        get: function () {\r\n            return this._center;\r\n        },\r\n        set: function (t) {\r\n            this._center = t;\r\n            this.updateProperties();\r\n        },\r\n        enumerable: !1,\r\n        configurable: !0\r\n    });\r\n    Object.defineProperty(e.prototype, \"width\", {\r\n        get: function () {\r\n            return this._width;\r\n        },\r\n        set: function (t) {\r\n            this._width = t;\r\n            this.updateProperties();\r\n        },\r\n        enumerable: !1,\r\n        configurable: !0\r\n    });\r\n    Object.defineProperty(e.prototype, \"height\", {\r\n        get: function () {\r\n            return this._height;\r\n        },\r\n        set: function (t) {\r\n            this._height = t;\r\n            this.updateProperties();\r\n        },\r\n        enumerable: !1,\r\n        configurable: !0\r\n    });\r\n    Object.defineProperty(e.prototype, \"round\", {\r\n        get: function () {\r\n            return this._round;\r\n        },\r\n        set: function (t) {\r\n            this._round = t;\r\n            this.updateProperties();\r\n        },\r\n        enumerable: !1,\r\n        configurable: !0\r\n    });\r\n    Object.defineProperty(e.prototype, \"radius\", {\r\n        get: function () {\r\n            return this._radius;\r\n        },\r\n        set: function (t) {\r\n            this._radius = t;\r\n            this.updateProperties();\r\n        },\r\n        enumerable: !1,\r\n        configurable: !0\r\n    });\r\n    Object.defineProperty(e.prototype, \"feather\", {\r\n        get: function () {\r\n            return this._feather;\r\n        },\r\n        set: function (t) {\r\n            this._feather = t;\r\n            this.updateProperties();\r\n        },\r\n        enumerable: !1,\r\n        configurable: !0\r\n    });\r\n    e.prototype.onLoad = function () {\r\n        if (this.isStartInit) {\r\n            this.init();\r\n        }\r\n        this.node.zIndex = 999;\r\n    };\r\n    e.prototype.resetInEditor = function () {\r\n        this.init();\r\n    };\r\n    e.prototype.init = function () {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var t;\r\n            return __generator(this, function (e) {\r\n                switch (e.label) {\r\n                    case 0:\r\n                        return [3, 2];\r\n                    case 1:\r\n                        e.sent();\r\n                        e.label = 2;\r\n                    case 2:\r\n                        return this._effect\r\n                            ? ((t = this.sprite = this.node.getComponent(cc.Sprite)).spriteFrame &&\r\n                                  (t.spriteFrame.getTexture().packable = !1),\r\n                              (this.material = cc.Material.create(this._effect)),\r\n                              t.setMaterial(0, this.material),\r\n                              this.updateProperties(),\r\n                              [2])\r\n                            : [2];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    e.prototype.updateProperties = function () {\r\n        switch (this._shape) {\r\n            case l.Rect:\r\n                this.rect(this._center, this._width, this._height, this._round, this._feather);\r\n                break;\r\n            case l.Circle:\r\n                this.circle(this._center, this._radius, this._feather);\r\n        }\r\n    };\r\n    e.prototype.rect = function (t, e, i, o, n) {\r\n        this._shape = l.Rect;\r\n        if (null != t) {\r\n            this._center = t;\r\n        }\r\n        if (null != e) {\r\n            this._width = e;\r\n        }\r\n        if (null != i) {\r\n            this._height = i;\r\n        }\r\n        if (null != o) {\r\n            this._round = o >= 0 ? o : 0;\r\n            var s = Math.min(this._width / 2, this._height / 2);\r\n            this._round = this._round <= s ? this._round : s;\r\n        }\r\n        if (null != n) {\r\n            this._feather = n >= 0 ? n : 0;\r\n            this._feather = this._feather <= this._round ? this._feather : this._round;\r\n        }\r\n        var r = this.material;\r\n        r.setProperty(\"size\", this.getNodeSize());\r\n        r.setProperty(\"center\", this.getCenter(this._center));\r\n        r.setProperty(\"width\", this.getWidth(this._width));\r\n        r.setProperty(\"height\", this.getHeight(this._height));\r\n        r.setProperty(\"round\", this.getRound(this._round));\r\n        r.setProperty(\"feather\", this.getFeather(this._feather));\r\n    };\r\n    e.prototype.circle = function (t, e, i) {\r\n        this._shape = l.Circle;\r\n        if (null != t) {\r\n            this._center = t;\r\n        }\r\n        if (null != e) {\r\n            this._radius = e;\r\n        }\r\n        if (null != i) {\r\n            this._feather = i >= 0 ? i : 0;\r\n        }\r\n        var o = this.material;\r\n        o.setProperty(\"size\", this.getNodeSize());\r\n        o.setProperty(\"center\", this.getCenter(this._center));\r\n        o.setProperty(\"width\", this.getWidth(2 * this._radius));\r\n        o.setProperty(\"height\", this.getHeight(2 * this._radius));\r\n        o.setProperty(\"round\", this.getRound(this._radius));\r\n        o.setProperty(\"feather\", this.getFeather(this._feather));\r\n    };\r\n    e.prototype.rectTo = function (t, e, i, o, n, s) {\r\n        var r = this;\r\n        if (void 0 === n) {\r\n            n = 0;\r\n        }\r\n        if (void 0 === s) {\r\n            s = 0;\r\n        }\r\n        return new Promise(function (a) {\r\n            r._shape = l.Rect;\r\n            cc.Tween.stopAllByTarget(r);\r\n            r.unscheduleAllCallbacks();\r\n            if (r.tweenRes) {\r\n                r.tweenRes();\r\n            }\r\n            r.tweenRes = a;\r\n            n = Math.min(n, i / 2, o / 2);\r\n            s = Math.min(s, n);\r\n            cc.tween(r)\r\n                .to(t, {\r\n                    center: e,\r\n                    width: i,\r\n                    height: o,\r\n                    round: n,\r\n                    feather: s\r\n                })\r\n                .call(function () {\r\n                    r.scheduleOnce(function () {\r\n                        if (r.tweenRes) {\r\n                            r.tweenRes();\r\n                            r.tweenRes = null;\r\n                        }\r\n                    });\r\n                })\r\n                .start();\r\n        });\r\n    };\r\n    e.prototype.circleTo = function (t, e, i, o) {\r\n        var n = this;\r\n        if (void 0 === o) {\r\n            o = 0;\r\n        }\r\n        return new Promise(function (s) {\r\n            n._shape = l.Circle;\r\n            cc.Tween.stopAllByTarget(n);\r\n            n.unscheduleAllCallbacks();\r\n            if (n.tweenRes) {\r\n                n.tweenRes();\r\n            }\r\n            n.tweenRes = s;\r\n            cc.tween(n)\r\n                .to(t, {\r\n                    center: e,\r\n                    radius: i,\r\n                    feather: o\r\n                })\r\n                .call(function () {\r\n                    n.scheduleOnce(function () {\r\n                        if (n.tweenRes) {\r\n                            n.tweenRes();\r\n                            n.tweenRes = null;\r\n                        }\r\n                    });\r\n                })\r\n                .start();\r\n        });\r\n    };\r\n    e.prototype.reset = function () {\r\n        this.rect(cc.v2(), 0, 0, 0, 0);\r\n    };\r\n    e.prototype.setNodeSize = function () {\r\n        var t = this.node;\r\n        var e = t.width;\r\n        var i = t.height;\r\n        this._radius = Math.sqrt(Math.pow(e, 2) + Math.pow(i, 2)) / 2;\r\n        this.rect(t.getPosition(), e, i, 0, 0);\r\n    };\r\n    e.prototype.getCenter = function (t) {\r\n        var e = this.node;\r\n        var i = e.width;\r\n        var o = e.height;\r\n        var n = (t.x + i / 2) / i;\r\n        var s = (-t.y + o / 2) / o;\r\n        return cc.v2(n, s);\r\n    };\r\n    e.prototype.getNodeSize = function () {\r\n        return cc.v2(this.node.width, this.node.height);\r\n    };\r\n    e.prototype.getWidth = function (t) {\r\n        return t / this.node.width;\r\n    };\r\n    e.prototype.getHeight = function (t) {\r\n        return t / this.node.width;\r\n    };\r\n    e.prototype.getRound = function (t) {\r\n        return t / this.node.width;\r\n    };\r\n    e.prototype.getFeather = function (t) {\r\n        return t / this.node.width;\r\n    };\r\n    __decorate([p], e.prototype, \"_effect\", void 0);\r\n    __decorate(\r\n        [\r\n            p({\r\n                type: cc.EffectAsset,\r\n                readonly: !0\r\n            })\r\n        ],\r\n        e.prototype,\r\n        \"effect\",\r\n        null\r\n    );\r\n    __decorate([p], e.prototype, \"_shape\", void 0);\r\n    __decorate(\r\n        [\r\n            p({\r\n                type: cc.Enum(l)\r\n            })\r\n        ],\r\n        e.prototype,\r\n        \"shape\",\r\n        null\r\n    );\r\n    __decorate([p], e.prototype, \"_center\", void 0);\r\n    __decorate([p({})], e.prototype, \"center\", null);\r\n    __decorate([p], e.prototype, \"_width\", void 0);\r\n    __decorate(\r\n        [\r\n            p({\r\n                visible: function () {\r\n                    return this._shape === l.Rect;\r\n                }\r\n            })\r\n        ],\r\n        e.prototype,\r\n        \"width\",\r\n        null\r\n    );\r\n    __decorate([p], e.prototype, \"_height\", void 0);\r\n    __decorate(\r\n        [\r\n            p({\r\n                visible: function () {\r\n                    return this._shape === l.Rect;\r\n                }\r\n            })\r\n        ],\r\n        e.prototype,\r\n        \"height\",\r\n        null\r\n    );\r\n    __decorate([p], e.prototype, \"_round\", void 0);\r\n    __decorate(\r\n        [\r\n            p({\r\n                visible: function () {\r\n                    return this._shape === l.Rect;\r\n                }\r\n            })\r\n        ],\r\n        e.prototype,\r\n        \"round\",\r\n        null\r\n    );\r\n    __decorate([p], e.prototype, \"_radius\", void 0);\r\n    __decorate(\r\n        [\r\n            p({\r\n                visible: function () {\r\n                    return this._shape === l.Circle;\r\n                }\r\n            })\r\n        ],\r\n        e.prototype,\r\n        \"radius\",\r\n        null\r\n    );\r\n    __decorate([p], e.prototype, \"_feather\", void 0);\r\n    __decorate(\r\n        [\r\n            p({\r\n                visible: function () {\r\n                    return this._shape === l.Circle || this.round > 0;\r\n                }\r\n            })\r\n        ],\r\n        e.prototype,\r\n        \"feather\",\r\n        null\r\n    );\r\n    __decorate([p], e.prototype, \"isStartInit\", void 0);\r\n    return __decorate([d, f(cc.Sprite), h, m, y(-20)], e);\r\n})(cc.Component);\r\nexports.default = g;\r\n"]}