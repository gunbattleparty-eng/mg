{"version":3,"sources":["assets\\game_script\\scripts\\GameUI.js"],"names":["o","$assetsLoader","require","$assetsMap","$resUtil","$eventManager","$battleContext","$configContext","$localEventName","$gameContext","$gameSkillInfo","m","cc","_decorator","y","ccclass","g","property","_","size","k","t","e","apply","arguments","progressBar","progressLable","gradeLable","braAnims","completedNode","cdLayer","levelLabel","showRangeLayer","currLevel","upgradeAniming","currIndex","cdRecord","Map","graphics","__extends","prototype","start","getComponent","Graphics","string","Ins","set","on","ADD_SKILL_CD","renderSkillInfo","RENDER_SKILL_CD_INFO","renderSkillCDInfo","children","length","Node","EventType","TOUCH_START","touchCD","TOUCH_END","endCD","onDestroy","off","indexOf","target","i","forEach","height","ins","skillInfo","getSkillById","skillAtkRange","Skill4Param","FINAL","clear","circle","stroke","fill","active","setContentSize","has","skillParam","get","n","Label","bulletCount","Sprite","fillRange","renderSkillCount","addSkillInfo","getChooseParendCount","toString","instance","skillConfigsMap","loadRes","BundleNames","Public_Res","icon","SpriteFrame","isValid","spriteFrame","ResUtil","assignWith","node","update","currPlayerLevel","Animation","play","once","FINISHED","currExp","needExp","width","__decorate","Component","exports"],"mappings":"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","sourceRoot":"/","sourcesContent":["var o;\r\nvar $assetsLoader = require(\"./AssetsLoader\");\r\nvar $assetsMap = require(\"./AssetsMap\");\r\nvar $resUtil = require(\"./ResUtil\");\r\nvar $eventManager = require(\"./EventManager\");\r\nvar $battleContext = require(\"./BattleContext\");\r\nvar $configContext = require(\"./ConfigContext\");\r\nvar $localEventName = require(\"./LocalEventName\");\r\nvar $gameContext = require(\"./GameContext\");\r\nvar $gameSkillInfo = require(\"./GameSkillInfo\");\r\nvar m = cc._decorator;\r\nvar y = m.ccclass;\r\nvar g = m.property;\r\nvar _ = cc.size(0, 0);\r\nvar k = (function (t) {\r\n    function e() {\r\n        var e = (null !== t && t.apply(this, arguments)) || this;\r\n        e.progressBar = null;\r\n        e.progressLable = null;\r\n        e.gradeLable = null;\r\n        e.braAnims = null;\r\n        e.completedNode = null;\r\n        e.cdLayer = null;\r\n        e.levelLabel = null;\r\n        e.showRangeLayer = null;\r\n        e.currLevel = 1;\r\n        e.upgradeAniming = !1;\r\n        e.currIndex = 1;\r\n        e.cdRecord = new Map();\r\n        e.graphics = null;\r\n        return e;\r\n    }\r\n    __extends(e, t);\r\n    e.prototype.start = function () {\r\n        this.graphics = this.showRangeLayer.getComponent(cc.Graphics);\r\n        this.levelLabel.string = \"第\" + $battleContext.default.Ins.currLevel + \"关\";\r\n        this.cdRecord.set(1, 0);\r\n        $eventManager.default.on($localEventName.default.ADD_SKILL_CD, this.renderSkillInfo, this);\r\n        $eventManager.default.on($localEventName.default.RENDER_SKILL_CD_INFO, this.renderSkillCDInfo, this);\r\n        for (var t = 0; t < this.cdLayer.children.length; t++) {\r\n            this.cdLayer.children[t].on(cc.Node.EventType.TOUCH_START, this.touchCD, this);\r\n            this.cdLayer.children[t].on(cc.Node.EventType.TOUCH_END, this.endCD, this);\r\n        }\r\n    };\r\n    e.prototype.onDestroy = function () {\r\n        $eventManager.default.off($localEventName.default.ADD_SKILL_CD, this.renderSkillInfo, this);\r\n        $eventManager.default.off($localEventName.default.RENDER_SKILL_CD_INFO, this.renderSkillCDInfo, this);\r\n    };\r\n    e.prototype.touchCD = function (t) {\r\n        var e = this.cdLayer.children.indexOf(t.target);\r\n        var i = -1;\r\n        this.cdRecord.forEach(function (t, o) {\r\n            if (t === e) {\r\n                i = o;\r\n            }\r\n        });\r\n        if (-1 !== i) {\r\n            _.height =\r\n                $gameContext.default.ins.skillInfo.getSkillById(i).skillAtkRange[$gameSkillInfo.Skill4Param.FINAL];\r\n            this.graphics.clear();\r\n            this.graphics.circle(0, 0, _.height);\r\n            this.graphics.stroke();\r\n            this.graphics.fill();\r\n            this.showRangeLayer.active = !0;\r\n            this.showRangeLayer.setContentSize(_);\r\n        }\r\n    };\r\n    e.prototype.endCD = function () {\r\n        this.showRangeLayer.active = !1;\r\n    };\r\n    e.prototype.renderSkillCDInfo = function (t, e, i) {\r\n        if (this.cdRecord.has(t)) {\r\n            if (!this.skillParam) {\r\n                this.skillParam = $gameContext.default.ins.skillInfo.getSkillById(1);\r\n            }\r\n            var o = this.cdRecord.get(t);\r\n            var n = this.cdLayer.children[o];\r\n            1 === t\r\n                ? (-1 !== i && (n.children[2].getComponent(cc.Label).string = i + \"/\" + this.skillParam.bulletCount),\r\n                  -1 !== e && (n.children[3].getComponent(cc.Sprite).fillRange = e))\r\n                : (n.children[2].getComponent(cc.Sprite).fillRange = e);\r\n        }\r\n    };\r\n    e.prototype.renderSkillInfo = function (t) {\r\n        this.cdRecord.has(t) ? this.renderSkillCount(t) : this.addSkillInfo(t);\r\n    };\r\n    e.prototype.renderSkillCount = function (t) {\r\n        var e = $gameContext.default.ins.skillInfo.getChooseParendCount(t);\r\n        var i = this.cdRecord.get(t);\r\n        this.cdLayer.children[i].children[1].getComponent(cc.Label).string = e.toString();\r\n    };\r\n    e.prototype.addSkillInfo = function (t) {\r\n        var e = this;\r\n        if (!(1 === t || this.cdRecord.size > 5 || this.currIndex >= this.cdLayer.children.length)) {\r\n            var i = $configContext.default.instance.skillConfigsMap.get(t);\r\n            var o = this.cdLayer.children[this.currIndex];\r\n            var n = o.children[0].getComponent(cc.Sprite);\r\n            $assetsLoader.default.instance.loadRes(\r\n                $assetsMap.BundleNames.Public_Res,\r\n                [\"/cd_icon/\" + i.icon],\r\n                cc.SpriteFrame,\r\n                null,\r\n                function (t, i) {\r\n                    var o = i[0];\r\n                    if (o && cc.isValid(n)) {\r\n                        n.spriteFrame = $resUtil.ResUtil.assignWith(o, e.node);\r\n                    }\r\n                }\r\n            );\r\n            o.children[1].getComponent(cc.Label).string = \"1\";\r\n            this.cdRecord.set(t, this.currIndex);\r\n            this.currIndex++;\r\n        }\r\n    };\r\n    e.prototype.update = function () {\r\n        var t = this;\r\n        if (!this.upgradeAniming) {\r\n            if (this.currLevel !== $gameContext.default.ins.currPlayerLevel) {\r\n                this.upgradeAniming = !0;\r\n                this.currLevel = $gameContext.default.ins.currPlayerLevel;\r\n                this.gradeLable.string = this.currLevel.toString();\r\n                this.progressBar.fillRange = 1;\r\n                var e = this.completedNode.getComponent(cc.Animation);\r\n                e.node.active = !0;\r\n                e.play(\"exp_anim\");\r\n                return void e.once(\r\n                    cc.Animation.EventType.FINISHED,\r\n                    function () {\r\n                        e.node.active = !1;\r\n                        t.upgradeAniming = !1;\r\n                    },\r\n                    this\r\n                );\r\n            }\r\n            var i = $gameContext.default.ins.currExp / $gameContext.default.ins.needExp();\r\n            this.progressBar.fillRange = i;\r\n            this.progressLable.string = $gameContext.default.ins.currExp + \" /\" + $gameContext.default.ins.needExp();\r\n            _.width = 364 * i;\r\n            this.braAnims.setContentSize(_);\r\n        }\r\n    };\r\n    __decorate([g(cc.Sprite)], e.prototype, \"progressBar\", void 0);\r\n    __decorate([g(cc.Label)], e.prototype, \"progressLable\", void 0);\r\n    __decorate([g(cc.Label)], e.prototype, \"gradeLable\", void 0);\r\n    __decorate([g(cc.Node)], e.prototype, \"braAnims\", void 0);\r\n    __decorate([g(cc.Node)], e.prototype, \"completedNode\", void 0);\r\n    __decorate([g(cc.Node)], e.prototype, \"cdLayer\", void 0);\r\n    __decorate([g(cc.Label)], e.prototype, \"levelLabel\", void 0);\r\n    __decorate([g(cc.Node)], e.prototype, \"showRangeLayer\", void 0);\r\n    return __decorate([y], e);\r\n})(cc.Component);\r\nexports.default = k;\r\n"]}