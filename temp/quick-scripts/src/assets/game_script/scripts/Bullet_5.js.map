{"version":3,"sources":["assets\\game_script\\scripts\\Bullet_5.js"],"names":["o","$object","require","$remoteAudio","$gameSkillInfo","$enemyStatus","$baseBullet","d","cc","_decorator","p","ccclass","f","property","t","e","apply","arguments","buttleType","BulletType","thermobaric_boom","skillSpecialitys","BulletSpeciality","boom","fire","__extends","prototype","initButtle","i","call","skillParam","thermobaricBoomRange","setScale","v3","atk","thermobaricBoomAtk","Skill4Param","FINAL","setAnimation","node","children","getComponent","Animation","instance","playEffectMusicRestrict","play","once","EventType","FINISHED","removeSelf","onTrigger","isUse","Trigger","enter","object","sufferAtk","id","skillId","thermobaricFireTime","type","EnemyDebuffType","BURN","timeLeft","value","thermobaricFireAtk","sufferDebuff","thermobaricKnockBack","n","BACK","updateFrame","__decorate","exports"],"mappings":";;;;;;AAAA,IAAIA,CAAJ;;AACA,IAAIC,OAAO,GAAGC,OAAO,CAAC,UAAD,CAArB;;AACA,IAAIC,YAAY,GAAGD,OAAO,CAAC,eAAD,CAA1B;;AACA,IAAIE,cAAc,GAAGF,OAAO,CAAC,iBAAD,CAA5B;;AACA,IAAIG,YAAY,GAAGH,OAAO,CAAC,eAAD,CAA1B;;AACA,IAAII,WAAW,GAAGJ,OAAO,CAAC,cAAD,CAAzB;;AACA,IAAIK,CAAC,GAAGC,EAAE,CAACC,UAAX;AACA,IAAIC,CAAC,GAAGH,CAAC,CAACI,OAAV;AACA,IAAIC,CAAC,IACAL,CAAC,CAACM,QAAF,EACA,UAAUC,CAAV,EAAa;EACV,SAASC,CAAT,GAAa;IACT,IAAIA,CAAC,GAAI,SAASD,CAAT,IAAcA,CAAC,CAACE,KAAF,CAAQ,IAAR,EAAcC,SAAd,CAAf,IAA4C,IAApD;IACAF,CAAC,CAACG,UAAF,GAAeZ,WAAW,CAACa,UAAZ,CAAuBC,gBAAtC;IACAL,CAAC,CAACM,gBAAF,GAAqB,CAACf,WAAW,CAACgB,gBAAZ,CAA6BC,IAA9B,EAAoCjB,WAAW,CAACgB,gBAAZ,CAA6BE,IAAjE,CAArB;IACA,OAAOT,CAAP;EACH;;EACDU,SAAS,CAACV,CAAD,EAAID,CAAJ,CAAT;;EACAC,CAAC,CAACW,SAAF,CAAYC,UAAZ,GAAyB,UAAUZ,CAAV,EAAaa,CAAb,EAAgB;IACrCd,CAAC,CAACY,SAAF,CAAYC,UAAZ,CAAuBE,IAAvB,CAA4B,IAA5B,EAAkCd,CAAlC,EAAqCa,CAArC;IACA,IAAI5B,CAAC,GAAG,KAAK8B,UAAL,CAAgBC,oBAAxB;IACA,KAAKC,QAAL,CAAcxB,EAAE,CAACyB,EAAH,CAAMjC,CAAN,EAASA,CAAT,CAAd;IACA,KAAKkC,GAAL,GAAW,KAAKJ,UAAL,CAAgBK,kBAAhB,CAAmC/B,cAAc,CAACgC,WAAf,CAA2BC,KAA9D,CAAX;EACH,CALD;;EAMAtB,CAAC,CAACW,SAAF,CAAYY,YAAZ,GAA2B,YAAY;IACnC,IAAIxB,CAAC,GAAG,IAAR;IACA,IAAIC,CAAC,GAAG,KAAKwB,IAAL,CAAUC,QAAV,CAAmB,CAAnB,EAAsBC,YAAtB,CAAmCjC,EAAE,CAACkC,SAAtC,CAAR;IACAvC,YAAY,WAAZ,CAAqBwC,QAArB,CAA8BC,uBAA9B,CAAsD,MAAtD,EAA8D,GAA9D;IACA7B,CAAC,CAAC8B,IAAF,CAAO,UAAP;IACA9B,CAAC,CAAC+B,IAAF,CACItC,EAAE,CAACkC,SAAH,CAAaK,SAAb,CAAuBC,QAD3B,EAEI,YAAY;MACRlC,CAAC,CAACmC,UAAF;IACH,CAJL,EAKI,IALJ;EAOH,CAZD;;EAaAlC,CAAC,CAACW,SAAF,CAAYwB,SAAZ,GAAwB,UAAUpC,CAAV,EAAaC,CAAb,EAAgB;IACpC,IAAI,CAAC,KAAKoC,KAAN,IAAepC,CAAC,IAAId,OAAO,CAACmD,OAAR,CAAgBC,KAAxC,EAA+C;MAC3C,IAAIzB,CAAC,GAAGd,CAAC,CAACwC,MAAV;MACA1B,CAAC,CAAC2B,SAAF,CAAY;QACRC,EAAE,EAAE,KAAKC,OADD;QAERpC,gBAAgB,EAAE,KAAKA,gBAFf;QAGRa,GAAG,EAAE,KAAKA;MAHF,CAAZ;;MAKA,IAAI,MAAM,KAAKJ,UAAL,CAAgB4B,mBAA1B,EAA+C;QAC3C,IAAI1D,CAAC,GAAG;UACJ2D,IAAI,EAAEtD,YAAY,CAACuD,eAAb,CAA6BC,IAD/B;UAEJC,QAAQ,EAAE,KAAKhC,UAAL,CAAgB4B,mBAFtB;UAGJK,KAAK,EAAE,KAAKjC,UAAL,CAAgBkC,kBAAhB,CAAmC5D,cAAc,CAACgC,WAAf,CAA2BC,KAA9D;QAHH,CAAR;QAKAT,CAAC,CAACqC,YAAF,CAAejE,CAAf;MACH;;MACD,IAAI,KAAK8B,UAAL,CAAgBoC,oBAAhB,CAAqC9D,cAAc,CAACgC,WAAf,CAA2BC,KAAhE,IAAyE,CAA7E,EAAgF;QAC5E,IAAI8B,CAAC,GAAG;UACJR,IAAI,EAAEtD,YAAY,CAACuD,eAAb,CAA6BQ,IAD/B;UAEJN,QAAQ,EAAE,CAAC,CAFP;UAGJC,KAAK,EAAE,KAAKjC,UAAL,CAAgBoC,oBAAhB,CAAqC9D,cAAc,CAACgC,WAAf,CAA2BC,KAAhE;QAHH,CAAR;QAKAT,CAAC,CAACqC,YAAF,CAAeE,CAAf;MACH;IACJ;EACJ,CAzBD;;EA0BApD,CAAC,CAACW,SAAF,CAAY2C,WAAZ,GAA0B,YAAY,CAAE,CAAxC;;EACA,OAAOC,UAAU,CAAC,CAAC5D,CAAD,CAAD,EAAMK,CAAN,CAAjB;AACH,CAvDD,CAuDGT,WAAW,WAvDd,CAFC,CAAL;AA0DAiE,OAAO,WAAP,GAAkB3D,CAAlB","sourceRoot":"/","sourcesContent":["var o;\r\nvar $object = require(\"./Object\");\r\nvar $remoteAudio = require(\"./RemoteAudio\");\r\nvar $gameSkillInfo = require(\"./GameSkillInfo\");\r\nvar $enemyStatus = require(\"./EnemyStatus\");\r\nvar $baseBullet = require(\"./BaseBullet\");\r\nvar d = cc._decorator;\r\nvar p = d.ccclass;\r\nvar f =\r\n    (d.property,\r\n    (function (t) {\r\n        function e() {\r\n            var e = (null !== t && t.apply(this, arguments)) || this;\r\n            e.buttleType = $baseBullet.BulletType.thermobaric_boom;\r\n            e.skillSpecialitys = [$baseBullet.BulletSpeciality.boom, $baseBullet.BulletSpeciality.fire];\r\n            return e;\r\n        }\r\n        __extends(e, t);\r\n        e.prototype.initButtle = function (e, i) {\r\n            t.prototype.initButtle.call(this, e, i);\r\n            var o = this.skillParam.thermobaricBoomRange;\r\n            this.setScale(cc.v3(o, o));\r\n            this.atk = this.skillParam.thermobaricBoomAtk[$gameSkillInfo.Skill4Param.FINAL];\r\n        };\r\n        e.prototype.setAnimation = function () {\r\n            var t = this;\r\n            var e = this.node.children[0].getComponent(cc.Animation);\r\n            $remoteAudio.default.instance.playEffectMusicRestrict(\"boom\", 0.3);\r\n            e.play(\"buttle_5\");\r\n            e.once(\r\n                cc.Animation.EventType.FINISHED,\r\n                function () {\r\n                    t.removeSelf();\r\n                },\r\n                this\r\n            );\r\n        };\r\n        e.prototype.onTrigger = function (t, e) {\r\n            if (!this.isUse && e == $object.Trigger.enter) {\r\n                var i = t.object;\r\n                i.sufferAtk({\r\n                    id: this.skillId,\r\n                    skillSpecialitys: this.skillSpecialitys,\r\n                    atk: this.atk\r\n                });\r\n                if (0 !== this.skillParam.thermobaricFireTime) {\r\n                    var o = {\r\n                        type: $enemyStatus.EnemyDebuffType.BURN,\r\n                        timeLeft: this.skillParam.thermobaricFireTime,\r\n                        value: this.skillParam.thermobaricFireAtk[$gameSkillInfo.Skill4Param.FINAL]\r\n                    };\r\n                    i.sufferDebuff(o);\r\n                }\r\n                if (this.skillParam.thermobaricKnockBack[$gameSkillInfo.Skill4Param.FINAL] > 0) {\r\n                    var n = {\r\n                        type: $enemyStatus.EnemyDebuffType.BACK,\r\n                        timeLeft: -1,\r\n                        value: this.skillParam.thermobaricKnockBack[$gameSkillInfo.Skill4Param.FINAL]\r\n                    };\r\n                    i.sufferDebuff(n);\r\n                }\r\n            }\r\n        };\r\n        e.prototype.updateFrame = function () {};\r\n        return __decorate([p], e);\r\n    })($baseBullet.default));\r\nexports.default = f;\r\n"]}