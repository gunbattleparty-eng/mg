{"version":3,"sources":["assets\\game_script\\scripts\\RBullet_5_2.js"],"names":["o","$object","require","$assetsLoader","$assetsMap","$resUtil","$gameContext","$gameSkillInfo","$baseBullet","f","cc","_decorator","h","ccclass","m","property","t","e","apply","arguments","buttleType","BulletType","r_bullet_5_2","__extends","prototype","initButtle","speed","ins","skillInfo","robotParam","call","atk","Math","ceil","skillParam","skillAtk","Skill4Param","FINAL","velocity","set","multiplyScalar","onTrigger","isUse","Trigger","enter","i","object","sufferAtk","skillSpecialitys","createMatrix","getPosition","removeSelf","getButtlePool","r_bullet_5_3","instance","getRes","BundleNames","Game","AssetsMap","GameBundles","prefabs","assetsList","RBullet_5_3","ResUtil","instantiate","floorLayer","parent","getComponent","setPosition","add","v3","insert","__decorate","exports"],"mappings":";;;;;;AAAA,IAAIA,CAAJ;;AACA,IAAIC,OAAO,GAAGC,OAAO,CAAC,UAAD,CAArB;;AACA,IAAIC,aAAa,GAAGD,OAAO,CAAC,gBAAD,CAA3B;;AACA,IAAIE,UAAU,GAAGF,OAAO,CAAC,aAAD,CAAxB;;AACA,IAAIG,QAAQ,GAAGH,OAAO,CAAC,WAAD,CAAtB;;AACA,IAAII,YAAY,GAAGJ,OAAO,CAAC,eAAD,CAA1B;;AACA,IAAIK,cAAc,GAAGL,OAAO,CAAC,iBAAD,CAA5B;;AACA,IAAIM,WAAW,GAAGN,OAAO,CAAC,cAAD,CAAzB;;AACA,IAAIO,CAAC,GAAGC,EAAE,CAACC,UAAX;AACA,IAAIC,CAAC,GAAGH,CAAC,CAACI,OAAV;AACA,IAAIC,CAAC,IACAL,CAAC,CAACM,QAAF,EACA,UAAUC,CAAV,EAAa;EACV,SAASC,CAAT,GAAa;IACT,IAAIA,CAAC,GAAI,SAASD,CAAT,IAAcA,CAAC,CAACE,KAAF,CAAQ,IAAR,EAAcC,SAAd,CAAf,IAA4C,IAApD;IACAF,CAAC,CAACG,UAAF,GAAeZ,WAAW,CAACa,UAAZ,CAAuBC,YAAtC;IACA,OAAOL,CAAP;EACH;;EACDM,SAAS,CAACN,CAAD,EAAID,CAAJ,CAAT;;EACAC,CAAC,CAACO,SAAF,CAAYC,UAAZ,GAAyB,UAAUR,CAAV,EAAa;IAClC,KAAKS,KAAL,GAAapB,YAAY,WAAZ,CAAqBqB,GAArB,CAAyBC,SAAzB,CAAmCC,UAAnC,CAA8C,CAA9C,CAAb;IACAb,CAAC,CAACQ,SAAF,CAAYC,UAAZ,CAAuBK,IAAvB,CAA4B,IAA5B,EAAkCb,CAAlC,EAAqC,IAArC;IACA,KAAKc,GAAL,GAAWC,IAAI,CAACC,IAAL,CACP3B,YAAY,WAAZ,CAAqBqB,GAArB,CAAyBC,SAAzB,CAAmCC,UAAnC,CAA8C,CAA9C,IACI,KAAKK,UAAL,CAAgBC,QAAhB,CAAyB5B,cAAc,CAAC6B,WAAf,CAA2BC,KAApD,CAFG,CAAX;;IAIA,IAAIpB,CAAJ,EAAO;MACH,KAAKqB,QAAL,CAAcC,GAAd,CAAkBtB,CAAlB,EAAqBuB,cAArB,CAAoC,KAAKd,KAAzC;IACH;EACJ,CAVD;;EAWAT,CAAC,CAACO,SAAF,CAAYiB,SAAZ,GAAwB,UAAUzB,CAAV,EAAaC,CAAb,EAAgB;IACpC,IAAI,CAAC,KAAKyB,KAAN,IAAezB,CAAC,IAAIhB,OAAO,CAAC0C,OAAR,CAAgBC,KAAxC,EAA+C;MAC3C,IAAIC,CAAC,GAAG7B,CAAC,CAAC8B,MAAV;MACAD,CAAC,CAACE,SAAF,CAAY;QACRC,gBAAgB,EAAE,EADV;QAERjB,GAAG,EAAE,KAAKA;MAFF,CAAZ;MAIA,KAAKkB,YAAL,CAAkBJ,CAAC,CAACK,WAAF,EAAlB;MACA,OAAO,KAAKC,UAAL,EAAP;IACH;EACJ,CAVD;;EAWAlC,CAAC,CAACO,SAAF,CAAYyB,YAAZ,GAA2B,UAAUjC,CAAV,EAAa;IACpC,IAAIC,CAAC,GAAGX,YAAY,WAAZ,CAAqBqB,GAArB,CAAyByB,aAAzB,CAAuC5C,WAAW,CAACa,UAAZ,CAAuBgC,YAA9D,CAAR;;IACA,IAAI,CAACpC,CAAL,EAAQ;MACJ,IAAI4B,CAAC,GAAG1C,aAAa,WAAb,CAAsBmD,QAAtB,CAA+BC,MAA/B,CACJnD,UAAU,CAACoD,WAAX,CAAuBC,IADnB,EAEJrD,UAAU,CAACsD,SAAX,CAAqBC,WAArB,CAAiCC,OAAjC,CAAyCC,UAAzC,CAAoDC,WAFhD,CAAR;MAIA7C,CAAC,GAAGZ,QAAQ,CAAC0D,OAAT,CAAiBC,WAAjB,CAA6BnB,CAA7B,EAAgCvC,YAAY,WAAZ,CAAqBqB,GAArB,CAAyBsC,UAAzB,CAAoCC,MAApE,EAA4EC,YAA5E,CACA3D,WAAW,WADX,CAAJ;IAGH;;IACDS,CAAC,CAACmD,WAAF,CAAcpD,CAAC,CAACqD,GAAF,CAAM3D,EAAE,CAAC4D,EAAH,CAAM,CAAN,EAAS,CAAC,EAAV,CAAN,CAAd;IACArD,CAAC,CAACQ,UAAF,CAAa,IAAb,EAAmB,IAAnB;IACAR,CAAC,CAACsD,MAAF,CAASjE,YAAY,WAAZ,CAAqBqB,GAArB,CAAyBsC,UAAlC;EACH,CAdD;;EAeA,OAAOO,UAAU,CAAC,CAAC5D,CAAD,CAAD,EAAMK,CAAN,CAAjB;AACH,CA7CD,CA6CGT,WAAW,WA7Cd,CAFC,CAAL;AAgDAiE,OAAO,WAAP,GAAkB3D,CAAlB","sourceRoot":"/","sourcesContent":["var o;\r\nvar $object = require(\"./Object\");\r\nvar $assetsLoader = require(\"./AssetsLoader\");\r\nvar $assetsMap = require(\"./AssetsMap\");\r\nvar $resUtil = require(\"./ResUtil\");\r\nvar $gameContext = require(\"./GameContext\");\r\nvar $gameSkillInfo = require(\"./GameSkillInfo\");\r\nvar $baseBullet = require(\"./BaseBullet\");\r\nvar f = cc._decorator;\r\nvar h = f.ccclass;\r\nvar m =\r\n    (f.property,\r\n    (function (t) {\r\n        function e() {\r\n            var e = (null !== t && t.apply(this, arguments)) || this;\r\n            e.buttleType = $baseBullet.BulletType.r_bullet_5_2;\r\n            return e;\r\n        }\r\n        __extends(e, t);\r\n        e.prototype.initButtle = function (e) {\r\n            this.speed = $gameContext.default.ins.skillInfo.robotParam[3];\r\n            t.prototype.initButtle.call(this, e, null);\r\n            this.atk = Math.ceil(\r\n                $gameContext.default.ins.skillInfo.robotParam[0] *\r\n                    this.skillParam.skillAtk[$gameSkillInfo.Skill4Param.FINAL]\r\n            );\r\n            if (e) {\r\n                this.velocity.set(e).multiplyScalar(this.speed);\r\n            }\r\n        };\r\n        e.prototype.onTrigger = function (t, e) {\r\n            if (!this.isUse && e == $object.Trigger.enter) {\r\n                var i = t.object;\r\n                i.sufferAtk({\r\n                    skillSpecialitys: [],\r\n                    atk: this.atk\r\n                });\r\n                this.createMatrix(i.getPosition());\r\n                return this.removeSelf();\r\n            }\r\n        };\r\n        e.prototype.createMatrix = function (t) {\r\n            var e = $gameContext.default.ins.getButtlePool($baseBullet.BulletType.r_bullet_5_3);\r\n            if (!e) {\r\n                var i = $assetsLoader.default.instance.getRes(\r\n                    $assetsMap.BundleNames.Game,\r\n                    $assetsMap.AssetsMap.GameBundles.prefabs.assetsList.RBullet_5_3\r\n                );\r\n                e = $resUtil.ResUtil.instantiate(i, $gameContext.default.ins.floorLayer.parent).getComponent(\r\n                    $baseBullet.default\r\n                );\r\n            }\r\n            e.setPosition(t.add(cc.v3(0, -50)));\r\n            e.initButtle(null, null);\r\n            e.insert($gameContext.default.ins.floorLayer);\r\n        };\r\n        return __decorate([h], e);\r\n    })($baseBullet.default));\r\nexports.default = m;\r\n"]}