
                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/game_script/scripts/TaskListItem.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'affeaTf8LlMAp38H4kUAx80', 'TaskListItem');
// game_script/scripts/TaskListItem.js

"use strict";

var o;

var $assetsLoader = require("./AssetsLoader");

var $assetsMap = require("./AssetsMap");

var $resUtil = require("./ResUtil");

var $eventManager = require("./EventManager");

var $popupManager = require("./PopupManager");

var $remoteAudio = require("./RemoteAudio");

var $seedUtil = require("./SeedUtil");

var $util = require("./Util");

var $localEventName = require("./LocalEventName");

var $skillContext = require("./SkillContext");

var $taskContext = require("./TaskContext");

var $userDataContext = require("./UserDataContext");

var $startView = require("./StartView");

var k = cc._decorator;
var v = k.ccclass;
var b = k.property;

var w = function (t) {
  function e() {
    var e = null !== t && t.apply(this, arguments) || this;
    e.titleLaleb = null;
    e.progress = null;
    e.btnGain = null;
    e.iconSp = null;
    e.countLable = null;
    e.redDot = null;
    e.config = null;
    return e;
  }

  __extends(e, t);

  e.prototype.start = function () {
    this.btnGain.on("click", this.clickGain, this);
  };

  e.prototype.init = function (t) {
    this.config = t;
    this.countLable.string = t.num.toString();
    this.render();
    this.renderIcon();
  };

  e.prototype.renderIcon = function () {
    var t = this;
    var e = "";
    var i = "";
    1 === this.config.reward ? (e = $assetsMap.BundleNames.Public, i = "/textures/gem/zuanshi") : 2 === this.config.reward ? (e = $assetsMap.BundleNames.Public, i = "/textures/gem/jinbi") : 3 === this.config.reward ? (e = $assetsMap.BundleNames.Public_Res, i = "/skill_book/jn0") : 4 === this.config.reward ? (e = $assetsMap.BundleNames.Public_Res, i = "/equipment_icon/zb0") : 6 === this.config.reward && (e = $assetsMap.BundleNames.Public, i = "/textures/gem/upgrade_sone");
    $assetsLoader["default"].instance.loadRes(e, [i], cc.SpriteFrame, null, function (e, i) {
      var o = i[0];

      if (o && cc.isValid(t.iconSp)) {
        t.iconSp.spriteFrame = $resUtil.ResUtil.assignWith(o, t.node);
      }
    });
  };

  e.prototype.render = function () {
    this.titleLaleb.string = this.config.name;
    var t = $taskContext["default"].Ins.getTaskRecord(this.config.id);
    this.progress.node.getComponentInChildren(cc.Label).string = t.num + "/" + this.config.target_num;
    this.progress.progress = t.num / this.config.target_num;
    this.btnGain.active = !0;
    this.redDot.active = !1;
    t.isGain ? this.btnGain.active = !1 : t.num >= this.config.target_num ? ($util["default"].updateMaterialState(this.btnGain, !1), this.btnGain.getComponent(cc.Button).interactable = !0, this.btnGain.getComponentInChildren(cc.Label).string = "领取", this.redDot.active = !0) : ($util["default"].updateMaterialState(this.btnGain, !0), this.btnGain.getComponent(cc.Button).interactable = !1, this.btnGain.getComponentInChildren(cc.Label).string = "未完成");
  };

  e.prototype.clickGain = function () {
    $remoteAudio["default"].instance.playEffectMusic("Click");

    if ($taskContext["default"].Ins.getTaskRecord(this.config.id).num >= this.config.target_num) {
      $taskContext["default"].Ins.gainTask(this.config.id);
      var t = [];

      if (1 === this.config.reward) {
        $userDataContext["default"].Ins.opearDiamond(this.config.num);
        t.push({
          type: 6,
          num: this.config.num
        });
      } else {
        if (2 === this.config.reward) {
          $userDataContext["default"].Ins.opearCoin(this.config.num);
          t.push({
            type: 1,
            num: this.config.num
          });
        } else {
          if (3 === this.config.reward) {
            var e = $skillContext["default"].Ins.getUseSkillIds();
            var i = e[$seedUtil["default"].randomFrom(0, e.length - 1)];
            t.push({
              type: 4,
              ext: i,
              num: this.config.num
            });
            $userDataContext["default"].Ins.opearSkillBook(i, this.config.num);
          } else {
            if (4 === this.config.reward) {
              var o = $seedUtil["default"].randomFrom(1, 6);
              t.push({
                type: 3,
                ext: o,
                num: this.config.num
              });
              $userDataContext["default"].Ins.opearEquipBook(o, this.config.num);
            } else {
              if (6 === this.config.reward) {
                t.push({
                  type: 7,
                  num: this.config.num
                });
                $userDataContext["default"].Ins.opearUpgradeStone(this.config.num);
              }
            }
          }
        }
      }

      $eventManager["default"].send($localEventName["default"].RENDER_DOT, $startView.MenuType.ALL);
      $popupManager.PopupManager.instance.open($assetsMap.AssetsMap.PopUpBundles.prefabs.assetsList.RewardView, {
        infos: t
      });
    }

    this.render();
  };

  __decorate([b(cc.Label)], e.prototype, "titleLaleb", void 0);

  __decorate([b(cc.ProgressBar)], e.prototype, "progress", void 0);

  __decorate([b(cc.Node)], e.prototype, "btnGain", void 0);

  __decorate([b(cc.Sprite)], e.prototype, "iconSp", void 0);

  __decorate([b(cc.Label)], e.prototype, "countLable", void 0);

  __decorate([b(cc.Node)], e.prototype, "redDot", void 0);

  return __decorate([v], e);
}(cc.Component);

exports["default"] = w;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcZ2FtZV9zY3JpcHRcXHNjcmlwdHNcXFRhc2tMaXN0SXRlbS5qcyJdLCJuYW1lcyI6WyJvIiwiJGFzc2V0c0xvYWRlciIsInJlcXVpcmUiLCIkYXNzZXRzTWFwIiwiJHJlc1V0aWwiLCIkZXZlbnRNYW5hZ2VyIiwiJHBvcHVwTWFuYWdlciIsIiRyZW1vdGVBdWRpbyIsIiRzZWVkVXRpbCIsIiR1dGlsIiwiJGxvY2FsRXZlbnROYW1lIiwiJHNraWxsQ29udGV4dCIsIiR0YXNrQ29udGV4dCIsIiR1c2VyRGF0YUNvbnRleHQiLCIkc3RhcnRWaWV3IiwiayIsImNjIiwiX2RlY29yYXRvciIsInYiLCJjY2NsYXNzIiwiYiIsInByb3BlcnR5IiwidyIsInQiLCJlIiwiYXBwbHkiLCJhcmd1bWVudHMiLCJ0aXRsZUxhbGViIiwicHJvZ3Jlc3MiLCJidG5HYWluIiwiaWNvblNwIiwiY291bnRMYWJsZSIsInJlZERvdCIsImNvbmZpZyIsIl9fZXh0ZW5kcyIsInByb3RvdHlwZSIsInN0YXJ0Iiwib24iLCJjbGlja0dhaW4iLCJpbml0Iiwic3RyaW5nIiwibnVtIiwidG9TdHJpbmciLCJyZW5kZXIiLCJyZW5kZXJJY29uIiwiaSIsInJld2FyZCIsIkJ1bmRsZU5hbWVzIiwiUHVibGljIiwiUHVibGljX1JlcyIsImluc3RhbmNlIiwibG9hZFJlcyIsIlNwcml0ZUZyYW1lIiwiaXNWYWxpZCIsInNwcml0ZUZyYW1lIiwiUmVzVXRpbCIsImFzc2lnbldpdGgiLCJub2RlIiwibmFtZSIsIklucyIsImdldFRhc2tSZWNvcmQiLCJpZCIsImdldENvbXBvbmVudEluQ2hpbGRyZW4iLCJMYWJlbCIsInRhcmdldF9udW0iLCJhY3RpdmUiLCJpc0dhaW4iLCJ1cGRhdGVNYXRlcmlhbFN0YXRlIiwiZ2V0Q29tcG9uZW50IiwiQnV0dG9uIiwiaW50ZXJhY3RhYmxlIiwicGxheUVmZmVjdE11c2ljIiwiZ2FpblRhc2siLCJvcGVhckRpYW1vbmQiLCJwdXNoIiwidHlwZSIsIm9wZWFyQ29pbiIsImdldFVzZVNraWxsSWRzIiwicmFuZG9tRnJvbSIsImxlbmd0aCIsImV4dCIsIm9wZWFyU2tpbGxCb29rIiwib3BlYXJFcXVpcEJvb2siLCJvcGVhclVwZ3JhZGVTdG9uZSIsInNlbmQiLCJSRU5ERVJfRE9UIiwiTWVudVR5cGUiLCJBTEwiLCJQb3B1cE1hbmFnZXIiLCJvcGVuIiwiQXNzZXRzTWFwIiwiUG9wVXBCdW5kbGVzIiwicHJlZmFicyIsImFzc2V0c0xpc3QiLCJSZXdhcmRWaWV3IiwiaW5mb3MiLCJfX2RlY29yYXRlIiwiUHJvZ3Jlc3NCYXIiLCJOb2RlIiwiU3ByaXRlIiwiQ29tcG9uZW50IiwiZXhwb3J0cyJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSxJQUFJQSxDQUFKOztBQUNBLElBQUlDLGFBQWEsR0FBR0MsT0FBTyxDQUFDLGdCQUFELENBQTNCOztBQUNBLElBQUlDLFVBQVUsR0FBR0QsT0FBTyxDQUFDLGFBQUQsQ0FBeEI7O0FBQ0EsSUFBSUUsUUFBUSxHQUFHRixPQUFPLENBQUMsV0FBRCxDQUF0Qjs7QUFDQSxJQUFJRyxhQUFhLEdBQUdILE9BQU8sQ0FBQyxnQkFBRCxDQUEzQjs7QUFDQSxJQUFJSSxhQUFhLEdBQUdKLE9BQU8sQ0FBQyxnQkFBRCxDQUEzQjs7QUFDQSxJQUFJSyxZQUFZLEdBQUdMLE9BQU8sQ0FBQyxlQUFELENBQTFCOztBQUNBLElBQUlNLFNBQVMsR0FBR04sT0FBTyxDQUFDLFlBQUQsQ0FBdkI7O0FBQ0EsSUFBSU8sS0FBSyxHQUFHUCxPQUFPLENBQUMsUUFBRCxDQUFuQjs7QUFDQSxJQUFJUSxlQUFlLEdBQUdSLE9BQU8sQ0FBQyxrQkFBRCxDQUE3Qjs7QUFDQSxJQUFJUyxhQUFhLEdBQUdULE9BQU8sQ0FBQyxnQkFBRCxDQUEzQjs7QUFDQSxJQUFJVSxZQUFZLEdBQUdWLE9BQU8sQ0FBQyxlQUFELENBQTFCOztBQUNBLElBQUlXLGdCQUFnQixHQUFHWCxPQUFPLENBQUMsbUJBQUQsQ0FBOUI7O0FBQ0EsSUFBSVks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QWxCLEVBQTZCLFlBQTdCLEVBQTJDLEtBQUssQ0FBaEQsQ0FBVjs7RUFDQTZELFVBQVUsQ0FBQyxDQUFDNUUsQ0FBQyxDQUFDSixFQUFFLENBQUNpRixXQUFKLENBQUYsQ0FBRCxFQUFzQnpFLENBQUMsQ0FBQ1csU0FBeEIsRUFBbUMsVUFBbkMsRUFBK0MsS0FBSyxDQUFwRCxDQUFWOztFQUNBNkQsVUFBVSxDQUFDLENBQUM1RSxDQUFDLENBQUNKLEVBQUUsQ0FBQ2tGLElBQUosQ0FBRixDQUFELEVBQWUxRSxDQUFDLENBQUNXLFNBQWpCLEVBQTRCLFNBQTVCLEVBQXVDLEtBQUssQ0FBNUMsQ0FBVjs7RUFDQTZELFVBQVUsQ0FBQyxDQUFDNUUsQ0FBQyxDQUFDSixFQUFFLENBQUNtRixNQUFKLENBQUYsQ0FBRCxFQUFpQjNFLENBQUMsQ0FBQ1csU0FBbkIsRUFBOEIsUUFBOUIsRUFBd0MsS0FBSyxDQUE3QyxDQUFWOztFQUNBNkQsVUFBVSxDQUFDLENBQUM1RSxDQUFDLENBQUNKLEVBQUUsQ0FBQytDLEtBQUosQ0FBRixDQUFELEVBQWdCdkMsQ0FBQyxDQUFDVyxTQUFsQixFQUE2QixZQUE3QixFQUEyQyxLQUFLLENBQWhELENBQVY7O0VBQ0E2RCxVQUFVLENBQUMsQ0FBQzVFLENBQUMsQ0FBQ0osRUFBRSxDQUFDa0YsSUFBSixDQUFGLENBQUQsRUFBZTFFLENBQUMsQ0FBQ1csU0FBakIsRUFBNEIsUUFBNUIsRUFBc0MsS0FBSyxDQUEzQyxDQUFWOztFQUNBLE9BQU82RCxVQUFVLENBQUMsQ0FBQzlFLENBQUQsQ0FBRCxFQUFNTSxDQUFOLENBQWpCO0FBQ0gsQ0EzSE8sQ0EySExSLEVBQUUsQ0FBQ29GLFNBM0hFLENBQVI7O0FBNEhBQyxPQUFPLFdBQVAsR0FBa0IvRSxDQUFsQiIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsidmFyIG87XHJcbnZhciAkYXNzZXRzTG9hZGVyID0gcmVxdWlyZShcIi4vQXNzZXRzTG9hZGVyXCIpO1xyXG52YXIgJGFzc2V0c01hcCA9IHJlcXVpcmUoXCIuL0Fzc2V0c01hcFwiKTtcclxudmFyICRyZXNVdGlsID0gcmVxdWlyZShcIi4vUmVzVXRpbFwiKTtcclxudmFyICRldmVudE1hbmFnZXIgPSByZXF1aXJlKFwiLi9FdmVudE1hbmFnZXJcIik7XHJcbnZhciAkcG9wdXBNYW5hZ2VyID0gcmVxdWlyZShcIi4vUG9wdXBNYW5hZ2VyXCIpO1xyXG52YXIgJHJlbW90ZUF1ZGlvID0gcmVxdWlyZShcIi4vUmVtb3RlQXVkaW9cIik7XHJcbnZhciAkc2VlZFV0aWwgPSByZXF1aXJlKFwiLi9TZWVkVXRpbFwiKTtcclxudmFyICR1dGlsID0gcmVxdWlyZShcIi4vVXRpbFwiKTtcclxudmFyICRsb2NhbEV2ZW50TmFtZSA9IHJlcXVpcmUoXCIuL0xvY2FsRXZlbnROYW1lXCIpO1xyXG52YXIgJHNraWxsQ29udGV4dCA9IHJlcXVpcmUoXCIuL1NraWxsQ29udGV4dFwiKTtcclxudmFyICR0YXNrQ29udGV4dCA9IHJlcXVpcmUoXCIuL1Rhc2tDb250ZXh0XCIpO1xyXG52YXIgJHVzZXJEYXRhQ29udGV4dCA9IHJlcXVpcmUoXCIuL1VzZXJEYXRhQ29udGV4dFwiKTtcclxudmFyICRzdGFydFZpZXcgPSByZXF1aXJlKFwiLi9TdGFydFZpZXdcIik7XHJcbnZhciBrID0gY2MuX2RlY29yYXRvcjtcclxudmFyIHYgPSBrLmNjY2xhc3M7XHJcbnZhciBiID0gay5wcm9wZXJ0eTtcclxudmFyIHcgPSAoZnVuY3Rpb24gKHQpIHtcclxuICAgIGZ1bmN0aW9uIGUoKSB7XHJcbiAgICAgICAgdmFyIGUgPSAobnVsbCAhPT0gdCAmJiB0LmFwcGx5KHRoaXMsIGFyZ3VtZW50cykpIHx8IHRoaXM7XHJcbiAgICAgICAgZS50aXRsZUxhbGViID0gbnVsbDtcclxuICAgICAgICBlLnByb2dyZXNzID0gbnVsbDtcclxuICAgICAgICBlLmJ0bkdhaW4gPSBudWxsO1xyXG4gICAgICAgIGUuaWNvblNwID0gbnVsbDtcclxuICAgICAgICBlLmNvdW50TGFibGUgPSBudWxsO1xyXG4gICAgICAgIGUucmVkRG90ID0gbnVsbDtcclxuICAgICAgICBlLmNvbmZpZyA9IG51bGw7XHJcbiAgICAgICAgcmV0dXJuIGU7XHJcbiAgICB9XHJcbiAgICBfX2V4dGVuZHMoZSwgdCk7XHJcbiAgICBlLnByb3RvdHlwZS5zdGFydCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB0aGlzLmJ0bkdhaW4ub24oXCJjbGlja1wiLCB0aGlzLmNsaWNrR2FpbiwgdGhpcyk7XHJcbiAgICB9O1xyXG4gICAgZS5wcm90b3R5cGUuaW5pdCA9IGZ1bmN0aW9uICh0KSB7XHJcbiAgICAgICAgdGhpcy5jb25maWcgPSB0O1xyXG4gICAgICAgIHRoaXMuY291bnRMYWJsZS5zdHJpbmcgPSB0Lm51bS50b1N0cmluZygpO1xyXG4gICAgICAgIHRoaXMucmVuZGVyKCk7XHJcbiAgICAgICAgdGhpcy5yZW5kZXJJY29uKCk7XHJcbiAgICB9O1xyXG4gICAgZS5wcm90b3R5cGUucmVuZGVySWNvbiA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgdCA9IHRoaXM7XHJcbiAgICAgICAgdmFyIGUgPSBcIlwiO1xyXG4gICAgICAgIHZhciBpID0gXCJcIjtcclxuICAgICAgICAxID09PSB0aGlzLmNvbmZpZy5yZXdhcmRcclxuICAgICAgICAgICAgPyAoKGUgPSAkYXNzZXRzTWFwLkJ1bmRsZU5hbWVzLlB1YmxpYyksIChpID0gXCIvdGV4dHVyZXMvZ2VtL3p1YW5zaGlcIikpXHJcbiAgICAgICAgICAgIDogMiA9PT0gdGhpcy5jb25maWcucmV3YXJkXHJcbiAgICAgICAgICAgID8gKChlID0gJGFzc2V0c01hcC5CdW5kbGVOYW1lcy5QdWJsaWMpLCAoaSA9IFwiL3RleHR1cmVzL2dlbS9qaW5iaVwiKSlcclxuICAgICAgICAgICAgOiAzID09PSB0aGlzLmNvbmZpZy5yZXdhcmRcclxuICAgICAgICAgICAgPyAoKGUgPSAkYXNzZXRzTWFwLkJ1bmRsZU5hbWVzLlB1YmxpY19SZXMpLCAoaSA9IFwiL3NraWxsX2Jvb2svam4wXCIpKVxyXG4gICAgICAgICAgICA6IDQgPT09IHRoaXMuY29uZmlnLnJld2FyZFxyXG4gICAgICAgICAgICA/ICgoZSA9ICRhc3NldHNNYXAuQnVuZGxlTmFtZXMuUHVibGljX1JlcyksIChpID0gXCIvZXF1aXBtZW50X2ljb24vemIwXCIpKVxyXG4gICAgICAgICAgICA6IDYgPT09IHRoaXMuY29uZmlnLnJld2FyZCAmJiAoKGUgPSAkYXNzZXRzTWFwLkJ1bmRsZU5hbWVzLlB1YmxpYyksIChpID0gXCIvdGV4dHVyZXMvZ2VtL3VwZ3JhZGVfc29uZVwiKSk7XHJcbiAgICAgICAgJGFzc2V0c0xvYWRlci5kZWZhdWx0Lmluc3RhbmNlLmxvYWRSZXMoZSwgW2ldLCBjYy5TcHJpdGVGcmFtZSwgbnVsbCwgZnVuY3Rpb24gKGUsIGkpIHtcclxuICAgICAgICAgICAgdmFyIG8gPSBpWzBdO1xyXG4gICAgICAgICAgICBpZiAobyAmJiBjYy5pc1ZhbGlkKHQuaWNvblNwKSkge1xyXG4gICAgICAgICAgICAgICAgdC5pY29uU3Auc3ByaXRlRnJhbWUgPSAkcmVzVXRpbC5SZXNVdGlsLmFzc2lnbldpdGgobywgdC5ub2RlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIGUucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB0aGlzLnRpdGxlTGFsZWIuc3RyaW5nID0gdGhpcy5jb25maWcubmFtZTtcclxuICAgICAgICB2YXIgdCA9ICR0YXNrQ29udGV4dC5kZWZhdWx0Lklucy5nZXRUYXNrUmVjb3JkKHRoaXMuY29uZmlnLmlkKTtcclxuICAgICAgICB0aGlzLnByb2dyZXNzLm5vZGUuZ2V0Q29tcG9uZW50SW5DaGlsZHJlbihjYy5MYWJlbCkuc3RyaW5nID0gdC5udW0gKyBcIi9cIiArIHRoaXMuY29uZmlnLnRhcmdldF9udW07XHJcbiAgICAgICAgdGhpcy5wcm9ncmVzcy5wcm9ncmVzcyA9IHQubnVtIC8gdGhpcy5jb25maWcudGFyZ2V0X251bTtcclxuICAgICAgICB0aGlzLmJ0bkdhaW4uYWN0aXZlID0gITA7XHJcbiAgICAgICAgdGhpcy5yZWREb3QuYWN0aXZlID0gITE7XHJcbiAgICAgICAgdC5pc0dhaW5cclxuICAgICAgICAgICAgPyAodGhpcy5idG5HYWluLmFjdGl2ZSA9ICExKVxyXG4gICAgICAgICAgICA6IHQubnVtID49IHRoaXMuY29uZmlnLnRhcmdldF9udW1cclxuICAgICAgICAgICAgPyAoJHV0aWwuZGVmYXVsdC51cGRhdGVNYXRlcmlhbFN0YXRlKHRoaXMuYnRuR2FpbiwgITEpLFxyXG4gICAgICAgICAgICAgICh0aGlzLmJ0bkdhaW4uZ2V0Q29tcG9uZW50KGNjLkJ1dHRvbikuaW50ZXJhY3RhYmxlID0gITApLFxyXG4gICAgICAgICAgICAgICh0aGlzLmJ0bkdhaW4uZ2V0Q29tcG9uZW50SW5DaGlsZHJlbihjYy5MYWJlbCkuc3RyaW5nID0gXCLpooblj5ZcIiksXHJcbiAgICAgICAgICAgICAgKHRoaXMucmVkRG90LmFjdGl2ZSA9ICEwKSlcclxuICAgICAgICAgICAgOiAoJHV0aWwuZGVmYXVsdC51cGRhdGVNYXRlcmlhbFN0YXRlKHRoaXMuYnRuR2FpbiwgITApLFxyXG4gICAgICAgICAgICAgICh0aGlzLmJ0bkdhaW4uZ2V0Q29tcG9uZW50KGNjLkJ1dHRvbikuaW50ZXJhY3RhYmxlID0gITEpLFxyXG4gICAgICAgICAgICAgICh0aGlzLmJ0bkdhaW4uZ2V0Q29tcG9uZW50SW5DaGlsZHJlbihjYy5MYWJlbCkuc3RyaW5nID0gXCLmnKrlrozmiJBcIikpO1xyXG4gICAgfTtcclxuICAgIGUucHJvdG90eXBlLmNsaWNrR2FpbiA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAkcmVtb3RlQXVkaW8uZGVmYXVsdC5pbnN0YW5jZS5wbGF5RWZmZWN0TXVzaWMoXCJDbGlja1wiKTtcclxuICAgICAgICBpZiAoJHRhc2tDb250ZXh0LmRlZmF1bHQuSW5zLmdldFRhc2tSZWNvcmQodGhpcy5jb25maWcuaWQpLm51bSA+PSB0aGlzLmNvbmZpZy50YXJnZXRfbnVtKSB7XHJcbiAgICAgICAgICAgICR0YXNrQ29udGV4dC5kZWZhdWx0Lklucy5nYWluVGFzayh0aGlzLmNvbmZpZy5pZCk7XHJcbiAgICAgICAgICAgIHZhciB0ID0gW107XHJcbiAgICAgICAgICAgIGlmICgxID09PSB0aGlzLmNvbmZpZy5yZXdhcmQpIHtcclxuICAgICAgICAgICAgICAgICR1c2VyRGF0YUNvbnRleHQuZGVmYXVsdC5JbnMub3BlYXJEaWFtb25kKHRoaXMuY29uZmlnLm51bSk7XHJcbiAgICAgICAgICAgICAgICB0LnB1c2goe1xyXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IDYsXHJcbiAgICAgICAgICAgICAgICAgICAgbnVtOiB0aGlzLmNvbmZpZy5udW1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgaWYgKDIgPT09IHRoaXMuY29uZmlnLnJld2FyZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICR1c2VyRGF0YUNvbnRleHQuZGVmYXVsdC5JbnMub3BlYXJDb2luKHRoaXMuY29uZmlnLm51bSk7XHJcbiAgICAgICAgICAgICAgICAgICAgdC5wdXNoKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogMSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgbnVtOiB0aGlzLmNvbmZpZy5udW1cclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKDMgPT09IHRoaXMuY29uZmlnLnJld2FyZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZSA9ICRza2lsbENvbnRleHQuZGVmYXVsdC5JbnMuZ2V0VXNlU2tpbGxJZHMoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGkgPSBlWyRzZWVkVXRpbC5kZWZhdWx0LnJhbmRvbUZyb20oMCwgZS5sZW5ndGggLSAxKV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHQucHVzaCh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiA0LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXh0OiBpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbnVtOiB0aGlzLmNvbmZpZy5udW1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICR1c2VyRGF0YUNvbnRleHQuZGVmYXVsdC5JbnMub3BlYXJTa2lsbEJvb2soaSwgdGhpcy5jb25maWcubnVtKTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoNCA9PT0gdGhpcy5jb25maWcucmV3YXJkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbyA9ICRzZWVkVXRpbC5kZWZhdWx0LnJhbmRvbUZyb20oMSwgNik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0LnB1c2goe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IDMsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXh0OiBvLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG51bTogdGhpcy5jb25maWcubnVtXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICR1c2VyRGF0YUNvbnRleHQuZGVmYXVsdC5JbnMub3BlYXJFcXVpcEJvb2sobywgdGhpcy5jb25maWcubnVtKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICg2ID09PSB0aGlzLmNvbmZpZy5yZXdhcmQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0LnB1c2goe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiA3LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBudW06IHRoaXMuY29uZmlnLm51bVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICR1c2VyRGF0YUNvbnRleHQuZGVmYXVsdC5JbnMub3BlYXJVcGdyYWRlU3RvbmUodGhpcy5jb25maWcubnVtKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAkZXZlbnRNYW5hZ2VyLmRlZmF1bHQuc2VuZCgkbG9jYWxFdmVudE5hbWUuZGVmYXVsdC5SRU5ERVJfRE9ULCAkc3RhcnRWaWV3Lk1lbnVUeXBlLkFMTCk7XHJcbiAgICAgICAgICAgICRwb3B1cE1hbmFnZXIuUG9wdXBNYW5hZ2VyLmluc3RhbmNlLm9wZW4oJGFzc2V0c01hcC5Bc3NldHNNYXAuUG9wVXBCdW5kbGVzLnByZWZhYnMuYXNzZXRzTGlzdC5SZXdhcmRWaWV3LCB7XHJcbiAgICAgICAgICAgICAgICBpbmZvczogdFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5yZW5kZXIoKTtcclxuICAgIH07XHJcbiAgICBfX2RlY29yYXRlKFtiKGNjLkxhYmVsKV0sIGUucHJvdG90eXBlLCBcInRpdGxlTGFsZWJcIiwgdm9pZCAwKTtcclxuICAgIF9fZGVjb3JhdGUoW2IoY2MuUHJvZ3Jlc3NCYXIpXSwgZS5wcm90b3R5cGUsIFwicHJvZ3Jlc3NcIiwgdm9pZCAwKTtcclxuICAgIF9fZGVjb3JhdGUoW2IoY2MuTm9kZSldLCBlLnByb3RvdHlwZSwgXCJidG5HYWluXCIsIHZvaWQgMCk7XHJcbiAgICBfX2RlY29yYXRlKFtiKGNjLlNwcml0ZSldLCBlLnByb3RvdHlwZSwgXCJpY29uU3BcIiwgdm9pZCAwKTtcclxuICAgIF9fZGVjb3JhdGUoW2IoY2MuTGFiZWwpXSwgZS5wcm90b3R5cGUsIFwiY291bnRMYWJsZVwiLCB2b2lkIDApO1xyXG4gICAgX19kZWNvcmF0ZShbYihjYy5Ob2RlKV0sIGUucHJvdG90eXBlLCBcInJlZERvdFwiLCB2b2lkIDApO1xyXG4gICAgcmV0dXJuIF9fZGVjb3JhdGUoW3ZdLCBlKTtcclxufSkoY2MuQ29tcG9uZW50KTtcclxuZXhwb3J0cy5kZWZhdWx0ID0gdztcclxuIl19