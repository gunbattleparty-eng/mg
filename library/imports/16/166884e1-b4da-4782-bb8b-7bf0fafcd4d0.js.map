{"version":3,"sources":["assets\\game_script\\scripts\\Enemy_31.js"],"names":["o","$baseBullet","require","$gameContext","$baseEnemy","$healthBar","u","cc","_decorator","d","ccclass","p","property","f","t","e","apply","arguments","healthBar","bulletPrefab","__extends","prototype","initEnemy","i","call","statusManager","clear","specialityAtkAdd","set","BulletSpeciality","ice","config","value","init","hp","hp_num","sufferAttack","isDie","render","dieAnim","createSelfBoom","ins","getButtlePool","BulletType","e_bullet_31","instantiate","getComponent","setPosition","getPosition","initButtle","insert","lowBulletLayer","setAnimation","__decorate","Prefab","exports"],"mappings":"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","sourceRoot":"/","sourcesContent":["var o;\r\nvar $baseBullet = require(\"./BaseBullet\");\r\nvar $gameContext = require(\"./GameContext\");\r\nvar $baseEnemy = require(\"./BaseEnemy\");\r\nvar $healthBar = require(\"./HealthBar\");\r\nvar u = cc._decorator;\r\nvar d = u.ccclass;\r\nvar p = u.property;\r\nvar f = (function (t) {\r\n    function e() {\r\n        var e = (null !== t && t.apply(this, arguments)) || this;\r\n        e.healthBar = null;\r\n        e.bulletPrefab = null;\r\n        return e;\r\n    }\r\n    __extends(e, t);\r\n    e.prototype.initEnemy = function (e, i, o) {\r\n        if (void 0 === o) {\r\n            o = 0;\r\n        }\r\n        t.prototype.initEnemy.call(this, e, i, o);\r\n        this.statusManager.clear();\r\n        this.statusManager.specialityAtkAdd.set($baseBullet.BulletSpeciality.ice, this.config.value[0]);\r\n        if (this.healthBar) {\r\n            this.healthBar.init(this.statusManager.hp, e.hp_num);\r\n        }\r\n    };\r\n    e.prototype.sufferAttack = function (e, i) {\r\n        if (this.statusManager.isDie) {\r\n            return !1;\r\n        }\r\n        var o = t.prototype.sufferAttack.call(this, e, i);\r\n        if (this.healthBar) {\r\n            this.healthBar.render(this.statusManager.hp);\r\n        }\r\n        return o;\r\n    };\r\n    e.prototype.dieAnim = function () {\r\n        this.createSelfBoom();\r\n        return t.prototype.dieAnim.call(this);\r\n    };\r\n    e.prototype.createSelfBoom = function () {\r\n        var t = $gameContext.default.ins.getButtlePool($baseBullet.BulletType.e_bullet_31);\r\n        if (!t) {\r\n            t = cc.instantiate(this.bulletPrefab).getComponent($baseBullet.default);\r\n        }\r\n        t.value = this.config.value;\r\n        t.setPosition(this.getPosition());\r\n        t.initButtle(null, null);\r\n        t.insert($gameContext.default.ins.lowBulletLayer);\r\n        t.setAnimation(null);\r\n    };\r\n    __decorate([p($healthBar.default)], e.prototype, \"healthBar\", void 0);\r\n    __decorate([p(cc.Prefab)], e.prototype, \"bulletPrefab\", void 0);\r\n    return __decorate([d], e);\r\n})($baseEnemy.default);\r\nexports.default = f;\r\n"]}