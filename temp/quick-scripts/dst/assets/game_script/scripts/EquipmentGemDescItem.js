
                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/game_script/scripts/EquipmentGemDescItem.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '6e405l4bAxGW5LE3ItK8fdW', 'EquipmentGemDescItem');
// game_script/scripts/EquipmentGemDescItem.js

"use strict";

var o;

var $assetsLoader = require("./AssetsLoader");

var $assetsMap = require("./AssetsMap");

var $resUtil = require("./ResUtil");

var $eventManager = require("./EventManager");

var $equipmentContext = require("./EquipmentContext");

var $localEventName = require("./LocalEventName");

var $gameGemInfo = require("./GameGemInfo");

var f = cc._decorator;
var h = f.ccclass;
var m = f.property;

var y = function (t) {
  function e() {
    var e = null !== t && t.apply(this, arguments) || this;
    e.gemIconSp = null;
    e.gemName = null;
    e.gemDesc = null;
    e.btnUnload = null;
    e.names = ["普通", "精良", "稀有", "史诗", "传奇", "绝世", "神话"];
    e.partNames = ["帽子", "上衣", "鞋子", "护臂", "裤子", "手套"];
    e.config = null;
    e.index = -1;
    return e;
  }

  __extends(e, t);

  e.prototype.start = function () {
    this.btnUnload.on("click", this.clickUnload, this);
    this.node.on(cc.Node.EventType.TOUCH_START, this.clickClose, this);
  };

  e.prototype.onDestroy = function () {
    this.btnUnload.off("click", this.clickUnload, this);
    this.node.off(cc.Node.EventType.TOUCH_START, this.clickClose, this);
  };

  e.prototype.clickUnload = function () {
    $equipmentContext["default"].Ins.removeGem(this.config.part, this.index);
    $eventManager["default"].send($localEventName["default"].RENDER_GEM);
    this.clickClose();
  };

  e.prototype.clickClose = function () {
    this.node.active = !1;
  };

  e.prototype.render = function (t, e) {
    var i = this;
    this.index = e;
    this.config = t;
    $assetsLoader["default"].instance.loadRes($assetsMap.BundleNames.Public, ["/textures/gem/g" + this.config.part + "_" + this.config.Grade], cc.SpriteFrame, null, function (t, e) {
      var o = e[0];

      if (o && cc.isValid(i.gemIconSp)) {
        i.gemIconSp.spriteFrame = $resUtil.ResUtil.assignWith(o, i.node);
      }
    });
    this.gemName.string = this.partNames[this.config.part - 1] + "·" + this.names[this.config.Grade - 1] + "宝石";
    this.gemName.node.color = $gameGemInfo.GameGemInfo.gemColor[this.config.Grade - 1];
    this.gemDesc.string = $gameGemInfo.GameGemInfo.ins.getGemDesc(t);
  };

  __decorate([m(cc.Sprite)], e.prototype, "gemIconSp", void 0);

  __decorate([m(cc.Label)], e.prototype, "gemName", void 0);

  __decorate([m(cc.Label)], e.prototype, "gemDesc", void 0);

  __decorate([m(cc.Node)], e.prototype, "btnUnload", void 0);

  return __decorate([h], e);
}(cc.Component);

exports["default"] = y;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcZ2FtZV9zY3JpcHRcXHNjcmlwdHNcXEVxdWlwbWVudEdlbURlc2NJdGVtLmpzIl0sIm5hbWVzIjpbIm8iLCIkYXNzZXRzTG9hZGVyIiwicmVxdWlyZSIsIiRhc3NldHNNYXAiLCIkcmVzVXRpbCIsIiRldmVudE1hbmFnZXIiLCIkZXF1aXBtZW50Q29udGV4dCIsIiRsb2NhbEV2ZW50TmFtZSIsIiRnYW1lR2VtSW5mbyIsImYiLCJjYyIsIl9kZWNvcmF0b3IiLCJoIiwiY2NjbGFzcyIsIm0iLCJwcm9wZXJ0eSIsInkiLCJ0IiwiZSIsImFwcGx5IiwiYXJndW1lbnRzIiwiZ2VtSWNvblNwIiwiZ2VtTmFtZSIsImdlbURlc2MiLCJidG5VbmxvYWQiLCJuYW1lcyIsInBhcnROYW1lcyIsImNvbmZpZyIsImluZGV4IiwiX19leHRlbmRzIiwicHJvdG90eXBlIiwic3RhcnQiLCJvbiIsImNsaWNrVW5sb2FkIiwibm9kZSIsIk5vZGUiLCJFdmVudFR5cGUiLCJUT1VDSF9TVEFSVCIsImNsaWNrQ2xvc2UiLCJvbkRlc3Ryb3kiLCJvZmYiLCJJbnMiLCJyZW1vdmVHZW0iLCJwYXJ0Iiwic2VuZCIsIlJFTkRFUl9HRU0iLCJhY3RpdmUiLCJyZW5kZXIiLCJpIiwiaW5zdGFuY2UiLCJsb2FkUmVzIiwiQnVuZGxlTmFtZXMiLCJQdWJsaWMiLCJHcmFkZSIsIlNwcml0ZUZyYW1lIiwiaXNWYWxpZCIsInNwcml0ZUZyYW1lIiwiUmVzVXRpbCIsImFzc2lnbldpdGgiLCJzdHJpbmciLCJjb2xvciIsIkdhbWVHZW1JbmZvIiwiZ2VtQ29sb3IiLCJpbnMiLCJnZXRHZW1EZXNjIiwiX19kZWNvcmF0ZSIsIlNwcml0ZSIsIkxhYmVsIiwiQ29tcG9uZW50IiwiZXhwb3J0cyJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSxJQUFJQSxDQUFKOztBQUNBLElBQUlDLGFBQWEsR0FBR0MsT0FBTyxDQUFDLGdCQUFELENBQTNCOztBQUNBLElBQUlDLFVBQVUs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WTBCLEtBQVosR0FBb0IsQ0FBdEQsQ0FBMUI7SUFDQSxLQUFLOUIsT0FBTCxDQUFhb0MsTUFBYixHQUFzQm5ELFlBQVksQ0FBQ3FELFdBQWIsQ0FBeUJFLEdBQXpCLENBQTZCQyxVQUE3QixDQUF3Qy9DLENBQXhDLENBQXRCO0VBQ0gsQ0FuQkQ7O0VBb0JBZ0QsVUFBVSxDQUFDLENBQUNuRCxDQUFDLENBQUNKLEVBQUUsQ0FBQ3dELE1BQUosQ0FBRixDQUFELEVBQWlCaEQsQ0FBQyxDQUFDWSxTQUFuQixFQUE4QixXQUE5QixFQUEyQyxLQUFLLENBQWhELENBQVY7O0VBQ0FtQyxVQUFVLENBQUMsQ0FBQ25ELENBQUMsQ0FBQ0osRUFBRSxDQUFDeUQsS0FBSixDQUFGLENBQUQsRUFBZ0JqRCxDQUFDLENBQUNZLFNBQWxCLEVBQTZCLFNBQTdCLEVBQXdDLEtBQUssQ0FBN0MsQ0FBVjs7RUFDQW1DLFVBQVUsQ0FBQyxDQUFDbkQsQ0FBQyxDQUFDSixFQUFFLENBQUN5RCxLQUFKLENBQUYsQ0FBRCxFQUFnQmpELENBQUMsQ0FBQ1ksU0FBbEIsRUFBNkIsU0FBN0IsRUFBd0MsS0FBSyxDQUE3QyxDQUFWOztFQUNBbUMsVUFBVSxDQUFDLENBQUNuRCxDQUFDLENBQUNKLEVBQUUsQ0FBQ3lCLElBQUosQ0FBRixDQUFELEVBQWVqQixDQUFDLENBQUNZLFNBQWpCLEVBQTRCLFdBQTVCLEVBQXlDLEtBQUssQ0FBOUMsQ0FBVjs7RUFDQSxPQUFPbUMsVUFBVSxDQUFDLENBQUNyRCxDQUFELENBQUQsRUFBTU0sQ0FBTixDQUFqQjtBQUNILENBdkRPLENBdURMUixFQUFFLENBQUMwRCxTQXZERSxDQUFSOztBQXdEQUMsT0FBTyxXQUFQLEdBQWtCckQsQ0FBbEIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbInZhciBvO1xyXG52YXIgJGFzc2V0c0xvYWRlciA9IHJlcXVpcmUoXCIuL0Fzc2V0c0xvYWRlclwiKTtcclxudmFyICRhc3NldHNNYXAgPSByZXF1aXJlKFwiLi9Bc3NldHNNYXBcIik7XHJcbnZhciAkcmVzVXRpbCA9IHJlcXVpcmUoXCIuL1Jlc1V0aWxcIik7XHJcbnZhciAkZXZlbnRNYW5hZ2VyID0gcmVxdWlyZShcIi4vRXZlbnRNYW5hZ2VyXCIpO1xyXG52YXIgJGVxdWlwbWVudENvbnRleHQgPSByZXF1aXJlKFwiLi9FcXVpcG1lbnRDb250ZXh0XCIpO1xyXG52YXIgJGxvY2FsRXZlbnROYW1lID0gcmVxdWlyZShcIi4vTG9jYWxFdmVudE5hbWVcIik7XHJcbnZhciAkZ2FtZUdlbUluZm8gPSByZXF1aXJlKFwiLi9HYW1lR2VtSW5mb1wiKTtcclxudmFyIGYgPSBjYy5fZGVjb3JhdG9yO1xyXG52YXIgaCA9IGYuY2NjbGFzcztcclxudmFyIG0gPSBmLnByb3BlcnR5O1xyXG52YXIgeSA9IChmdW5jdGlvbiAodCkge1xyXG4gICAgZnVuY3Rpb24gZSgpIHtcclxuICAgICAgICB2YXIgZSA9IChudWxsICE9PSB0ICYmIHQuYXBwbHkodGhpcywgYXJndW1lbnRzKSkgfHwgdGhpcztcclxuICAgICAgICBlLmdlbUljb25TcCA9IG51bGw7XHJcbiAgICAgICAgZS5nZW1OYW1lID0gbnVsbDtcclxuICAgICAgICBlLmdlbURlc2MgPSBudWxsO1xyXG4gICAgICAgIGUuYnRuVW5sb2FkID0gbnVsbDtcclxuICAgICAgICBlLm5hbWVzID0gW1wi5pmu6YCaXCIsIFwi57K+6ImvXCIsIFwi56iA5pyJXCIsIFwi5Y+y6K+XXCIsIFwi5Lyg5aWHXCIsIFwi57ud5LiWXCIsIFwi56We6K+dXCJdO1xyXG4gICAgICAgIGUucGFydE5hbWVzID0gW1wi5bi95a2QXCIsIFwi5LiK6KGjXCIsIFwi6Z6L5a2QXCIsIFwi5oqk6IeCXCIsIFwi6KOk5a2QXCIsIFwi5omL5aWXXCJdO1xyXG4gICAgICAgIGUuY29uZmlnID0gbnVsbDtcclxuICAgICAgICBlLmluZGV4ID0gLTE7XHJcbiAgICAgICAgcmV0dXJuIGU7XHJcbiAgICB9XHJcbiAgICBfX2V4dGVuZHMoZSwgdCk7XHJcbiAgICBlLnByb3RvdHlwZS5zdGFydCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB0aGlzLmJ0blVubG9hZC5vbihcImNsaWNrXCIsIHRoaXMuY2xpY2tVbmxvYWQsIHRoaXMpO1xyXG4gICAgICAgIHRoaXMubm9kZS5vbihjYy5Ob2RlLkV2ZW50VHlwZS5UT1VDSF9TVEFSVCwgdGhpcy5jbGlja0Nsb3NlLCB0aGlzKTtcclxuICAgIH07XHJcbiAgICBlLnByb3RvdHlwZS5vbkRlc3Ryb3kgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdGhpcy5idG5VbmxvYWQub2ZmKFwiY2xpY2tcIiwgdGhpcy5jbGlja1VubG9hZCwgdGhpcyk7XHJcbiAgICAgICAgdGhpcy5ub2RlLm9mZihjYy5Ob2RlLkV2ZW50VHlwZS5UT1VDSF9TVEFSVCwgdGhpcy5jbGlja0Nsb3NlLCB0aGlzKTtcclxuICAgIH07XHJcbiAgICBlLnByb3RvdHlwZS5jbGlja1VubG9hZCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAkZXF1aXBtZW50Q29udGV4dC5kZWZhdWx0Lklucy5yZW1vdmVHZW0odGhpcy5jb25maWcucGFydCwgdGhpcy5pbmRleCk7XHJcbiAgICAgICAgJGV2ZW50TWFuYWdlci5kZWZhdWx0LnNlbmQoJGxvY2FsRXZlbnROYW1lLmRlZmF1bHQuUkVOREVSX0dFTSk7XHJcbiAgICAgICAgdGhpcy5jbGlja0Nsb3NlKCk7XHJcbiAgICB9O1xyXG4gICAgZS5wcm90b3R5cGUuY2xpY2tDbG9zZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB0aGlzLm5vZGUuYWN0aXZlID0gITE7XHJcbiAgICB9O1xyXG4gICAgZS5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gKHQsIGUpIHtcclxuICAgICAgICB2YXIgaSA9IHRoaXM7XHJcbiAgICAgICAgdGhpcy5pbmRleCA9IGU7XHJcbiAgICAgICAgdGhpcy5jb25maWcgPSB0O1xyXG4gICAgICAgICRhc3NldHNMb2FkZXIuZGVmYXVsdC5pbnN0YW5jZS5sb2FkUmVzKFxyXG4gICAgICAgICAgICAkYXNzZXRzTWFwLkJ1bmRsZU5hbWVzLlB1YmxpYyxcclxuICAgICAgICAgICAgW1wiL3RleHR1cmVzL2dlbS9nXCIgKyB0aGlzLmNvbmZpZy5wYXJ0ICsgXCJfXCIgKyB0aGlzLmNvbmZpZy5HcmFkZV0sXHJcbiAgICAgICAgICAgIGNjLlNwcml0ZUZyYW1lLFxyXG4gICAgICAgICAgICBudWxsLFxyXG4gICAgICAgICAgICBmdW5jdGlvbiAodCwgZSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIG8gPSBlWzBdO1xyXG4gICAgICAgICAgICAgICAgaWYgKG8gJiYgY2MuaXNWYWxpZChpLmdlbUljb25TcCkpIHtcclxuICAgICAgICAgICAgICAgICAgICBpLmdlbUljb25TcC5zcHJpdGVGcmFtZSA9ICRyZXNVdGlsLlJlc1V0aWwuYXNzaWduV2l0aChvLCBpLm5vZGUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgKTtcclxuICAgICAgICB0aGlzLmdlbU5hbWUuc3RyaW5nID0gdGhpcy5wYXJ0TmFtZXNbdGhpcy5jb25maWcucGFydCAtIDFdICsgXCLCt1wiICsgdGhpcy5uYW1lc1t0aGlzLmNvbmZpZy5HcmFkZSAtIDFdICsgXCLlrp3nn7NcIjtcclxuICAgICAgICB0aGlzLmdlbU5hbWUubm9kZS5jb2xvciA9ICRnYW1lR2VtSW5mby5HYW1lR2VtSW5mby5nZW1Db2xvclt0aGlzLmNvbmZpZy5HcmFkZSAtIDFdO1xyXG4gICAgICAgIHRoaXMuZ2VtRGVzYy5zdHJpbmcgPSAkZ2FtZUdlbUluZm8uR2FtZUdlbUluZm8uaW5zLmdldEdlbURlc2ModCk7XHJcbiAgICB9O1xyXG4gICAgX19kZWNvcmF0ZShbbShjYy5TcHJpdGUpXSwgZS5wcm90b3R5cGUsIFwiZ2VtSWNvblNwXCIsIHZvaWQgMCk7XHJcbiAgICBfX2RlY29yYXRlKFttKGNjLkxhYmVsKV0sIGUucHJvdG90eXBlLCBcImdlbU5hbWVcIiwgdm9pZCAwKTtcclxuICAgIF9fZGVjb3JhdGUoW20oY2MuTGFiZWwpXSwgZS5wcm90b3R5cGUsIFwiZ2VtRGVzY1wiLCB2b2lkIDApO1xyXG4gICAgX19kZWNvcmF0ZShbbShjYy5Ob2RlKV0sIGUucHJvdG90eXBlLCBcImJ0blVubG9hZFwiLCB2b2lkIDApO1xyXG4gICAgcmV0dXJuIF9fZGVjb3JhdGUoW2hdLCBlKTtcclxufSkoY2MuQ29tcG9uZW50KTtcclxuZXhwb3J0cy5kZWZhdWx0ID0geTtcclxuIl19