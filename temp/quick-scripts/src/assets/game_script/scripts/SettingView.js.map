{"version":3,"sources":["assets\\game_script\\scripts\\SettingView.js"],"names":["o","$assetsLoader","require","$assetsMap","$resUtil","$eventManager","$popupManager","$uIManager","$popupView","$audioPlayer","$platform","$remoteAudio","$seedUtil","$battleContext","$configContext","$equipmentContext","$localEventName","$roleContext","$skillContext","$userDataContext","$gameGemInfo","C","cc","_decorator","I","ccclass","P","property","R","t","e","apply","arguments","headLayer","gradeLayer","roleLayer","musicBtn","btnEffect","editBox","btnExchange","effectSlider","musicSlider","__extends","prototype","onResetView","i","children","getComponent","Sprite","instance","loadRes","BundleNames","Public_Res","SpriteFrame","n","isValid","spriteFrame","ResUtil","assignWith","node","renderTx","Ins","gradeInfo","grade","Label","string","toString","fillRange","exp","renderAtk","s","getLastRecord","c","level","render","getMedias","active","getMediaVol","progress","width","setMusicVolume","setEffectVolume","GameGemInfo","ins","hasGem","GemType","Attack","get1","getEquipmentAtk","getAtk","position","headIndex","clone","addEvent","on","Node","EventType","TOUCH_START","touchItem","clickMusic","clickEffect","clickExchange","removeEvent","off","indexOf","target","playEffectMusic","setHeadIndex","send","RENDER_HEAD","setMedias","setMediaVol","sliderEffect","caculate","sliderMusic","setMediaAndVolCache","onClickClose","call","length","exchangeConfigs","find","name","channel","includes","Platform","currPlatForm","UIManager","showToast","addExchange","id","reward","tipsimg","opearCoin","num","push","type","addExp","randomFrom","Math","min","randomCount","r","splitNumber","l","ext","opearEquipBook","d","getUseSkillIds","randomArr","p","f","opearSkillBook","h","getGem","m","addPackItem","opearDiamond","opearAdCoin","opearUpgradeStone","PopupManager","open","AssetsMap","PopUpBundles","prefabs","assetsList","RewardView","infos","gemBoxConfigs","weightRandomCount","weight","gemConfigs","filter","Grade","__decorate","EditBox","Slider","PopupView","exports"],"mappings":";;;;;;AAAA,IAAIA,CAAJ;;AACA,IAAIC,aAAa,GAAGC,OAAO,CAAC,gBAAD,CAA3B;;AACA,IAAIC,UAAU,GAAGD,OAAO,CAAC,aAAD,CAAxB;;AACA,IAAIE,QAAQ,GAAGF,OAAO,CAAC,WAAD,CAAtB;;AACA,IAAIG,aAAa,GAAGH,OAAO,CAAC,gBAAD,CAA3B;;AACA,IAAII,aAAa,GAAGJ,OAAO,CAAC,gBAAD,CAA3B;;AACA,IAAIK,UAAU,GAAGL,OAAO,CAAC,aAAD,CAAxB;;AACA,IAAIM,UAAU,GAAGN,OAAO,CAAC,aAAD,CAAxB;;AACA,IAAIO,YAAY,GAAGP,OAAO,CAAC,eAAD,CAA1B;;AACA,IAAIQ,SAAS,GAAGR,OAAO,CAAC,YAAD,CAAvB;;AACA,IAAIS,YAAY,GAAGT,OAAO,CAAC,eAAD,CAA1B;;AACA,IAAIU,SAAS,GAAGV,OAAO,CAAC,YAAD,CAAvB;;AACA,IAAIW,cAAc,GAAGX,OAAO,CAAC,iBAAD,CAA5B;;AACA,IAAIY,cAAc,GAAGZ,OAAO,CAAC,iBAAD,CAA5B;;AACA,IAAIa,iBAAiB,GAAGb,OAAO,CAAC,oBAAD,CAA/B;;AACA,IAAIc,eAAe,GAAGd,OAAO,CAAC,kBAAD,CAA7B;;AACA,IAAIe,YAAY,GAAGf,OAAO,CAAC,eAAD,CAA1B;;AACA,IAAIgB,aAAa,GAAGhB,OAAO,CAAC,gBAAD,CAA3B;;AACA,IAAIiB,gBAAgB,GAAGjB,OAAO,CAAC,mBAAD,CAA9B;;AACA,IAAIkB,YAAY,GAAGlB,OAAO,CAAC,eAAD,CAA1B;;AACA,IAAImB,CAAC,GAAGC,EAAE,CAACC,UAAX;AACA,IAAIC,CAAC,GAAGH,CAAC,CAACI,OAAV;AACA,IAAIC,CAAC,GAAGL,CAAC,CAACM,QAAV;;AACA,IAAIC,CAAC,GAAI,UAAUC,CAAV,EAAa;EAClB,SAASC,CAAT,GAAa;IACT,IAAIA,CAAC,GAAI,SAASD,CAAT,IAAcA,CAAC,CAACE,KAAF,CAAQ,IAAR,EAAcC,SAAd,CAAf,IAA4C,IAApD;IACAF,CAAC,CAACG,SAAF,GAAc,IAAd;IACAH,CAAC,CAACI,UAAF,GAAe,IAAf;IACAJ,CAAC,CAACK,SAAF,GAAc,IAAd;IACAL,CAAC,CAACM,QAAF,GAAa,IAAb;IACAN,CAAC,CAACO,SAAF,GAAc,IAAd;IACAP,CAAC,CAACQ,OAAF,GAAY,IAAZ;IACAR,CAAC,CAACS,WAAF,GAAgB,IAAhB;IACAT,CAAC,CAACU,YAAF,GAAiB,IAAjB;IACAV,CAAC,CAACW,WAAF,GAAgB,IAAhB;IACA,OAAOX,CAAP;EACH;;EACDY,SAAS,CAACZ,CAAD,EAAID,CAAJ,CAAT;;EACAC,CAAC,CAACa,SAAF,CAAYC,WAAZ,GAA0B,YAAY;IAClC,IAAIf,CAAC,GAAG,IAAR;;IACA,IAAIC,CAAC,GAAG,WAAUA,EAAV,EAAa;MACjB,IAAI9B,CAAC,GAAG6C,CAAC,CAACZ,SAAF,CAAYa,QAAZ,CAAqBhB,EAArB,EAAwBiB,YAAxB,CAAqCzB,EAAE,CAAC0B,MAAxC,CAAR;;MACA/C,aAAa,WAAb,CAAsBgD,QAAtB,CAA+BC,OAA/B,CACI/C,UAAU,CAACgD,WAAX,CAAuBC,UAD3B,EAEI,CAAC,mBAAmBtB,EAAC,GAAG,CAAvB,CAAD,CAFJ,EAGIR,EAAE,CAAC+B,WAHP,EAII,IAJJ,EAKI,UAAUvB,CAAV,EAAae,CAAb,EAAgB;QACZ,IAAIS,CAAC,GAAGT,CAAC,CAAC,CAAD,CAAT;;QACA,IAAIS,CAAC,IAAIhC,EAAE,CAACiC,OAAH,CAAWvD,CAAX,CAAT,EAAwB;UACpBA,CAAC,CAACwD,WAAF,GAAgBpD,QAAQ,CAACqD,OAAT,CAAiBC,UAAjB,CAA4BJ,CAA5B,EAA+BzB,CAAC,CAAC8B,IAAjC,CAAhB;QACH;MACJ,CAVL;IAYH,CAdD;;IAeA,IAAId,CAAC,GAAG,IAAR;;IACA,KAAK,IAAI7C,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,CAApB,EAAuBA,CAAC,EAAxB,EAA4B;MACxB8B,CAAC,CAAC9B,CAAD,CAAD;IACH;;IACD,KAAK4D,QAAL;IACA,IAAIN,CAAC,GAAG,MAAM,MAAMnC,gBAAgB,WAAhB,CAAyB0C,GAAzB,CAA6BC,SAA7B,CAAuCC,KAAvC,GAA+C,CAArD,CAAd;IACA,KAAK7B,UAAL,CAAgBY,QAAhB,CAAyB,CAAzB,EAA4BC,YAA5B,CAAyCzB,EAAE,CAAC0C,KAA5C,EAAmDC,MAAnD,GACI9C,gBAAgB,WAAhB,CAAyB0C,GAAzB,CAA6BC,SAA7B,CAAuCC,KAAvC,CAA6CG,QAA7C,EADJ;IAEA,KAAKhC,UAAL,CAAgBY,QAAhB,CAAyB,CAAzB,EAA4BC,YAA5B,CAAyCzB,EAAE,CAAC0B,MAA5C,EAAoDmB,SAApD,GAAgEhD,gBAAgB,WAAhB,CAAyB0C,GAAzB,CAA6BC,SAA7B,CAAuCM,GAAvC,GAA6Cd,CAA7G;IACA,KAAKpB,UAAL,CAAgBY,QAAhB,CAAyB,CAAzB,EAA4BC,YAA5B,CAAyCzB,EAAE,CAAC0C,KAA5C,EAAmDC,MAAnD,GACI9C,gBAAgB,WAAhB,CAAyB0C,GAAzB,CAA6BC,SAA7B,CAAuCM,GAAvC,GAA6C,GAA7C,GAAmDd,CADvD;IAEA,KAAKe,SAAL;IACA,IAAIC,CAAC,GAAGzD,cAAc,WAAd,CAAuBgD,GAAvB,CAA2BU,aAA3B,EAAR;IACA,IAAIC,CAAC,GAAG,KAAKrC,SAAL,CAAeW,QAAf,CAAwB,CAAxB,EAA2BC,YAA3B,CAAwCzB,EAAE,CAAC0C,KAA3C,CAAR;IACA,MAAMM,CAAC,CAACG,KAAR,GAAiBD,CAAC,CAACP,MAAF,GAAW,GAA5B,GAAoCO,CAAC,CAACP,MAAF,GAAW,MAAMK,CAAC,CAACG,KAAR,GAAgB,GAA/D;IACA,KAAKC,MAAL,CAAY,CAAZ;IACA,KAAKA,MAAL,CAAY,CAAZ;EACH,CAlCD;;EAmCA5C,CAAC,CAACa,SAAF,CAAY+B,MAAZ,GAAqB,UAAU7C,CAAV,EAAa;IAC9B,IAAIC,CAAC,GAAG,MAAMD,CAAN,GAAU,KAAKO,QAAf,GAA0B,KAAKC,SAAvC;IACA,IAAIQ,CAAC,GAAG,MAAMhB,CAAN,GAAU,KAAKY,WAAf,GAA6B,KAAKD,YAA1C;IACA,IAAIxC,CAAC,GAAGmB,gBAAgB,WAAhB,CAAyB0C,GAAzB,CAA6Bc,SAA7B,CAAuC9C,CAAvC,CAAR;IACAC,CAAC,CAACgB,QAAF,CAAW,CAAX,EAAc8B,MAAd,GAAuB,CAAC5E,CAAxB;IACA,IAAIsD,CAAC,GAAGnC,gBAAgB,WAAhB,CAAyB0C,GAAzB,CAA6BgB,WAA7B,CAAyChD,CAAzC,CAAR;;IACA,IAAI,CAAC7B,CAAL,EAAQ;MACJsD,CAAC,GAAG,CAAJ;IACH;;IACDT,CAAC,CAACiC,QAAF,GAAaxB,CAAb;IACAT,CAAC,CAACc,IAAF,CAAOb,QAAP,CAAgB,CAAhB,EAAmBiC,KAAnB,GAA2BlC,CAAC,CAACc,IAAF,CAAOoB,KAAP,GAAezB,CAA1C;IACA,MAAMzB,CAAN,GAAUpB,YAAY,WAAZ,CAAqBuE,cAArB,CAAoC1B,CAApC,CAAV,GAAmD7C,YAAY,WAAZ,CAAqBwE,eAArB,CAAqC3B,CAArC,CAAnD;EACH,CAZD;;EAaAxB,CAAC,CAACa,SAAF,CAAY0B,SAAZ,GAAwB,YAAY;IAChC,IAAIxC,CAAC,GAAG,KAAKM,SAAL,CAAeW,QAAf,CAAwB,CAAxB,EAA2BC,YAA3B,CAAwCzB,EAAE,CAAC0C,KAA3C,CAAR;IACA,IAAIlC,CAAC,GAAG,CAAR;;IACA,IAAIV,YAAY,CAAC8D,WAAb,CAAyBC,GAAzB,CAA6BC,MAA7B,CAAoChE,YAAY,CAACiE,OAAb,CAAqBC,MAAzD,CAAJ,EAAsE;MAClExD,CAAC,GAAGV,YAAY,CAAC8D,WAAb,CAAyBC,GAAzB,CAA6BI,IAA7B,CAAkCnE,YAAY,CAACiE,OAAb,CAAqBC,MAAvD,CAAJ;IACH;;IACDxD,CAAC,IAAIf,iBAAiB,WAAjB,CAA0B8C,GAA1B,CAA8B2B,eAA9B,KAAkDzE,iBAAiB,WAAjB,CAA0B8C,GAA1B,CAA8B4B,MAA9B,EAAvD;IACA5D,CAAC,CAACoC,MAAF,GAAW,KAAKnC,CAAhB;EACH,CARD;;EASAA,CAAC,CAACa,SAAF,CAAYiB,QAAZ,GAAuB,YAAY;IAC/B,KAAK3B,SAAL,CAAea,QAAf,CAAwB,CAAxB,EAA2B4C,QAA3B,GACI,KAAKzD,SAAL,CAAea,QAAf,CAAwB3B,gBAAgB,WAAhB,CAAyB0C,GAAzB,CAA6B8B,SAArD,EAAgED,QAAhE,CAAyEE,KAAzE,EADJ;EAEH,CAHD;;EAIA9D,CAAC,CAACa,SAAF,CAAYkD,QAAZ,GAAuB,YAAY;IAC/B,KAAK,IAAIhE,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,CAApB,EAAuBA,CAAC,EAAxB,EAA4B;MACxB,KAAKI,SAAL,CAAea,QAAf,CAAwBjB,CAAxB,EAA2BiE,EAA3B,CAA8BxE,EAAE,CAACyE,IAAH,CAAQC,SAAR,CAAkBC,WAAhD,EAA6D,KAAKC,SAAlE,EAA6E,IAA7E;IACH;;IACD,KAAK9D,QAAL,CAAc0D,EAAd,CAAiB,OAAjB,EAA0B,KAAKK,UAA/B,EAA2C,IAA3C;IACA,KAAK9D,SAAL,CAAeyD,EAAf,CAAkB,OAAlB,EAA2B,KAAKM,WAAhC,EAA6C,IAA7C;IACA,KAAK7D,WAAL,CAAiBuD,EAAjB,CAAoB,OAApB,EAA6B,KAAKO,aAAlC,EAAiD,IAAjD;EACH,CAPD;;EAQAvE,CAAC,CAACa,SAAF,CAAY2D,WAAZ,GAA0B,YAAY;IAClC,KAAK,IAAIzE,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,CAApB,EAAuBA,CAAC,EAAxB,EAA4B;MACxB,KAAKI,SAAL,CAAea,QAAf,CAAwBjB,CAAxB,EAA2B0E,GAA3B,CAA+BjF,EAAE,CAACyE,IAAH,CAAQC,SAAR,CAAkBC,WAAjD,EAA8D,KAAKC,SAAnE,EAA8E,IAA9E;IACH;;IACD,KAAK9D,QAAL,CAAcmE,GAAd,CAAkB,OAAlB,EAA2B,KAAKJ,UAAhC,EAA4C,IAA5C;IACA,KAAK9D,SAAL,CAAekE,GAAf,CAAmB,OAAnB,EAA4B,KAAKH,WAAjC,EAA8C,IAA9C;IACA,KAAK7D,WAAL,CAAiBgE,GAAjB,CAAqB,OAArB,EAA8B,KAAKF,aAAnC,EAAkD,IAAlD;EACH,CAPD;;EAQAvE,CAAC,CAACa,SAAF,CAAYuD,SAAZ,GAAwB,UAAUrE,CAAV,EAAa;IACjC,IAAIC,CAAC,GAAG,KAAKG,SAAL,CAAea,QAAf,CAAwB0D,OAAxB,CAAgC3E,CAAC,CAAC4E,MAAlC,CAAR;;IACA,IAAI3E,CAAC,KAAKX,gBAAgB,WAAhB,CAAyB0C,GAAzB,CAA6B8B,SAAvC,EAAkD;MAC9ChF,YAAY,WAAZ,CAAqBsC,QAArB,CAA8ByD,eAA9B,CAA8C,OAA9C;MACAvF,gBAAgB,WAAhB,CAAyB0C,GAAzB,CAA6B8C,YAA7B,CAA0C7E,CAA1C;MACA,KAAK8B,QAAL;MACAvD,aAAa,WAAb,CAAsBuG,IAAtB,CAA2B5F,eAAe,WAAf,CAAwB6F,WAAnD;IACH;EACJ,CARD;;EASA/E,CAAC,CAACa,SAAF,CAAYwD,UAAZ,GAAyB,YAAY;IACjC,IAAItE,CAAC,GAAGV,gBAAgB,WAAhB,CAAyB0C,GAAzB,CAA6Bc,SAA7B,CAAuC,CAAvC,CAAR;IACA,IAAI7C,CAAC,GAAGX,gBAAgB,WAAhB,CAAyB0C,GAAzB,CAA6BgB,WAA7B,CAAyC,CAAzC,CAAR;IACAhD,CAAC,GAAG,CAACA,CAAL;IACAV,gBAAgB,WAAhB,CAAyB0C,GAAzB,CAA6BiD,SAA7B,CAAuC,CAAvC,EAA0CjF,CAA1C;IACAA,CAAC,IACM,MAAMC,CAAN,KAAaA,CAAC,GAAG,CAAL,EAASX,gBAAgB,WAAhB,CAAyB0C,GAAzB,CAA6BkD,WAA7B,CAAyC,CAAzC,EAA4C,CAA5C,CAArB,GACDtG,YAAY,WAAZ,CAAqBuE,cAArB,CAAoClD,CAApC,CAFL,IAGKrB,YAAY,WAAZ,CAAqBuE,cAArB,CAAoC,CAApC,CAHN;IAIA,KAAKN,MAAL,CAAY,CAAZ;EACH,CAVD;;EAWA5C,CAAC,CAACa,SAAF,CAAYyD,WAAZ,GAA0B,YAAY;IAClC,IAAIvE,CAAC,GAAGV,gBAAgB,WAAhB,CAAyB0C,GAAzB,CAA6Bc,SAA7B,CAAuC,CAAvC,CAAR;IACA,IAAI7C,CAAC,GAAGX,gBAAgB,WAAhB,CAAyB0C,GAAzB,CAA6BgB,WAA7B,CAAyC,CAAzC,CAAR;IACAhD,CAAC,GAAG,CAACA,CAAL;IACAV,gBAAgB,WAAhB,CAAyB0C,GAAzB,CAA6BiD,SAA7B,CAAuC,CAAvC,EAA0CjF,CAA1C;IACAA,CAAC,IACM,MAAMC,CAAN,KAAaA,CAAC,GAAG,CAAL,EAASX,gBAAgB,WAAhB,CAAyB0C,GAAzB,CAA6BkD,WAA7B,CAAyC,CAAzC,EAA4C,CAA5C,CAArB,GACDtG,YAAY,WAAZ,CAAqBwE,eAArB,CAAqCnD,CAArC,CAFL,IAGKrB,YAAY,WAAZ,CAAqBwE,eAArB,CAAqC,CAArC,CAHN;IAIA,KAAKP,MAAL,CAAY,CAAZ;EACH,CAVD;;EAWA5C,CAAC,CAACa,SAAF,CAAYqE,YAAZ,GAA2B,UAAUnF,CAAV,EAAa;IACpC,KAAKoF,QAAL,CAAc,CAAd,EAAiBpF,CAAC,CAACiD,QAAnB;IACA,KAAKJ,MAAL,CAAY,CAAZ;EACH,CAHD;;EAIA5C,CAAC,CAACa,SAAF,CAAYuE,WAAZ,GAA0B,UAAUrF,CAAV,EAAa;IACnC,KAAKoF,QAAL,CAAc,CAAd,EAAiBpF,CAAC,CAACiD,QAAnB;IACA,KAAKJ,MAAL,CAAY,CAAZ;EACH,CAHD;;EAIA5C,CAAC,CAACa,SAAF,CAAYsE,QAAZ,GAAuB,UAAUpF,CAAV,EAAaC,CAAb,EAAgB;IACnCA,CAAC,IAAI,CAAL,GACMX,gBAAgB,WAAhB,CAAyB0C,GAAzB,CAA6BsD,mBAA7B,CAAiDtF,CAAjD,EAAoDC,CAApD,EAAuD,CAAC,CAAxD,CADN,GAEMX,gBAAgB,WAAhB,CAAyB0C,GAAzB,CAA6BsD,mBAA7B,CAAiDtF,CAAjD,EAAoDC,CAApD,EAAuD,CAAC,CAAxD,CAFN;EAGH,CAJD;;EAKAA,CAAC,CAACa,SAAF,CAAYyE,YAAZ,GAA2B,YAAY;IACnCvF,CAAC,CAACc,SAAF,CAAYyE,YAAZ,CAAyBC,IAAzB,CAA8B,IAA9B;IACAlG,gBAAgB,WAAhB,CAAyB0C,GAAzB,CAA6BkD,WAA7B,CAAyC,CAAzC,EAA4C5F,gBAAgB,WAAhB,CAAyB0C,GAAzB,CAA6BgB,WAA7B,CAAyC,CAAzC,CAA5C;IACA1D,gBAAgB,WAAhB,CAAyB0C,GAAzB,CAA6BiD,SAA7B,CAAuC,CAAvC,EAA0C3F,gBAAgB,WAAhB,CAAyB0C,GAAzB,CAA6Bc,SAA7B,CAAuC,CAAvC,CAA1C;IACAxD,gBAAgB,WAAhB,CAAyB0C,GAAzB,CAA6BkD,WAA7B,CAAyC,CAAzC,EAA4C5F,gBAAgB,WAAhB,CAAyB0C,GAAzB,CAA6BgB,WAA7B,CAAyC,CAAzC,CAA5C;IACA1D,gBAAgB,WAAhB,CAAyB0C,GAAzB,CAA6BiD,SAA7B,CAAuC,CAAvC,EAA0C3F,gBAAgB,WAAhB,CAAyB0C,GAAzB,CAA6Bc,SAA7B,CAAuC,CAAvC,CAA1C;EACH,CAND;;EAOA7C,CAAC,CAACa,SAAF,CAAY0D,aAAZ,GAA4B,YAAY;IACpC,IAAIxE,CAAC,GAAG,KAAKS,OAAL,CAAa2B,MAArB;;IACA,IAAI,YAAYpC,CAAZ,IAAiB,MAAMA,CAAC,CAACyF,MAA7B,EAAqC;MACjC,IAAIxF,CAAC,GAAGhB,cAAc,WAAd,CAAuBmC,QAAvB,CAAgCsE,eAAhC,CAAgDC,IAAhD,CAAqD,UAAU1F,CAAV,EAAa;QACtE,OAAOA,CAAC,CAAC2F,IAAF,KAAW5F,CAAlB;MACH,CAFO,CAAR;;MAGA,IAAI,CAACC,CAAD,IAAM,CAACA,CAAC,CAAC4F,OAAF,CAAUC,QAAV,CAAmBjH,SAAS,CAACkH,QAAV,CAAmBC,YAAtC,CAAX,EAAgE;QAC5D,KAAKvF,OAAL,CAAa2B,MAAb,GAAsB,EAAtB;QACA,OAAO1D,UAAU,CAACuH,SAAX,CAAqB7E,QAArB,CAA8B8E,SAA9B,CAAwC,QAAxC,CAAP;MACH;;MACD5G,gBAAgB,WAAhB,CAAyB0C,GAAzB,CAA6BmE,WAA7B,CAAyClG,CAAC,CAACmG,EAA3C,KACQ,KAAK3F,OAAL,CAAa2B,MAAb,GAAsB,EAAvB,EAA4B,KAAKiE,MAAL,CAAYpG,CAAZ,CADnC,KAEQ,KAAKQ,OAAL,CAAa2B,MAAb,GAAsB,EAAvB,EAA4B1D,UAAU,CAACuH,SAAX,CAAqB7E,QAArB,CAA8B8E,SAA9B,CAAwC,SAAxC,CAFnC;IAGH;EACJ,CAdD;;EAeAjG,CAAC,CAACa,SAAF,CAAYuF,MAAZ,GAAqB,UAAUrG,CAAV,EAAa;IAC9B,IAAIC,CAAC,GAAG,EAAR;;IACA,KAAK,IAAIe,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGhB,CAAC,CAACsG,OAAF,CAAUb,MAA9B,EAAsCzE,CAAC,EAAvC,EAA2C;MACvC,IAAI7C,CAAC,GAAG6B,CAAC,CAACsG,OAAF,CAAUtF,CAAV,CAAR;;MACA,IAAI,MAAM7C,CAAV,EAAa;QACTmB,gBAAgB,WAAhB,CAAyB0C,GAAzB,CAA6BuE,SAA7B,CAAuCvG,CAAC,CAACwG,GAAF,CAAMxF,CAAN,CAAvC;QACAf,CAAC,CAACwG,IAAF,CAAO;UACHC,IAAI,EAAE,CADH;UAEHF,GAAG,EAAExG,CAAC,CAACwG,GAAF,CAAMxF,CAAN;QAFF,CAAP;MAIH,CAND,MAMO;QACH,IAAI,MAAM7C,CAAV,EAAa;UACTmB,gBAAgB,WAAhB,CAAyB0C,GAAzB,CAA6B2E,MAA7B,CAAoC3G,CAAC,CAACwG,GAAF,CAAMxF,CAAN,CAApC;UACAf,CAAC,CAACwG,IAAF,CAAO;YACHC,IAAI,EAAE,CADH;YAEHF,GAAG,EAAExG,CAAC,CAACwG,GAAF,CAAMxF,CAAN;UAFF,CAAP;QAIH,CAND,MAMO;UACH,IAAI,MAAM7C,CAAV,EAAa;YACT,IAAIsD,CAAC,GAAG1C,SAAS,WAAT,CAAkB6H,UAAlB,CAA6B,CAA7B,EAAgC,CAAhC,CAAR;YACAnF,CAAC,GAAGoF,IAAI,CAACC,GAAL,CAASrF,CAAT,EAAYzB,CAAC,CAACwG,GAAF,CAAMxF,CAAN,CAAZ,CAAJ;YACA,IAAIyB,CAAC,GAAG1D,SAAS,WAAT,CAAkBgI,WAAlB,CAA8B,CAA9B,EAAiC,CAAjC,EAAoCtF,CAApC,CAAR;YACA,IAAIuF,CAAC,GAAGjI,SAAS,WAAT,CAAkBkI,WAAlB,CAA8BjH,CAAC,CAACwG,GAAF,CAAMxF,CAAN,CAA9B,EAAwCS,CAAxC,CAAR;;YACA,KAAK,IAAIyF,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGzF,CAApB,EAAuByF,CAAC,EAAxB,EAA4B;cACxBjH,CAAC,CAACwG,IAAF,CAAO;gBACHC,IAAI,EAAE,CADH;gBAEHS,GAAG,EAAE1E,CAAC,CAACyE,CAAD,CAFH;gBAGHV,GAAG,EAAEQ,CAAC,CAACE,CAAD;cAHH,CAAP;cAKA5H,gBAAgB,WAAhB,CAAyB0C,GAAzB,CAA6BoF,cAA7B,CAA4C3E,CAAC,CAACyE,CAAD,CAA7C,EAAkDF,CAAC,CAACE,CAAD,CAAnD;YACH;UACJ,CAbD,MAaO;YACH,IAAI,MAAM/I,CAAV,EAAa;cACT,IAAIwE,CAAC,GAAG5D,SAAS,WAAT,CAAkB6H,UAAlB,CAA6B,CAA7B,EAAgC,CAAhC,CAAR;cACA,IAAIS,CAAC,GAAGhI,aAAa,WAAb,CAAsB2C,GAAtB,CAA0BsF,cAA1B,EAAR;cACA3E,CAAC,GAAGkE,IAAI,CAACC,GAAL,CAASO,CAAC,CAAC5B,MAAX,EAAmB9C,CAAnB,CAAJ;cACA0E,CAAC,GAAGtI,SAAS,WAAT,CAAkBwI,SAAlB,CAA4BF,CAA5B,EAA+B1E,CAA/B,CAAJ;cACA,IAAI6E,CAAC,GAAGzI,SAAS,WAAT,CAAkBkI,WAAlB,CAA8BjH,CAAC,CAACwG,GAAF,CAAMxF,CAAN,CAA9B,EAAwC2B,CAAxC,CAAR;;cACA,KAAK,IAAI8E,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG9E,CAApB,EAAuB8E,CAAC,EAAxB,EAA4B;gBACxBxH,CAAC,CAACwG,IAAF,CAAO;kBACHC,IAAI,EAAE,CADH;kBAEHS,GAAG,EAAEE,CAAC,CAACI,CAAD,CAFH;kBAGHjB,GAAG,EAAEgB,CAAC,CAACC,CAAD;gBAHH,CAAP;gBAKAnI,gBAAgB,WAAhB,CAAyB0C,GAAzB,CAA6B0F,cAA7B,CAA4CL,CAAC,CAACI,CAAD,CAA7C,EAAkDD,CAAC,CAACC,CAAD,CAAnD;cACH;YACJ,CAdD,MAcO;cACH,IAAI,MAAMtJ,CAAV,EAAa;gBACT,IAAIwJ,CAAC,GAAG,KAAKC,MAAL,CAAY5H,CAAC,CAACwG,GAAF,CAAMxF,CAAN,CAAZ,CAAR;;gBACA,KAAK,IAAI6G,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGF,CAAC,CAAClC,MAAtB,EAA8BoC,CAAC,EAA/B,EAAmC;kBAC/B5H,CAAC,CAACwG,IAAF,CAAO;oBACHC,IAAI,EAAE,CADH;oBAEHS,GAAG,EAAEQ,CAAC,CAACE,CAAD,CAAD,CAAKzB,EAFP;oBAGHI,GAAG,EAAE;kBAHF,CAAP;kBAKApH,YAAY,WAAZ,CAAqBkE,GAArB,CAAyBwE,WAAzB,CAAqCH,CAAC,CAACE,CAAD,CAAtC,EAA2C,CAA3C;gBACH;cACJ,CAVD,MAUO;gBACH,MAAM1J,CAAN,IACOmB,gBAAgB,WAAhB,CAAyB0C,GAAzB,CAA6B+F,YAA7B,CAA0C/H,CAAC,CAACwG,GAAF,CAAMxF,CAAN,CAA1C,GACDf,CAAC,CAACwG,IAAF,CAAO;kBACHC,IAAI,EAAE,CADH;kBAEHF,GAAG,EAAExG,CAAC,CAACwG,GAAF,CAAMxF,CAAN;gBAFF,CAAP,CAFN,IAMM,MAAM7C,CAAN,IACCmB,gBAAgB,WAAhB,CAAyB0C,GAAzB,CAA6BgG,WAA7B,CAAyChI,CAAC,CAACwG,GAAF,CAAMxF,CAAN,CAAzC,GACDf,CAAC,CAACwG,IAAF,CAAO;kBACHC,IAAI,EAAE,EADH;kBAEHF,GAAG,EAAExG,CAAC,CAACwG,GAAF,CAAMxF,CAAN;gBAFF,CAAP,CAFA,IAMA,MAAM7C,CAAN,KACCmB,gBAAgB,WAAhB,CAAyB0C,GAAzB,CAA6BiG,iBAA7B,CAA+CjI,CAAC,CAACwG,GAAF,CAAMxF,CAAN,CAA/C,GACDf,CAAC,CAACwG,IAAF,CAAO;kBACHC,IAAI,EAAE,CADH;kBAEHF,GAAG,EAAExG,CAAC,CAACwG,GAAF,CAAMxF,CAAN;gBAFF,CAAP,CAFA,CAZN;cAkBH;YACJ;UACJ;QACJ;MACJ;;MACDvC,aAAa,CAACyJ,YAAd,CAA2B9G,QAA3B,CAAoC+G,IAApC,CAAyC7J,UAAU,CAAC8J,SAAX,CAAqBC,YAArB,CAAkCC,OAAlC,CAA0CC,UAA1C,CAAqDC,UAA9F,EAA0G;QACtGC,KAAK,EAAExI;MAD+F,CAA1G;IAGH;EACJ,CArFD;;EAsFAA,CAAC,CAACa,SAAF,CAAY8G,MAAZ,GAAqB,UAAU5H,CAAV,EAAa;IAC9B,IAAIC,CAAC,GAAGhB,cAAc,WAAd,CAAuBmC,QAAvB,CAAgCsH,aAAhC,CAA8C,CAA9C,CAAR;IACA,IAAI1H,CAAC,GAAGjC,SAAS,WAAT,CAAkB4J,iBAAlB,CAAoC1I,CAAC,CAAC2I,MAAtC,EAA8C5I,CAA9C,EAAiD,CAAC,CAAlD,CAAR;IACA,IAAI7B,CAAC,GAAG,EAAR;;IACA,IAAIsD,CAAC,GAAG,WAAUzB,CAAV,EAAa;MACjB,IAAIC,CAAC,GAAGe,CAAC,CAAChB,CAAD,CAAD,GAAO,CAAf;MACA,IAAIyB,CAAC,GAAGxC,cAAc,WAAd,CAAuBmC,QAAvB,CAAgCyH,UAAhC,CAA2CC,MAA3C,CAAkD,UAAU9I,CAAV,EAAa;QACnE,OAAOA,CAAC,CAAC+I,KAAF,KAAY9I,CAAnB;MACH,CAFO,CAAR;MAGA9B,CAAC,CAAC6B,CAAD,CAAD,GAAOyB,CAAC,CAAC1C,SAAS,WAAT,CAAkB6H,UAAlB,CAA6B,CAA7B,EAAgCnF,CAAC,CAACgE,MAAF,GAAW,CAA3C,CAAD,CAAR;IACH,CAND;;IAOA,KAAK,IAAIhD,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGzB,CAAC,CAACyE,MAAtB,EAA8BhD,CAAC,EAA/B,EAAmC;MAC/BhB,CAAC,CAACgB,CAAD,CAAD;IACH;;IACD,OAAOtE,CAAP;EACH,CAfD;;EAgBA6K,UAAU,CAAC,CAACnJ,CAAC,CAACJ,EAAE,CAACyE,IAAJ,CAAF,CAAD,EAAejE,CAAC,CAACa,SAAjB,EAA4B,WAA5B,EAAyC,KAAK,CAA9C,CAAV;;EACAkI,UAAU,CAAC,CAACnJ,CAAC,CAACJ,EAAE,CAACyE,IAAJ,CAAF,CAAD,EAAejE,CAAC,CAACa,SAAjB,EAA4B,YAA5B,EAA0C,KAAK,CAA/C,CAAV;;EACAkI,UAAU,CAAC,CAACnJ,CAAC,CAACJ,EAAE,CAACyE,IAAJ,CAAF,CAAD,EAAejE,CAAC,CAACa,SAAjB,EAA4B,WAA5B,EAAyC,KAAK,CAA9C,CAAV;;EACAkI,UAAU,CAAC,CAACnJ,CAAC,CAACJ,EAAE,CAACyE,IAAJ,CAAF,CAAD,EAAejE,CAAC,CAACa,SAAjB,EAA4B,UAA5B,EAAwC,KAAK,CAA7C,CAAV;;EACAkI,UAAU,CAAC,CAACnJ,CAAC,CAACJ,EAAE,CAACyE,IAAJ,CAAF,CAAD,EAAejE,CAAC,CAACa,SAAjB,EAA4B,WAA5B,EAAyC,KAAK,CAA9C,CAAV;;EACAkI,UAAU,CAAC,CAACnJ,CAAC,CAACJ,EAAE,CAACwJ,OAAJ,CAAF,CAAD,EAAkBhJ,CAAC,CAACa,SAApB,EAA+B,SAA/B,EAA0C,KAAK,CAA/C,CAAV;;EACAkI,UAAU,CAAC,CAACnJ,CAAC,CAACJ,EAAE,CAACyE,IAAJ,CAAF,CAAD,EAAejE,CAAC,CAACa,SAAjB,EAA4B,aAA5B,EAA2C,KAAK,CAAhD,CAAV;;EACAkI,UAAU,CAAC,CAACnJ,CAAC,CAACJ,EAAE,CAACyJ,MAAJ,CAAF,CAAD,EAAiBjJ,CAAC,CAACa,SAAnB,EAA8B,cAA9B,EAA8C,KAAK,CAAnD,CAAV;;EACAkI,UAAU,CAAC,CAACnJ,CAAC,CAACJ,EAAE,CAACyJ,MAAJ,CAAF,CAAD,EAAiBjJ,CAAC,CAACa,SAAnB,EAA8B,aAA9B,EAA6C,KAAK,CAAlD,CAAV;;EACA,OAAOkI,UAAU,CAAC,CAACrJ,CAAD,CAAD,EAAMM,CAAN,CAAjB;AACH,CA9QO,CA8QLtB,UAAU,CAACwK,SA9QN,CAAR;;AA+QAC,OAAO,WAAP,GAAkBrJ,CAAlB","sourceRoot":"/","sourcesContent":["var o;\r\nvar $assetsLoader = require(\"./AssetsLoader\");\r\nvar $assetsMap = require(\"./AssetsMap\");\r\nvar $resUtil = require(\"./ResUtil\");\r\nvar $eventManager = require(\"./EventManager\");\r\nvar $popupManager = require(\"./PopupManager\");\r\nvar $uIManager = require(\"./UIManager\");\r\nvar $popupView = require(\"./PopupView\");\r\nvar $audioPlayer = require(\"./AudioPlayer\");\r\nvar $platform = require(\"./Platform\");\r\nvar $remoteAudio = require(\"./RemoteAudio\");\r\nvar $seedUtil = require(\"./SeedUtil\");\r\nvar $battleContext = require(\"./BattleContext\");\r\nvar $configContext = require(\"./ConfigContext\");\r\nvar $equipmentContext = require(\"./EquipmentContext\");\r\nvar $localEventName = require(\"./LocalEventName\");\r\nvar $roleContext = require(\"./RoleContext\");\r\nvar $skillContext = require(\"./SkillContext\");\r\nvar $userDataContext = require(\"./UserDataContext\");\r\nvar $gameGemInfo = require(\"./GameGemInfo\");\r\nvar C = cc._decorator;\r\nvar I = C.ccclass;\r\nvar P = C.property;\r\nvar R = (function (t) {\r\n    function e() {\r\n        var e = (null !== t && t.apply(this, arguments)) || this;\r\n        e.headLayer = null;\r\n        e.gradeLayer = null;\r\n        e.roleLayer = null;\r\n        e.musicBtn = null;\r\n        e.btnEffect = null;\r\n        e.editBox = null;\r\n        e.btnExchange = null;\r\n        e.effectSlider = null;\r\n        e.musicSlider = null;\r\n        return e;\r\n    }\r\n    __extends(e, t);\r\n    e.prototype.onResetView = function () {\r\n        var t = this;\r\n        var e = function (e) {\r\n            var o = i.headLayer.children[e].getComponent(cc.Sprite);\r\n            $assetsLoader.default.instance.loadRes(\r\n                $assetsMap.BundleNames.Public_Res,\r\n                [\"/head_icon/tx\" + (e + 1)],\r\n                cc.SpriteFrame,\r\n                null,\r\n                function (e, i) {\r\n                    var n = i[0];\r\n                    if (n && cc.isValid(o)) {\r\n                        o.spriteFrame = $resUtil.ResUtil.assignWith(n, t.node);\r\n                    }\r\n                }\r\n            );\r\n        };\r\n        var i = this;\r\n        for (var o = 0; o < 4; o++) {\r\n            e(o);\r\n        }\r\n        this.renderTx();\r\n        var n = 150 + 35 * ($userDataContext.default.Ins.gradeInfo.grade - 1);\r\n        this.gradeLayer.children[0].getComponent(cc.Label).string =\r\n            $userDataContext.default.Ins.gradeInfo.grade.toString();\r\n        this.gradeLayer.children[1].getComponent(cc.Sprite).fillRange = $userDataContext.default.Ins.gradeInfo.exp / n;\r\n        this.gradeLayer.children[2].getComponent(cc.Label).string =\r\n            $userDataContext.default.Ins.gradeInfo.exp + \"/\" + n;\r\n        this.renderAtk();\r\n        var s = $battleContext.default.Ins.getLastRecord();\r\n        var c = this.roleLayer.children[1].getComponent(cc.Label);\r\n        0 === s.level ? (c.string = \"-\") : (c.string = \"第\" + s.level + \"关\");\r\n        this.render(1);\r\n        this.render(2);\r\n    };\r\n    e.prototype.render = function (t) {\r\n        var e = 1 === t ? this.musicBtn : this.btnEffect;\r\n        var i = 1 === t ? this.musicSlider : this.effectSlider;\r\n        var o = $userDataContext.default.Ins.getMedias(t);\r\n        e.children[0].active = !o;\r\n        var n = $userDataContext.default.Ins.getMediaVol(t);\r\n        if (!o) {\r\n            n = 0;\r\n        }\r\n        i.progress = n;\r\n        i.node.children[1].width = i.node.width * n;\r\n        1 === t ? $audioPlayer.default.setMusicVolume(n) : $audioPlayer.default.setEffectVolume(n);\r\n    };\r\n    e.prototype.renderAtk = function () {\r\n        var t = this.roleLayer.children[0].getComponent(cc.Label);\r\n        var e = 0;\r\n        if ($gameGemInfo.GameGemInfo.ins.hasGem($gameGemInfo.GemType.Attack)) {\r\n            e = $gameGemInfo.GameGemInfo.ins.get1($gameGemInfo.GemType.Attack);\r\n        }\r\n        e += $equipmentContext.default.Ins.getEquipmentAtk() + $equipmentContext.default.Ins.getAtk();\r\n        t.string = \"\" + e;\r\n    };\r\n    e.prototype.renderTx = function () {\r\n        this.headLayer.children[4].position =\r\n            this.headLayer.children[$userDataContext.default.Ins.headIndex].position.clone();\r\n    };\r\n    e.prototype.addEvent = function () {\r\n        for (var t = 0; t < 4; t++) {\r\n            this.headLayer.children[t].on(cc.Node.EventType.TOUCH_START, this.touchItem, this);\r\n        }\r\n        this.musicBtn.on(\"click\", this.clickMusic, this);\r\n        this.btnEffect.on(\"click\", this.clickEffect, this);\r\n        this.btnExchange.on(\"click\", this.clickExchange, this);\r\n    };\r\n    e.prototype.removeEvent = function () {\r\n        for (var t = 0; t < 4; t++) {\r\n            this.headLayer.children[t].off(cc.Node.EventType.TOUCH_START, this.touchItem, this);\r\n        }\r\n        this.musicBtn.off(\"click\", this.clickMusic, this);\r\n        this.btnEffect.off(\"click\", this.clickEffect, this);\r\n        this.btnExchange.off(\"click\", this.clickExchange, this);\r\n    };\r\n    e.prototype.touchItem = function (t) {\r\n        var e = this.headLayer.children.indexOf(t.target);\r\n        if (e !== $userDataContext.default.Ins.headIndex) {\r\n            $remoteAudio.default.instance.playEffectMusic(\"Click\");\r\n            $userDataContext.default.Ins.setHeadIndex(e);\r\n            this.renderTx();\r\n            $eventManager.default.send($localEventName.default.RENDER_HEAD);\r\n        }\r\n    };\r\n    e.prototype.clickMusic = function () {\r\n        var t = $userDataContext.default.Ins.getMedias(1);\r\n        var e = $userDataContext.default.Ins.getMediaVol(1);\r\n        t = !t;\r\n        $userDataContext.default.Ins.setMedias(1, t);\r\n        t\r\n            ? (0 === e && ((e = 1), $userDataContext.default.Ins.setMediaVol(1, 1)),\r\n              $audioPlayer.default.setMusicVolume(e))\r\n            : $audioPlayer.default.setMusicVolume(0);\r\n        this.render(1);\r\n    };\r\n    e.prototype.clickEffect = function () {\r\n        var t = $userDataContext.default.Ins.getMedias(2);\r\n        var e = $userDataContext.default.Ins.getMediaVol(2);\r\n        t = !t;\r\n        $userDataContext.default.Ins.setMedias(2, t);\r\n        t\r\n            ? (0 === e && ((e = 1), $userDataContext.default.Ins.setMediaVol(2, 1)),\r\n              $audioPlayer.default.setEffectVolume(e))\r\n            : $audioPlayer.default.setEffectVolume(0);\r\n        this.render(2);\r\n    };\r\n    e.prototype.sliderEffect = function (t) {\r\n        this.caculate(2, t.progress);\r\n        this.render(2);\r\n    };\r\n    e.prototype.sliderMusic = function (t) {\r\n        this.caculate(1, t.progress);\r\n        this.render(1);\r\n    };\r\n    e.prototype.caculate = function (t, e) {\r\n        e <= 0\r\n            ? $userDataContext.default.Ins.setMediaAndVolCache(t, e, !1)\r\n            : $userDataContext.default.Ins.setMediaAndVolCache(t, e, !0);\r\n    };\r\n    e.prototype.onClickClose = function () {\r\n        t.prototype.onClickClose.call(this);\r\n        $userDataContext.default.Ins.setMediaVol(2, $userDataContext.default.Ins.getMediaVol(2));\r\n        $userDataContext.default.Ins.setMedias(2, $userDataContext.default.Ins.getMedias(2));\r\n        $userDataContext.default.Ins.setMediaVol(1, $userDataContext.default.Ins.getMediaVol(1));\r\n        $userDataContext.default.Ins.setMedias(1, $userDataContext.default.Ins.getMedias(1));\r\n    };\r\n    e.prototype.clickExchange = function () {\r\n        var t = this.editBox.string;\r\n        if (\"输入兑换码\" !== t && 0 !== t.length) {\r\n            var e = $configContext.default.instance.exchangeConfigs.find(function (e) {\r\n                return e.name === t;\r\n            });\r\n            if (!e || !e.channel.includes($platform.Platform.currPlatForm)) {\r\n                this.editBox.string = \"\";\r\n                return $uIManager.UIManager.instance.showToast(\"兑换码不存在\");\r\n            }\r\n            $userDataContext.default.Ins.addExchange(e.id)\r\n                ? ((this.editBox.string = \"\"), this.reward(e))\r\n                : ((this.editBox.string = \"\"), $uIManager.UIManager.instance.showToast(\"兑换码已使用过\"));\r\n        }\r\n    };\r\n    e.prototype.reward = function (t) {\r\n        var e = [];\r\n        for (var i = 0; i < t.tipsimg.length; i++) {\r\n            var o = t.tipsimg[i];\r\n            if (1 === o) {\r\n                $userDataContext.default.Ins.opearCoin(t.num[i]);\r\n                e.push({\r\n                    type: 1,\r\n                    num: t.num[i]\r\n                });\r\n            } else {\r\n                if (2 === o) {\r\n                    $userDataContext.default.Ins.addExp(t.num[i]);\r\n                    e.push({\r\n                        type: 2,\r\n                        num: t.num[i]\r\n                    });\r\n                } else {\r\n                    if (3 === o) {\r\n                        var n = $seedUtil.default.randomFrom(1, 6);\r\n                        n = Math.min(n, t.num[i]);\r\n                        var s = $seedUtil.default.randomCount(1, 6, n);\r\n                        var r = $seedUtil.default.splitNumber(t.num[i], n);\r\n                        for (var l = 0; l < n; l++) {\r\n                            e.push({\r\n                                type: 3,\r\n                                ext: s[l],\r\n                                num: r[l]\r\n                            });\r\n                            $userDataContext.default.Ins.opearEquipBook(s[l], r[l]);\r\n                        }\r\n                    } else {\r\n                        if (4 === o) {\r\n                            var c = $seedUtil.default.randomFrom(1, 4);\r\n                            var d = $skillContext.default.Ins.getUseSkillIds();\r\n                            c = Math.min(d.length, c);\r\n                            d = $seedUtil.default.randomArr(d, c);\r\n                            var p = $seedUtil.default.splitNumber(t.num[i], c);\r\n                            for (var f = 0; f < c; f++) {\r\n                                e.push({\r\n                                    type: 4,\r\n                                    ext: d[f],\r\n                                    num: p[f]\r\n                                });\r\n                                $userDataContext.default.Ins.opearSkillBook(d[f], p[f]);\r\n                            }\r\n                        } else {\r\n                            if (5 === o) {\r\n                                var h = this.getGem(t.num[i]);\r\n                                for (var m = 0; m < h.length; m++) {\r\n                                    e.push({\r\n                                        type: 5,\r\n                                        ext: h[m].id,\r\n                                        num: 1\r\n                                    });\r\n                                    $roleContext.default.ins.addPackItem(h[m], 1);\r\n                                }\r\n                            } else {\r\n                                6 === o\r\n                                    ? ($userDataContext.default.Ins.opearDiamond(t.num[i]),\r\n                                      e.push({\r\n                                          type: 6,\r\n                                          num: t.num[i]\r\n                                      }))\r\n                                    : 7 === o\r\n                                    ? ($userDataContext.default.Ins.opearAdCoin(t.num[i]),\r\n                                      e.push({\r\n                                          type: 12,\r\n                                          num: t.num[i]\r\n                                      }))\r\n                                    : 8 === o &&\r\n                                      ($userDataContext.default.Ins.opearUpgradeStone(t.num[i]),\r\n                                      e.push({\r\n                                          type: 7,\r\n                                          num: t.num[i]\r\n                                      }));\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            $popupManager.PopupManager.instance.open($assetsMap.AssetsMap.PopUpBundles.prefabs.assetsList.RewardView, {\r\n                infos: e\r\n            });\r\n        }\r\n    };\r\n    e.prototype.getGem = function (t) {\r\n        var e = $configContext.default.instance.gemBoxConfigs[0];\r\n        var i = $seedUtil.default.weightRandomCount(e.weight, t, !0);\r\n        var o = [];\r\n        var n = function (t) {\r\n            var e = i[t] + 1;\r\n            var n = $configContext.default.instance.gemConfigs.filter(function (t) {\r\n                return t.Grade === e;\r\n            });\r\n            o[t] = n[$seedUtil.default.randomFrom(0, n.length - 1)];\r\n        };\r\n        for (var s = 0; s < i.length; s++) {\r\n            n(s);\r\n        }\r\n        return o;\r\n    };\r\n    __decorate([P(cc.Node)], e.prototype, \"headLayer\", void 0);\r\n    __decorate([P(cc.Node)], e.prototype, \"gradeLayer\", void 0);\r\n    __decorate([P(cc.Node)], e.prototype, \"roleLayer\", void 0);\r\n    __decorate([P(cc.Node)], e.prototype, \"musicBtn\", void 0);\r\n    __decorate([P(cc.Node)], e.prototype, \"btnEffect\", void 0);\r\n    __decorate([P(cc.EditBox)], e.prototype, \"editBox\", void 0);\r\n    __decorate([P(cc.Node)], e.prototype, \"btnExchange\", void 0);\r\n    __decorate([P(cc.Slider)], e.prototype, \"effectSlider\", void 0);\r\n    __decorate([P(cc.Slider)], e.prototype, \"musicSlider\", void 0);\r\n    return __decorate([I], e);\r\n})($popupView.PopupView);\r\nexports.default = R;\r\n"]}