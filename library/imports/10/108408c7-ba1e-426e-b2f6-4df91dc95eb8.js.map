{"version":3,"sources":["assets\\game_script\\scripts\\OnlineListItem.js"],"names":["o","$assetsLoader","require","$assetsMap","$resUtil","$eventManager","$popupManager","$platform","$remoteAudio","$seedUtil","$util","$aD","$adService","$localEventName","$onlineContext","$skillContext","$userDataContext","$startView","w","cc","_decorator","A","ccclass","S","property","C","t","e","apply","arguments","titleLaleb","btnGain","iconSp","countLable","timeLable","redDot","config","__extends","prototype","start","on","clickGain","init","string","name","num","toString","renderIcon","render","refresh","Ins","getTime","time","schedule","hasGain","id","active","updateMaterialState","getComponent","Button","interactable","getComponentInChildren","Label","children","receivetype","i","reward","BundleNames","Public","Public_Res","instance","loadRes","SpriteFrame","isValid","spriteFrame","ResUtil","assignWith","node","playEffectMusic","gain","showRewardedVideo","Platform","currPlatForm","PlatformEnum","TOU_TIAO","toutiao","report","setRecrodGain","opearDiamond","push","type","opearCoin","getUseSkillIds","randomFrom","length","ext","opearSkillBook","opearEquipBook","opearUpgradeStone","opearPower","send","RENDER_DOT","MenuType","ALL","PopupManager","open","AssetsMap","PopUpBundles","prefabs","assetsList","RewardView","infos","renderDot","unschedule","formatDate","__decorate","Node","Sprite","Component","exports"],"mappings":"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","sourceRoot":"/","sourcesContent":["var o;\r\nvar $assetsLoader = require(\"./AssetsLoader\");\r\nvar $assetsMap = require(\"./AssetsMap\");\r\nvar $resUtil = require(\"./ResUtil\");\r\nvar $eventManager = require(\"./EventManager\");\r\nvar $popupManager = require(\"./PopupManager\");\r\nvar $platform = require(\"./Platform\");\r\nvar $remoteAudio = require(\"./RemoteAudio\");\r\nvar $seedUtil = require(\"./SeedUtil\");\r\nvar $util = require(\"./Util\");\r\nvar $aD = require(\"./AD\");\r\nvar $adService = require(\"./AdService\");\r\nvar $localEventName = require(\"./LocalEventName\");\r\nvar $onlineContext = require(\"./OnlineContext\");\r\nvar $skillContext = require(\"./SkillContext\");\r\nvar $userDataContext = require(\"./UserDataContext\");\r\nvar $startView = require(\"./StartView\");\r\nvar w = cc._decorator;\r\nvar A = w.ccclass;\r\nvar S = w.property;\r\nvar C = (function (t) {\r\n    function e() {\r\n        var e = (null !== t && t.apply(this, arguments)) || this;\r\n        e.titleLaleb = null;\r\n        e.btnGain = null;\r\n        e.iconSp = null;\r\n        e.countLable = null;\r\n        e.timeLable = null;\r\n        e.redDot = null;\r\n        e.config = null;\r\n        return e;\r\n    }\r\n    __extends(e, t);\r\n    e.prototype.start = function () {\r\n        this.btnGain.on(\"click\", this.clickGain, this);\r\n    };\r\n    e.prototype.init = function (t) {\r\n        this.config = t;\r\n        this.titleLaleb.string = t.name;\r\n        this.countLable.string = t.num.toString();\r\n        this.renderIcon();\r\n        this.render();\r\n        this.refresh();\r\n        if (!($onlineContext.default.Ins.getTime() >= this.config.time)) {\r\n            this.schedule(this.refresh, 1);\r\n        }\r\n    };\r\n    e.prototype.render = function () {\r\n        if ($onlineContext.default.Ins.hasGain(this.config.id)) {\r\n            this.btnGain.active = !1;\r\n        } else {\r\n            {\r\n                this.btnGain.active = !0;\r\n                var t = $onlineContext.default.Ins.getTime() >= this.config.time;\r\n                $util.default.updateMaterialState(this.btnGain, !t);\r\n                this.btnGain.getComponent(cc.Button).interactable = t;\r\n                this.btnGain.getComponentInChildren(cc.Label).string = t ? \"领取\" : \"未达成\";\r\n                this.btnGain.children[1].active = 1 === this.config.receivetype && t;\r\n            }\r\n        }\r\n    };\r\n    e.prototype.renderIcon = function () {\r\n        var t = this;\r\n        var e = \"\";\r\n        var i = \"\";\r\n        1 === this.config.reward\r\n            ? ((e = $assetsMap.BundleNames.Public), (i = \"/textures/gem/zuanshi\"))\r\n            : 2 === this.config.reward\r\n            ? ((e = $assetsMap.BundleNames.Public), (i = \"/textures/gem/jinbi\"))\r\n            : 3 === this.config.reward\r\n            ? ((e = $assetsMap.BundleNames.Public_Res), (i = \"/skill_book/jn0\"))\r\n            : 4 === this.config.reward\r\n            ? ((e = $assetsMap.BundleNames.Public_Res), (i = \"/equipment_icon/zb0\"))\r\n            : 6 === this.config.reward\r\n            ? ((e = $assetsMap.BundleNames.Public), (i = \"/textures/gem/upgrade_sone\"))\r\n            : 7 === this.config.reward && ((e = $assetsMap.BundleNames.Public), (i = \"/textures/gem/tili\"));\r\n        $assetsLoader.default.instance.loadRes(e, [i], cc.SpriteFrame, null, function (e, i) {\r\n            var o = i[0];\r\n            if (o && cc.isValid(t.iconSp)) {\r\n                t.iconSp.spriteFrame = $resUtil.ResUtil.assignWith(o, t.node);\r\n            }\r\n        });\r\n    };\r\n    e.prototype.clickGain = function () {\r\n        var t = this;\r\n        $remoteAudio.default.instance.playEffectMusic(\"Click\");\r\n        1 !== this.config.receivetype\r\n            ? this.gain()\r\n            : $adService.default.Ins.showRewardedVideo(function () {\r\n                  if ($platform.Platform.currPlatForm === $platform.PlatformEnum.TOU_TIAO) {\r\n                      if (1200 === t.config.time) {\r\n                          $aD.default.toutiao.report(\"Online_Rewards_1\");\r\n                      }\r\n                      if (1800 === t.config.time) {\r\n                          $aD.default.toutiao.report(\"Online_Rewards_2\");\r\n                      }\r\n                  }\r\n                  t.gain();\r\n              });\r\n    };\r\n    e.prototype.gain = function () {\r\n        $onlineContext.default.Ins.setRecrodGain(this.config.id);\r\n        var t = [];\r\n        if (1 === this.config.reward) {\r\n            $userDataContext.default.Ins.opearDiamond(this.config.num);\r\n            t.push({\r\n                type: 6,\r\n                num: this.config.num\r\n            });\r\n        } else {\r\n            if (2 === this.config.reward) {\r\n                $userDataContext.default.Ins.opearCoin(this.config.num);\r\n                t.push({\r\n                    type: 1,\r\n                    num: this.config.num\r\n                });\r\n            } else {\r\n                if (3 === this.config.reward) {\r\n                    var e = $skillContext.default.Ins.getUseSkillIds();\r\n                    var i = e[$seedUtil.default.randomFrom(0, e.length - 1)];\r\n                    t.push({\r\n                        type: 4,\r\n                        ext: i,\r\n                        num: this.config.num\r\n                    });\r\n                    $userDataContext.default.Ins.opearSkillBook(i, this.config.num);\r\n                } else {\r\n                    if (4 === this.config.reward) {\r\n                        var o = $seedUtil.default.randomFrom(1, 6);\r\n                        t.push({\r\n                            type: 3,\r\n                            ext: o,\r\n                            num: this.config.num\r\n                        });\r\n                        $userDataContext.default.Ins.opearEquipBook(o, this.config.num);\r\n                    } else {\r\n                        6 === this.config.reward\r\n                            ? (t.push({\r\n                                  type: 7,\r\n                                  num: this.config.num\r\n                              }),\r\n                              $userDataContext.default.Ins.opearUpgradeStone(this.config.num))\r\n                            : 7 === this.config.reward &&\r\n                              (t.push({\r\n                                  type: 8,\r\n                                  num: this.config.num\r\n                              }),\r\n                              $userDataContext.default.Ins.opearPower(this.config.num));\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        $eventManager.default.send($localEventName.default.RENDER_DOT, $startView.MenuType.ALL);\r\n        $popupManager.PopupManager.instance.open($assetsMap.AssetsMap.PopUpBundles.prefabs.assetsList.RewardView, {\r\n            infos: t\r\n        });\r\n        this.render();\r\n        this.renderDot();\r\n    };\r\n    e.prototype.refresh = function () {\r\n        this.renderDot();\r\n        if (this.config.time <= $onlineContext.default.Ins.getTime()) {\r\n            this.unschedule(this.refresh);\r\n            this.timeLable.node.active = !1;\r\n            this.render();\r\n        }\r\n        var t = $util.default.formatDate(this.config.time - $onlineContext.default.Ins.getTime());\r\n        this.timeLable.string = t[1] + \":\" + t[2];\r\n    };\r\n    e.prototype.renderDot = function () {\r\n        this.redDot.active =\r\n            this.config.time <= $onlineContext.default.Ins.getTime() &&\r\n            !$onlineContext.default.Ins.hasGain(this.config.id);\r\n    };\r\n    __decorate([S(cc.Label)], e.prototype, \"titleLaleb\", void 0);\r\n    __decorate([S(cc.Node)], e.prototype, \"btnGain\", void 0);\r\n    __decorate([S(cc.Sprite)], e.prototype, \"iconSp\", void 0);\r\n    __decorate([S(cc.Label)], e.prototype, \"countLable\", void 0);\r\n    __decorate([S(cc.Label)], e.prototype, \"timeLable\", void 0);\r\n    __decorate([S(cc.Node)], e.prototype, \"redDot\", void 0);\r\n    return __decorate([A], e);\r\n})(cc.Component);\r\nexports.default = C;\r\n"]}