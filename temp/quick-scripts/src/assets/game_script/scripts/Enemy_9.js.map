{"version":3,"sources":["assets\\game_script\\scripts\\Enemy_9.js"],"names":["o","$seedUtil","require","$baseBullet","$baseEnemy","$enemyStatus","$healthBar","d","cc","_decorator","p","ccclass","f","property","h","t","e","apply","arguments","healthBar","leftTime","initTime","__extends","prototype","initEnemy","i","call","value","init","statusManager","hp","hp_num","sufferAttack","isDie","render","clearStatus","sufferDebuff","id","isDoor","type","EnemyDebuffType","BACK","addDebuff","sufferAtk","skillSpecialitys","includes","BulletSpeciality","floor","move","getPosition","x","velocity","getRandomArbitrary","speed","__decorate","exports"],"mappings":"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","sourceRoot":"/","sourcesContent":["var o;\r\nvar $seedUtil = require(\"./SeedUtil\");\r\nvar $baseBullet = require(\"./BaseBullet\");\r\nvar $baseEnemy = require(\"./BaseEnemy\");\r\nvar $enemyStatus = require(\"./EnemyStatus\");\r\nvar $healthBar = require(\"./HealthBar\");\r\nvar d = cc._decorator;\r\nvar p = d.ccclass;\r\nvar f = d.property;\r\nvar h = (function (t) {\r\n    function e() {\r\n        var e = (null !== t && t.apply(this, arguments)) || this;\r\n        e.healthBar = null;\r\n        e.leftTime = 2;\r\n        e.initTime = 2;\r\n        return e;\r\n    }\r\n    __extends(e, t);\r\n    e.prototype.initEnemy = function (e, i, o) {\r\n        if (void 0 === o) {\r\n            o = 0;\r\n        }\r\n        t.prototype.initEnemy.call(this, e, i, o);\r\n        this.initTime = e.value[0];\r\n        if (this.healthBar) {\r\n            this.healthBar.init(this.statusManager.hp, e.hp_num);\r\n        }\r\n    };\r\n    e.prototype.sufferAttack = function (e, i) {\r\n        if (this.statusManager.isDie) {\r\n            return !1;\r\n        }\r\n        var o = t.prototype.sufferAttack.call(this, e, i);\r\n        if (this.healthBar) {\r\n            this.healthBar.render(this.statusManager.hp);\r\n        }\r\n        return o;\r\n    };\r\n    e.prototype.clearStatus = function (e) {\r\n        t.prototype.clearStatus.call(this, e);\r\n        this.leftTime = this.initTime;\r\n    };\r\n    e.prototype.sufferDebuff = function (t) {\r\n        if (this.statusManager.isDie) {\r\n            return !1;\r\n        }\r\n        if (!t.id || (81 !== t.id && 227 !== t.id)) {\r\n            if (!(this.statusManager.isDie || (this.isDoor && t.type === $enemyStatus.EnemyDebuffType.BACK))) {\r\n                this.statusManager.addDebuff(t);\r\n            }\r\n        }\r\n    };\r\n    e.prototype.sufferAtk = function (e) {\r\n        return (\r\n            !this.statusManager.isDie &&\r\n            !e.skillSpecialitys.includes($baseBullet.BulletSpeciality.floor) &&\r\n            void t.prototype.sufferAtk.call(this, e)\r\n        );\r\n    };\r\n    e.prototype.move = function (e) {\r\n        this.leftTime -= e;\r\n        this.getPosition().x <= -360 || this.getPosition().x >= 360\r\n            ? (this.velocity.x = -this.velocity.x)\r\n            : this.leftTime <= 0 &&\r\n              ((this.leftTime = this.initTime),\r\n              (this.velocity.x = $seedUtil.default.getRandomArbitrary(-1, 1) * this.speed));\r\n        t.prototype.move.call(this, e);\r\n    };\r\n    __decorate([f($healthBar.default)], e.prototype, \"healthBar\", void 0);\r\n    return __decorate([p], e);\r\n})($baseEnemy.default);\r\nexports.default = h;\r\n"]}