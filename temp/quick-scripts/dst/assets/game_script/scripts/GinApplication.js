
                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/game_script/scripts/GinApplication.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'fff9dOId1NO6YBrVX3AW62g', 'GinApplication');
// game_script/scripts/GinApplication.js

"use strict";

var o;
exports.GinApplication = void 0;

var $uIManager = require("./UIManager");

var $assetsConverter = require("./AssetsConverter");

var $assetsMap = require("./AssetsMap");

var $resManager = require("./ResManager");

var $countDownUtil = require("./CountDownUtil");

var $globalHttp = require("./GlobalHttp");

var $platform = require("./Platform");

var $configContext = require("./ConfigContext");

var $skillContext = require("./SkillContext");

var $equipmentContext = require("./EquipmentContext");

var $roleContext = require("./RoleContext");

var $aD = require("./AD");

var $onlineContext = require("./OnlineContext");

var $guide = require("./Guide");

var $battleContext = require("./BattleContext");

var $util = require("./Util");

var $userDataContext = require("./UserDataContext");

var $gameContext = require("./GameContext");

var $assetsLoader = require("./AssetsLoader");

var $rankService = require("./RankService");

var $login = require("./Login");

var $geService = require("./GeService");

var $storageUtil = require("./StorageUtil");

var O = cc._decorator;
var L = O.ccclass;
var E = O.property;

var M = function (t) {
  function e() {
    var e = null !== t && t.apply(this, arguments) || this;
    e.lodingView = null;
    e.confirmView = null;
    return e;
  }

  __extends(e, t);

  e.prototype.onLoad = function () {
    $storageUtil.StorageUtil.init();
    $platform.Platform.init();
    $assetsConverter.AssetsConverter.instance.execute();
    $uIManager.UIManager.instance.init(this.node, this.lodingView, this.confirmView);
    $globalHttp.GlobalHttp.init();
    $aD["default"].init();
    $login.Login.instance.start();
    $geService.GeService.instance.start();
    $login.Login.instance.getLocalOpenID();
  };

  e.prototype.start = function () {
    var t = this;
    var e = [$assetsMap.BundleNames.Public, $assetsMap.BundleNames.Configs, $assetsMap.BundleNames.Public_Res, $assetsMap.BundleNames.Start, $assetsMap.BundleNames.Popup];
    var i = [$assetsMap.BundleNames.Public, $assetsMap.BundleNames.Resources, $assetsMap.BundleNames.Start];
    $userDataContext["default"].Ins.isEndGuide ? setTimeout(function () {
      $guide["default"].self.remove();
      t.node.removeComponent($guide["default"]);
    }, 1) : (e.push($assetsMap.BundleNames.Game), e.push($assetsMap.BundleNames.Enemy), i.push($assetsMap.BundleNames.Game));
    $platform.Platform.currPlatForm === $platform.PlatformEnum.TOU_TIAO ? $login.Login.instance.ttGetUserInfo(!0) : $platform.Platform.currPlatForm === $platform.PlatformEnum.WECHAT ? $login.Login.instance.wxGetUserInfo(!1) : $platform.Platform.currPlatForm === $platform.PlatformEnum.KS && $login.Login.instance.ksGetUserInfo(!0);
    var o = this.node.getChildByName("zg_node");
    setTimeout(function () {
      $configContext["default"].instance.loadRemote(function () {
        o.destroy();
        t.startGame(e, i);
      });
    }, 1e3);
  };

  e.prototype.startGame = function (t, e) {
    var i = this;
    $uIManager.UIManager.instance.lodingView(t, e, function () {
      return __awaiter(i, void 0, void 0, function () {
        var t;
        var e;
        var i;
        var o;
        return __generator(this, function (n) {
          switch (n.label) {
            case 0:
              this.resourcesLoadedProccess();
              return [4, $configContext["default"].instance.load()];

            case 1:
              n.sent();
              this.initModel();
              return $userDataContext["default"].Ins.isEndGuide ? ($uIManager.UIManager.instance.replaceView($assetsMap.AssetsMap.StartBundles.prefabs.assetsList.StartView), [3, 5]) : [3, 2];

            case 2:
              for ($battleContext["default"].Ins.currLevel = 1, t = [], e = $configContext["default"].instance.levelInfoConfigs.find(function (t) {
                return 1 === t.id;
              }), i = $util["default"].deepCopy(e.Monsterspool), o = 0; o < i.length; o++) {
                t.push("/prefabs/Enemy_" + i[o]);
              }

              return [4, $gameContext["default"].ins.loadLevel($battleContext["default"].Ins.currLevel)];

            case 3:
              n.sent();
              return [4, $assetsLoader["default"].instance.loadResSync($assetsMap.BundleNames.Enemy, t, cc.Prefab)];

            case 4:
              n.sent();
              $uIManager.UIManager.instance.replaceView($assetsMap.AssetsMap.GameBundles.prefabs.assetsList.GameView);
              n.label = 5;

            case 5:
              $uIManager.UIManager.instance.removeLoadingView();
              return [2];
          }
        });
      });
    }, !1);
  };

  e.prototype.initModel = function () {
    $countDownUtil.CountDownUtil.currTime = Date.now();
    $roleContext["default"].ins.init();
    $equipmentContext["default"].Ins.init();
    $skillContext["default"].Ins.init();
    $onlineContext["default"].Ins.init();
    $rankService["default"].instance.initData();
  };

  e.prototype.resourcesLoadedProccess = function () {
    $uIManager.UIManager.instance.loadBaseUI();
    $resManager.ResManager.instance.loadArray([$assetsMap.BundleNames.Popup], null, function () {
      console.log("弹窗预加载完成");
    }, !0);
  };

  e.prototype.update = function (t) {
    $countDownUtil.CountDownUtil.update(t);
    $countDownUtil.CountDownUtil.time += t;
  };

  __decorate([E(cc.Prefab)], e.prototype, "lodingView", void 0);

  __decorate([E(cc.Prefab)], e.prototype, "confirmView", void 0);

  return __decorate([L], e);
}(cc.Component);

exports.GinApplication = M;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcZ2FtZV9zY3JpcHRcXHNjcmlwdHNcXEdpbkFwcGxpY2F0aW9uLmpzIl0sIm5hbWVzIjpbIm8iLCJleHBvcnRzIiwiR2luQXBwbGljYXRpb24iLCIkdUlNYW5hZ2VyIiwicmVxdWlyZSIsIiRhc3NldHNDb252ZXJ0ZXIiLCIkYXNzZXRzTWFwIiwiJHJlc01hbmFnZXIiLCIkY291bnREb3duVXRpbCIsIiRnbG9iYWxIdHRwIiwiJHBsYXRmb3JtIiwiJGNvbmZpZ0NvbnRleHQiLCIkc2tpbGxDb250ZXh0IiwiJGVxdWlwbWVudENvbnRleHQiLCIkcm9sZUNvbnRleHQiLCIkYUQiLCIkb25saW5lQ29udGV4dCIsIiRndWlkZSIsIiRiYXR0bGVDb250ZXh0IiwiJHV0aWwiLCIkdXNlckRhdGFDb250ZXh0IiwiJGdhbWVDb250ZXh0IiwiJGFzc2V0c0xvYWRlciIsIiRyYW5rU2VydmljZSIsIiRsb2dpbiIsIiRnZVNlcnZpY2UiLCIkc3RvcmFnZVV0aWwiLCJPIiwiY2MiLCJfZGVjb3JhdG9yIiwiTCIsImNjY2xhc3MiLCJFIiwicHJvcGVydHkiLCJNIiwidCIsImUiLCJhcHBseSIsImFyZ3VtZW50cyIsImxvZGluZ1ZpZXciLCJjb25maXJtVmlldyIsIl9fZXh0ZW5kcyIsInByb3RvdHlwZSIsIm9uTG9hZCIsIlN0b3JhZ2VVdGlsIiwiaW5pdCIsIlBsYXRmb3JtIiwiQXNzZXRzQ29udmVydGVyIiwiaW5zdGFuY2UiLCJleGVjdXRlIiwiVUlNYW5hZ2VyIiwibm9kZSIsIkdsb2JhbEh0dHAiLCJMb2dpbiIsInN0YXJ0IiwiR2VTZXJ2aWNlIiwiZ2V0TG9jYWxPcGVuSUQiLCJCdW5kbGVOYW1lcyIsIlB1YmxpYyIsIkNvbmZpZ3MiLCJQdWJsaWNfUmVzIiwiU3RhcnQiLCJQb3B1cCIsImkiLCJSZXNvdXJjZXMiLCJJbnMiLCJpc0VuZEd1aWRlIiwic2V0VGltZW91dCIsInNlbGYiLCJyZW1vdmUiLCJyZW1vdmVDb21wb25lbnQiLCJwdXNoIiwiR2FtZSIsIkVuZW15IiwiY3VyclBsYXRGb3JtIiwiUGxhdGZvcm1FbnVtIiwiVE9VX1RJQU8iLCJ0dEdldFVzZXJJbmZvIiwiV0VDSEFUIiwid3hHZXRVc2VySW5mbyIsIktTIiwia3NHZXRVc2VySW5mbyIsImdldENoaWxkQnlOYW1lIiwibG9hZFJlbW90ZSIsImRlc3Ryb3kiLCJzdGFydEdhbWUiLCJfX2F3YWl0ZXIiLCJfX2dlbmVyYXRvciIsIm4iLCJsYWJlbCIsInJlc291cmNlc0xvYWRlZFByb2NjZXNzIiwibG9hZCIsInNlbnQiLCJpbml0TW9kZWwiLCJyZXBsYWNlVmlldyIsIkFzc2V0c01hcCIsIlN0YXJ0QnVuZGxlcyIsInByZWZhYnMiLCJhc3NldHNMaXN0IiwiU3RhcnRWaWV3IiwiY3VyckxldmVsIiwibGV2ZWxJbmZvQ29uZmlncyIsImZpbmQiLCJpZCIsImRlZXBDb3B5IiwiTW9uc3RlcnNwb29sIiwibGVuZ3RoIiwiaW5zIiwibG9hZExldmVsIiwibG9hZFJlc1N5bmMiLCJQcmVmYWIiLCJHYW1lQnVuZGxlcyIsIkdhbWVWaWV3IiwicmVtb3ZlTG9hZGluZ1ZpZXciLCJDb3VudERvd25VdGlsIiwiY3VyclRpbWUiLCJEYXRlIiwibm93IiwiaW5pdERhdGEiLCJsb2FkQmFzZVVJIiwiUmVzTWFuYWdlciIsImxvYWRBcnJheSIsImNvbnNvbGUiLCJsb2ciLCJ1cGRhdGUiLCJ0aW1lIiwiX19kZWNvcmF0ZSIsIkNvbXBvbmVudCJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSxJQUFJQSxDQUFKO0FBQ0FDLE9BQU8sQ0FBQ0MsY0FBUixHQUF5QixLQUFLLENBQTlCOztBQUNBLElBQUlDLFVBQVUsR0FBR0MsT0FBTyxDQUFDLGFBQUQsQ0FBeEI7O0FBQ0EsSUFBSUMsZ0JBQWdCLEdBQUdELE9BQU8sQ0FBQyxtQkFBRCxDQUE5Qjs7QUFDQSxJQUFJRSxVQUFVLEdBQUdGLE9BQU8sQ0FBQyxhQUFELENBQXhCOztBQUNBLElBQUlHLFdBQVcsR0FBR0gsT0FBTyxDQUFDLGNBQUQs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QUFELENBQUQsRUFBTU0sQ0FBTixDQUFqQjtBQUNILENBOUlPLENBOElMUixFQUFFLENBQUNtRyxTQTlJRSxDQUFSOztBQStJQTlILE9BQU8sQ0FBQ0MsY0FBUixHQUF5QmdDLENBQXpCIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgbztcclxuZXhwb3J0cy5HaW5BcHBsaWNhdGlvbiA9IHZvaWQgMDtcclxudmFyICR1SU1hbmFnZXIgPSByZXF1aXJlKFwiLi9VSU1hbmFnZXJcIik7XHJcbnZhciAkYXNzZXRzQ29udmVydGVyID0gcmVxdWlyZShcIi4vQXNzZXRzQ29udmVydGVyXCIpO1xyXG52YXIgJGFzc2V0c01hcCA9IHJlcXVpcmUoXCIuL0Fzc2V0c01hcFwiKTtcclxudmFyICRyZXNNYW5hZ2VyID0gcmVxdWlyZShcIi4vUmVzTWFuYWdlclwiKTtcclxudmFyICRjb3VudERvd25VdGlsID0gcmVxdWlyZShcIi4vQ291bnREb3duVXRpbFwiKTtcclxudmFyICRnbG9iYWxIdHRwID0gcmVxdWlyZShcIi4vR2xvYmFsSHR0cFwiKTtcclxudmFyICRwbGF0Zm9ybSA9IHJlcXVpcmUoXCIuL1BsYXRmb3JtXCIpO1xyXG52YXIgJGNvbmZpZ0NvbnRleHQgPSByZXF1aXJlKFwiLi9Db25maWdDb250ZXh0XCIpO1xyXG52YXIgJHNraWxsQ29udGV4dCA9IHJlcXVpcmUoXCIuL1NraWxsQ29udGV4dFwiKTtcclxudmFyICRlcXVpcG1lbnRDb250ZXh0ID0gcmVxdWlyZShcIi4vRXF1aXBtZW50Q29udGV4dFwiKTtcclxudmFyICRyb2xlQ29udGV4dCA9IHJlcXVpcmUoXCIuL1JvbGVDb250ZXh0XCIpO1xyXG52YXIgJGFEID0gcmVxdWlyZShcIi4vQURcIik7XHJcbnZhciAkb25saW5lQ29udGV4dCA9IHJlcXVpcmUoXCIuL09ubGluZUNvbnRleHRcIik7XHJcbnZhciAkZ3VpZGUgPSByZXF1aXJlKFwiLi9HdWlkZVwiKTtcclxudmFyICRiYXR0bGVDb250ZXh0ID0gcmVxdWlyZShcIi4vQmF0dGxlQ29udGV4dFwiKTtcclxudmFyICR1dGlsID0gcmVxdWlyZShcIi4vVXRpbFwiKTtcclxudmFyICR1c2VyRGF0YUNvbnRleHQgPSByZXF1aXJlKFwiLi9Vc2VyRGF0YUNvbnRleHRcIik7XHJcbnZhciAkZ2FtZUNvbnRleHQgPSByZXF1aXJlKFwiLi9HYW1lQ29udGV4dFwiKTtcclxudmFyICRhc3NldHNMb2FkZXIgPSByZXF1aXJlKFwiLi9Bc3NldHNMb2FkZXJcIik7XHJcbnZhciAkcmFua1NlcnZpY2UgPSByZXF1aXJlKFwiLi9SYW5rU2VydmljZVwiKTtcclxudmFyICRsb2dpbiA9IHJlcXVpcmUoXCIuL0xvZ2luXCIpO1xyXG52YXIgJGdlU2VydmljZSA9IHJlcXVpcmUoXCIuL0dlU2VydmljZVwiKTtcclxudmFyICRzdG9yYWdlVXRpbCA9IHJlcXVpcmUoXCIuL1N0b3JhZ2VVdGlsXCIpO1xyXG52YXIgTyA9IGNjLl9kZWNvcmF0b3I7XHJcbnZhciBMID0gTy5jY2NsYXNzO1xyXG52YXIgRSA9IE8ucHJvcGVydHk7XHJcbnZhciBNID0gKGZ1bmN0aW9uICh0KSB7XHJcbiAgICBmdW5jdGlvbiBlKCkge1xyXG4gICAgICAgIHZhciBlID0gKG51bGwgIT09IHQgJiYgdC5hcHBseSh0aGlzLCBhcmd1bWVudHMpKSB8fCB0aGlzO1xyXG4gICAgICAgIGUubG9kaW5nVmlldyA9IG51bGw7XHJcbiAgICAgICAgZS5jb25maXJtVmlldyA9IG51bGw7XHJcbiAgICAgICAgcmV0dXJuIGU7XHJcbiAgICB9XHJcbiAgICBfX2V4dGVuZHMoZSwgdCk7XHJcbiAgICBlLnByb3RvdHlwZS5vbkxvYWQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgJHN0b3JhZ2VVdGlsLlN0b3JhZ2VVdGlsLmluaXQoKTtcclxuICAgICAgICAkcGxhdGZvcm0uUGxhdGZvcm0uaW5pdCgpO1xyXG4gICAgICAgICRhc3NldHNDb252ZXJ0ZXIuQXNzZXRzQ29udmVydGVyLmluc3RhbmNlLmV4ZWN1dGUoKTtcclxuICAgICAgICAkdUlNYW5hZ2VyLlVJTWFuYWdlci5pbnN0YW5jZS5pbml0KHRoaXMubm9kZSwgdGhpcy5sb2RpbmdWaWV3LCB0aGlzLmNvbmZpcm1WaWV3KTtcclxuICAgICAgICAkZ2xvYmFsSHR0cC5HbG9iYWxIdHRwLmluaXQoKTtcclxuICAgICAgICAkYUQuZGVmYXVsdC5pbml0KCk7XHJcbiAgICAgICAgJGxvZ2luLkxvZ2luLmluc3RhbmNlLnN0YXJ0KCk7XHJcbiAgICAgICAgJGdlU2VydmljZS5HZVNlcnZpY2UuaW5zdGFuY2Uuc3RhcnQoKTtcclxuICAgICAgICAkbG9naW4uTG9naW4uaW5zdGFuY2UuZ2V0TG9jYWxPcGVuSUQoKTtcclxuICAgIH07XHJcbiAgICBlLnByb3RvdHlwZS5zdGFydCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgdCA9IHRoaXM7XHJcbiAgICAgICAgdmFyIGUgPSBbXHJcbiAgICAgICAgICAgICRhc3NldHNNYXAuQnVuZGxlTmFtZXMuUHVibGljLFxyXG4gICAgICAgICAgICAkYXNzZXRzTWFwLkJ1bmRsZU5hbWVzLkNvbmZpZ3MsXHJcbiAgICAgICAgICAgICRhc3NldHNNYXAuQnVuZGxlTmFtZXMuUHVibGljX1JlcyxcclxuICAgICAgICAgICAgJGFzc2V0c01hcC5CdW5kbGVOYW1lcy5TdGFydCxcclxuICAgICAgICAgICAgJGFzc2V0c01hcC5CdW5kbGVOYW1lcy5Qb3B1cFxyXG4gICAgICAgIF07XHJcbiAgICAgICAgdmFyIGkgPSBbJGFzc2V0c01hcC5CdW5kbGVOYW1lcy5QdWJsaWMsICRhc3NldHNNYXAuQnVuZGxlTmFtZXMuUmVzb3VyY2VzLCAkYXNzZXRzTWFwLkJ1bmRsZU5hbWVzLlN0YXJ0XTtcclxuICAgICAgICAkdXNlckRhdGFDb250ZXh0LmRlZmF1bHQuSW5zLmlzRW5kR3VpZGVcclxuICAgICAgICAgICAgPyBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgJGd1aWRlLmRlZmF1bHQuc2VsZi5yZW1vdmUoKTtcclxuICAgICAgICAgICAgICAgICAgdC5ub2RlLnJlbW92ZUNvbXBvbmVudCgkZ3VpZGUuZGVmYXVsdCk7XHJcbiAgICAgICAgICAgICAgfSwgMSlcclxuICAgICAgICAgICAgOiAoZS5wdXNoKCRhc3NldHNNYXAuQnVuZGxlTmFtZXMuR2FtZSksXHJcbiAgICAgICAgICAgICAgZS5wdXNoKCRhc3NldHNNYXAuQnVuZGxlTmFtZXMuRW5lbXkpLFxyXG4gICAgICAgICAgICAgIGkucHVzaCgkYXNzZXRzTWFwLkJ1bmRsZU5hbWVzLkdhbWUpKTtcclxuICAgICAgICAkcGxhdGZvcm0uUGxhdGZvcm0uY3VyclBsYXRGb3JtID09PSAkcGxhdGZvcm0uUGxhdGZvcm1FbnVtLlRPVV9USUFPXHJcbiAgICAgICAgICAgID8gJGxvZ2luLkxvZ2luLmluc3RhbmNlLnR0R2V0VXNlckluZm8oITApXHJcbiAgICAgICAgICAgIDogJHBsYXRmb3JtLlBsYXRmb3JtLmN1cnJQbGF0Rm9ybSA9PT0gJHBsYXRmb3JtLlBsYXRmb3JtRW51bS5XRUNIQVRcclxuICAgICAgICAgICAgPyAkbG9naW4uTG9naW4uaW5zdGFuY2Uud3hHZXRVc2VySW5mbyghMSlcclxuICAgICAgICAgICAgOiAkcGxhdGZvcm0uUGxhdGZvcm0uY3VyclBsYXRGb3JtID09PSAkcGxhdGZvcm0uUGxhdGZvcm1FbnVtLktTICYmICRsb2dpbi5Mb2dpbi5pbnN0YW5jZS5rc0dldFVzZXJJbmZvKCEwKTtcclxuICAgICAgICB2YXIgbyA9IHRoaXMubm9kZS5nZXRDaGlsZEJ5TmFtZShcInpnX25vZGVcIik7XHJcbiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICRjb25maWdDb250ZXh0LmRlZmF1bHQuaW5zdGFuY2UubG9hZFJlbW90ZShmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBvLmRlc3Ryb3koKTtcclxuICAgICAgICAgICAgICAgIHQuc3RhcnRHYW1lKGUsIGkpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9LCAxZTMpO1xyXG4gICAgfTtcclxuICAgIGUucHJvdG90eXBlLnN0YXJ0R2FtZSA9IGZ1bmN0aW9uICh0LCBlKSB7XHJcbiAgICAgICAgdmFyIGkgPSB0aGlzO1xyXG4gICAgICAgICR1SU1hbmFnZXIuVUlNYW5hZ2VyLmluc3RhbmNlLmxvZGluZ1ZpZXcoXHJcbiAgICAgICAgICAgIHQsXHJcbiAgICAgICAgICAgIGUsXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBfX2F3YWl0ZXIoaSwgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgdDtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgZTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgaTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgbztcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKG4pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChuLmxhYmVsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDA6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5yZXNvdXJjZXNMb2FkZWRQcm9jY2VzcygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCwgJGNvbmZpZ0NvbnRleHQuZGVmYXVsdC5pbnN0YW5jZS5sb2FkKCldO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAxOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG4uc2VudCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaW5pdE1vZGVsKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICR1c2VyRGF0YUNvbnRleHQuZGVmYXVsdC5JbnMuaXNFbmRHdWlkZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/ICgkdUlNYW5hZ2VyLlVJTWFuYWdlci5pbnN0YW5jZS5yZXBsYWNlVmlldyhcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJGFzc2V0c01hcC5Bc3NldHNNYXAuU3RhcnRCdW5kbGVzLnByZWZhYnMuYXNzZXRzTGlzdC5TdGFydFZpZXdcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFszLCA1XSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBbMywgMl07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDI6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJGJhdHRsZUNvbnRleHQuZGVmYXVsdC5JbnMuY3VyckxldmVsID0gMSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHQgPSBbXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUgPSAkY29uZmlnQ29udGV4dC5kZWZhdWx0Lmluc3RhbmNlLmxldmVsSW5mb0NvbmZpZ3MuZmluZChmdW5jdGlvbiAodCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAxID09PSB0LmlkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpID0gJHV0aWwuZGVmYXVsdC5kZWVwQ29weShlLk1vbnN0ZXJzcG9vbCksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvID0gMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbyA8IGkubGVuZ3RoO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvKytcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdC5wdXNoKFwiL3ByZWZhYnMvRW5lbXlfXCIgKyBpW29dKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0LCAkZ2FtZUNvbnRleHQuZGVmYXVsdC5pbnMubG9hZExldmVsKCRiYXR0bGVDb250ZXh0LmRlZmF1bHQuSW5zLmN1cnJMZXZlbCldO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAzOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG4uc2VudCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRhc3NldHNMb2FkZXIuZGVmYXVsdC5pbnN0YW5jZS5sb2FkUmVzU3luYyhcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRhc3NldHNNYXAuQnVuZGxlTmFtZXMuRW5lbXksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2MuUHJlZmFiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA0OlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG4uc2VudCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICR1SU1hbmFnZXIuVUlNYW5hZ2VyLmluc3RhbmNlLnJlcGxhY2VWaWV3KFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkYXNzZXRzTWFwLkFzc2V0c01hcC5HYW1lQnVuZGxlcy5wcmVmYWJzLmFzc2V0c0xpc3QuR2FtZVZpZXdcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG4ubGFiZWwgPSA1O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA1OlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICR1SU1hbmFnZXIuVUlNYW5hZ2VyLmluc3RhbmNlLnJlbW92ZUxvYWRpbmdWaWV3KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICExXHJcbiAgICAgICAgKTtcclxuICAgIH07XHJcbiAgICBlLnByb3RvdHlwZS5pbml0TW9kZWwgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgJGNvdW50RG93blV0aWwuQ291bnREb3duVXRpbC5jdXJyVGltZSA9IERhdGUubm93KCk7XHJcbiAgICAgICAgJHJvbGVDb250ZXh0LmRlZmF1bHQuaW5zLmluaXQoKTtcclxuICAgICAgICAkZXF1aXBtZW50Q29udGV4dC5kZWZhdWx0Lklucy5pbml0KCk7XHJcbiAgICAgICAgJHNraWxsQ29udGV4dC5kZWZhdWx0Lklucy5pbml0KCk7XHJcbiAgICAgICAgJG9ubGluZUNvbnRleHQuZGVmYXVsdC5JbnMuaW5pdCgpO1xyXG4gICAgICAgICRyYW5rU2VydmljZS5kZWZhdWx0Lmluc3RhbmNlLmluaXREYXRhKCk7XHJcbiAgICB9O1xyXG4gICAgZS5wcm90b3R5cGUucmVzb3VyY2VzTG9hZGVkUHJvY2Nlc3MgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgJHVJTWFuYWdlci5VSU1hbmFnZXIuaW5zdGFuY2UubG9hZEJhc2VVSSgpO1xyXG4gICAgICAgICRyZXNNYW5hZ2VyLlJlc01hbmFnZXIuaW5zdGFuY2UubG9hZEFycmF5KFxyXG4gICAgICAgICAgICBbJGFzc2V0c01hcC5CdW5kbGVOYW1lcy5Qb3B1cF0sXHJcbiAgICAgICAgICAgIG51bGwsXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwi5by556qX6aKE5Yqg6L295a6M5oiQXCIpO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAhMFxyXG4gICAgICAgICk7XHJcbiAgICB9O1xyXG4gICAgZS5wcm90b3R5cGUudXBkYXRlID0gZnVuY3Rpb24gKHQpIHtcclxuICAgICAgICAkY291bnREb3duVXRpbC5Db3VudERvd25VdGlsLnVwZGF0ZSh0KTtcclxuICAgICAgICAkY291bnREb3duVXRpbC5Db3VudERvd25VdGlsLnRpbWUgKz0gdDtcclxuICAgIH07XHJcbiAgICBfX2RlY29yYXRlKFtFKGNjLlByZWZhYildLCBlLnByb3RvdHlwZSwgXCJsb2RpbmdWaWV3XCIsIHZvaWQgMCk7XHJcbiAgICBfX2RlY29yYXRlKFtFKGNjLlByZWZhYildLCBlLnByb3RvdHlwZSwgXCJjb25maXJtVmlld1wiLCB2b2lkIDApO1xyXG4gICAgcmV0dXJuIF9fZGVjb3JhdGUoW0xdLCBlKTtcclxufSkoY2MuQ29tcG9uZW50KTtcclxuZXhwb3J0cy5HaW5BcHBsaWNhdGlvbiA9IE07XHJcbiJdfQ==