{"version":3,"sources":["assets\\game_script\\scripts\\CarSkill.js"],"names":["o","exports","CarSkill","$skillContext","require","$gameSkillInfo","a","t","e","apply","arguments","carAtkInterval","carSpeed","carBack","carSlowAdd","carSlowTime","carRange","carComboCount","carComboTime","carBurnTime","carBurnAtk","carStunParam","carEnemyAtkAddParam","isCarCloseComboAtkAdd","carBurnAdd","carSuffFreezeAdd","carSkin","__extends","prototype","chooseSkill","id","skillAtk","Skill4Param","BASIC","Ins","getSKillAtk","add_sx","getAtkInterval","skillCD","getSkillCD","skillAtkRange","caculateFinal","updateAndCalculate","ADD","DEC","push","getBasicAtk","toString","call","BaseSkill"],"mappings":"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","sourceRoot":"/","sourcesContent":["var o;\r\nexports.CarSkill = void 0;\r\nvar $skillContext = require(\"./SkillContext\");\r\nvar $gameSkillInfo = require(\"./GameSkillInfo\");\r\nvar a = (function (t) {\r\n    function e() {\r\n        var e = (null !== t && t.apply(this, arguments)) || this;\r\n        e.carAtkInterval = 0;\r\n        e.carSpeed = [0, 0, 0, 1];\r\n        e.carBack = [0, 0, 0, 1];\r\n        e.carSlowAdd = 0;\r\n        e.carSlowTime = 0;\r\n        e.carRange = 0;\r\n        e.carComboCount = 0;\r\n        e.carComboTime = 0;\r\n        e.carBurnTime = 0;\r\n        e.carBurnAtk = [0, 0, 0, 1];\r\n        e.carStunParam = [];\r\n        e.carEnemyAtkAddParam = [];\r\n        e.isCarCloseComboAtkAdd = !1;\r\n        e.carBurnAdd = 0;\r\n        e.carSuffFreezeAdd = 0;\r\n        e.carSkin = 0;\r\n        return e;\r\n    }\r\n    __extends(e, t);\r\n    e.prototype.chooseSkill = function (t) {\r\n        81 === t.id\r\n            ? ((this.skillAtk[$gameSkillInfo.Skill4Param.BASIC] = $skillContext.default.Ins.getSKillAtk(t)),\r\n              (this.carRange += t.add_sx[0]),\r\n              (this.carAtkInterval = $skillContext.default.Ins.getAtkInterval(t)),\r\n              (this.skillCD[$gameSkillInfo.Skill4Param.BASIC] = $skillContext.default.Ins.getSkillCD(t)),\r\n              (this.carBack[$gameSkillInfo.Skill4Param.BASIC] = t.add_sx[3]),\r\n              (this.carSlowAdd = t.add_sx[4]),\r\n              (this.carSpeed[$gameSkillInfo.Skill4Param.BASIC] = t.add_sx[5]),\r\n              (this.skillAtkRange[$gameSkillInfo.Skill4Param.BASIC] = t.add_sx[6]),\r\n              (this.carSlowTime = t.add_sx[8]),\r\n              (this.carComboTime = t.add_sx[9]),\r\n              (this.carComboCount += 1),\r\n              this.caculateFinal(this.skillCD, !1),\r\n              this.caculateFinal(this.carBack),\r\n              this.caculateFinal(this.carSpeed),\r\n              this.caculateFinal(this.skillAtkRange),\r\n              this.caculateFinal(this.skillAtk))\r\n            : 82 === t.id\r\n            ? this.updateAndCalculate(this.skillAtk, t.add_sx[0], $gameSkillInfo.Skill4Param.ADD)\r\n            : 83 === t.id\r\n            ? ((this.carComboCount += t.add_sx[0]),\r\n              this.isCarCloseComboAtkAdd ||\r\n                  this.updateAndCalculate(this.skillAtk, t.add_sx[1], $gameSkillInfo.Skill4Param.DEC))\r\n            : 84 === t.id\r\n            ? (this.updateAndCalculate(this.carBack, t.add_sx[0], $gameSkillInfo.Skill4Param.ADD),\r\n              this.carStunParam.push([t.add_sx[1], t.add_sx[2]]))\r\n            : 85 === t.id\r\n            ? (this.updateAndCalculate(this.carSpeed, t.add_sx[0], $gameSkillInfo.Skill4Param.ADD),\r\n              this.updateAndCalculate(this.skillCD, t.add_sx[1], $gameSkillInfo.Skill4Param.DEC, !1))\r\n            : 86 === t.id || 87 === t.id\r\n            ? (87 === t.id && (this.carSkin = 1),\r\n              this.updateAndCalculate(this.skillAtk, t.add_sx[0], $gameSkillInfo.Skill4Param.ADD),\r\n              this.updateAndCalculate(this.carBack, t.add_sx[1], $gameSkillInfo.Skill4Param.ADD))\r\n            : 88 === t.id\r\n            ? ((this.carSkin = 2),\r\n              (this.carBurnTime += t.add_sx[0]),\r\n              (this.carBurnAtk[$gameSkillInfo.Skill4Param.BASIC] = this.getBasicAtk(t.add_sx[1])),\r\n              this.caculateFinal(this.carBurnAtk))\r\n            : 89 === t.id\r\n            ? (this.carComboCount += t.add_sx[0])\r\n            : 90 === t.id\r\n            ? (this.carSlowTime += t.add_sx[0])\r\n            : 91 === t.id\r\n            ? this.carEnemyAtkAddParam.push([t.add_sx[0], t.add_sx[1]])\r\n            : 92 === t.id\r\n            ? (this.carSkin = 3)\r\n            : 94 === t.id\r\n            ? (this.isCarCloseComboAtkAdd = !0)\r\n            : 96 === t.id\r\n            ? (this.carBurnAdd += t.add_sx[0])\r\n            : 97 === t.id\r\n            ? this.carStunParam.push([t.add_sx[0], t.add_sx[1]])\r\n            : 99 === t.id && (this.carSuffFreezeAdd += t.add_sx[0]);\r\n    };\r\n    e.prototype.toString = function () {\r\n        return (\r\n            t.prototype.toString.call(this) +\r\n            \"\\n            车攻击间隔:\" +\r\n            this.carAtkInterval +\r\n            \"\\n            车移动速度:\" +\r\n            this.carSpeed +\r\n            \"\\n            车基础击退像素:\" +\r\n            this.carBack +\r\n            \"\\n            车减速系数:\" +\r\n            this.carSlowAdd +\r\n            \"\\n            车减速持续时间:\" +\r\n            this.carSlowTime +\r\n            \"\\n            车宽度:\" +\r\n            this.carRange +\r\n            \"\\n            车连击次数:\" +\r\n            this.carComboCount +\r\n            \"\\n            车连发间隔:\" +\r\n            this.carComboTime +\r\n            \"\\n            车燃烧时间:\" +\r\n            this.carBurnTime +\r\n            \"\\n            车燃烧伤害:\" +\r\n            this.carBurnAtk +\r\n            \"\\n            车眩晕参数:\" +\r\n            this.carStunParam +\r\n            \"\\n            车对怪物伤害加成:\" +\r\n            this.carEnemyAtkAddParam +\r\n            \"\\n            连续出击不在降低伤害:\" +\r\n            this.isCarCloseComboAtkAdd +\r\n            \"\\n            车燃烧追加敌人最大生命:\" +\r\n            this.carBurnAdd +\r\n            \"\\n            车对冰冻敌人加成:\" +\r\n            this.carSuffFreezeAdd +\r\n            \"\\n            车皮肤:\" +\r\n            this.carSkin +\r\n            \"\\n        \"\r\n        );\r\n    };\r\n    return e;\r\n})(require(\"./BaseSkill\").BaseSkill);\r\nexports.CarSkill = a;\r\n"]}