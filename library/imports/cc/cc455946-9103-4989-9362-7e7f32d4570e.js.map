{"version":3,"sources":["assets\\game_script\\scripts\\Bullet_15.js"],"names":["o","$object","require","$countDownUtil","$gameContext","$gameSkillInfo","$enemyStatus","$baseBullet","p","cc","_decorator","f","ccclass","h","property","t","e","apply","arguments","buttleType","BulletType","thunder_matrix","leftTime","__extends","prototype","initButtle","i","call","atk","skillParam","thunderMatrixAtk","Skill4Param","FINAL","thunderMatrixTime","thunderMatrixRange","setScale","v3","onTrigger","object","Trigger","stay","CountDownUtil","time","getLastAtkTime","thunderMatrixAtkInterval","ins","gameRatio","setLastAtkTime","sufferAtk","id","skillId","skillSpecialitys","type","EnemyDebuffType","SLOW","timeLeft","thunderMatrixSpeedSlowTime","value","thunderMatrixSpeedSlow","sufferDebuff","updateFrame","removeSelf","__decorate","exports"],"mappings":"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","sourceRoot":"/","sourcesContent":["var o;\r\nvar $object = require(\"./Object\");\r\nvar $countDownUtil = require(\"./CountDownUtil\");\r\nvar $gameContext = require(\"./GameContext\");\r\nvar $gameSkillInfo = require(\"./GameSkillInfo\");\r\nvar $enemyStatus = require(\"./EnemyStatus\");\r\nvar $baseBullet = require(\"./BaseBullet\");\r\nvar p = cc._decorator;\r\nvar f = p.ccclass;\r\nvar h =\r\n    (p.property,\r\n    (function (t) {\r\n        function e() {\r\n            var e = (null !== t && t.apply(this, arguments)) || this;\r\n            e.buttleType = $baseBullet.BulletType.thunder_matrix;\r\n            e.leftTime = 0;\r\n            return e;\r\n        }\r\n        __extends(e, t);\r\n        e.prototype.initButtle = function (e, i) {\r\n            t.prototype.initButtle.call(this, e, i);\r\n            this.atk = this.skillParam.thunderMatrixAtk[$gameSkillInfo.Skill4Param.FINAL];\r\n            this.leftTime = this.skillParam.thunderMatrixTime;\r\n            var o = this.skillParam.thunderMatrixRange;\r\n            this.setScale(cc.v3(o, o));\r\n        };\r\n        e.prototype.onTrigger = function (t, e) {\r\n            var i = t.object;\r\n            if (e === $object.Trigger.stay) {\r\n                if (\r\n                    $countDownUtil.CountDownUtil.time - i.getLastAtkTime(2) <=\r\n                    this.skillParam.thunderMatrixAtkInterval / $gameContext.default.ins.gameRatio\r\n                ) {\r\n                    return;\r\n                }\r\n                i.setLastAtkTime(2, $countDownUtil.CountDownUtil.time);\r\n                i.sufferAtk({\r\n                    id: this.skillId,\r\n                    skillSpecialitys: this.skillSpecialitys,\r\n                    atk: this.atk\r\n                });\r\n                var o = {\r\n                    type: $enemyStatus.EnemyDebuffType.SLOW,\r\n                    timeLeft: this.skillParam.thunderMatrixSpeedSlowTime,\r\n                    value: this.skillParam.thunderMatrixSpeedSlow\r\n                };\r\n                i.sufferDebuff(o);\r\n            }\r\n        };\r\n        e.prototype.updateFrame = function (t) {\r\n            this.leftTime -= t;\r\n            if (this.leftTime <= 0) {\r\n                this.removeSelf();\r\n            }\r\n        };\r\n        return __decorate([f], e);\r\n    })($baseBullet.default));\r\nexports.default = h;\r\n"]}