{"version":3,"sources":["assets\\game_script\\scripts\\GameSkillInfo.js"],"names":["exports","GameSkillInfo","Skill4Param","o","n","$eventManager","require","$configContext","$localEventName","$roleContext","$gameContext","$bulletSkill","$carSkill","$dartSkill","$freezeSkill","$guideLaserSkill","$iceBombSkill","$oilSkill","$pulseLaserSkill","$thermobaricSkill","$thunderChainSkill","$thunderSkill","$windSkill","BASIC","FINAL","ADD","DEC","w","t","skinAtkRange","skinAtkTargetCount","skinAtkCd","skinBoomRange","skinAtk","skinAtkAdd","skinParam","robotParam","chooseParentRecord","Map","chooseParentTime","skillCount","prototype","init","ins","currSkinInfo","skin","e","instance","playerSkinConfigs","find","id","skill_value","chooseSkill","skillConfigsMap","get","i","is_buff","setChooseParend","skill_id","skillAtkRange","Math","ceil","skillAtk","getSkillById","hideCreateSkill","has","console","log","toString","set","createSkill","gameStartTime","chooseCount","send","ADD_SKILL_CD","getChooseParendCount","getSKill","BulletSkill","ThermobaricSkill","FreezeSkill","ThunderSkill","CarSkill","PulseLaserSkill","GuideLaserSkill","IceBombSkill","WindSkill","OilSkill","DartSkill","ThunderChainSkill","Error"],"mappings":"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","sourceRoot":"/","sourcesContent":["exports.GameSkillInfo = exports.Skill4Param = void 0;\r\nvar o;\r\nvar n;\r\nvar $eventManager = require(\"./EventManager\");\r\nvar $configContext = require(\"./ConfigContext\");\r\nvar $localEventName = require(\"./LocalEventName\");\r\nvar $roleContext = require(\"./RoleContext\");\r\nvar $gameContext = require(\"./GameContext\");\r\nvar $bulletSkill = require(\"./BulletSkill\");\r\nvar $carSkill = require(\"./CarSkill\");\r\nvar $dartSkill = require(\"./DartSkill\");\r\nvar $freezeSkill = require(\"./FreezeSkill\");\r\nvar $guideLaserSkill = require(\"./GuideLaserSkill\");\r\nvar $iceBombSkill = require(\"./IceBombSkill\");\r\nvar $oilSkill = require(\"./OilSkill\");\r\nvar $pulseLaserSkill = require(\"./PulseLaserSkill\");\r\nvar $thermobaricSkill = require(\"./ThermobaricSkill\");\r\nvar $thunderChainSkill = require(\"./ThunderChainSkill\");\r\nvar $thunderSkill = require(\"./ThunderSkill\");\r\nvar $windSkill = require(\"./WindSkill\");\r\n(n = o = exports.Skill4Param || (exports.Skill4Param = {}))[(n.BASIC = 0)] = \"BASIC\";\r\nn[(n.FINAL = 1)] = \"FINAL\";\r\nn[(n.ADD = 2)] = \"ADD\";\r\nn[(n.DEC = 3)] = \"DEC\";\r\nvar w = (function () {\r\n    function t() {\r\n        this.skinAtkRange = 350;\r\n        this.skinAtkTargetCount = 12;\r\n        this.skinAtkCd = 3;\r\n        this.skinBoomRange = 1;\r\n        this.skinAtk = 50;\r\n        this.skinAtkAdd = 0;\r\n        this.skinParam = [];\r\n        this.robotParam = [];\r\n        this.chooseParentRecord = new Map();\r\n        this.chooseParentTime = new Map();\r\n        this.skillCount = 0;\r\n    }\r\n    t.prototype.init = function () {\r\n        var t = $roleContext.default.ins.currSkinInfo.skin;\r\n        var e = $configContext.default.instance.playerSkinConfigs.find(function (e) {\r\n            return e.id === t;\r\n        });\r\n        if (t > 1) {\r\n            this.skinAtkTargetCount = e.skill_value[0];\r\n            this.skinAtkAdd = e.skill_value[1];\r\n            this.skinAtkCd = e.skill_value[2];\r\n        }\r\n        this.skinParam = e.skill_value;\r\n    };\r\n    t.prototype.chooseSkill = function (t) {\r\n        var e = $configContext.default.instance.skillConfigsMap.get(t);\r\n        var i = null;\r\n        (i =\r\n            0 === e.is_buff\r\n                ? this.setChooseParend(e.skill_id || e.id)\r\n                : this.chooseParentRecord.get(e.skill_id)).chooseSkill(e);\r\n        if (\r\n            (23 === t && 2 === $roleContext.default.ins.currSkinInfo.skin) ||\r\n            (41 === t && 3 === $roleContext.default.ins.currSkinInfo.skin) ||\r\n            (61 === t && 4 === $roleContext.default.ins.currSkinInfo.skin) ||\r\n            (81 === t && 5 === $roleContext.default.ins.currSkinInfo.skin) ||\r\n            (100 === t && 6 === $roleContext.default.ins.currSkinInfo.skin) ||\r\n            (135 === t && 7 === $roleContext.default.ins.currSkinInfo.skin)\r\n        ) {\r\n            this.skinAtkRange = i.skillAtkRange[o.BASIC];\r\n            this.skinAtk = Math.ceil(i.skillAtk[o.BASIC] * this.skinAtkAdd);\r\n        }\r\n        123 === t || 161 === t\r\n            ? this.getSkillById(61).chooseSkill(e)\r\n            : 142 === t && this.getSkillById(41).chooseSkill(e);\r\n    };\r\n    t.prototype.hideCreateSkill = function (t) {\r\n        if (!this.chooseParentRecord.has(t)) {\r\n            var e = $configContext.default.instance.skillConfigsMap.get(t);\r\n            if (0 === e.skill_id) {\r\n                var i = this.setChooseParend(t, !0);\r\n                i.chooseSkill(e);\r\n                console.log(i.toString());\r\n            }\r\n        }\r\n    };\r\n    t.prototype.setChooseParend = function (t, e) {\r\n        if (void 0 === e) {\r\n            e = !1;\r\n        }\r\n        if (!this.chooseParentRecord.has(t)) {\r\n            this.chooseParentRecord.set(t, this.createSkill(t));\r\n            this.chooseParentTime.set(t, $gameContext.default.ins.gameStartTime);\r\n        }\r\n        if (!e) {\r\n            this.chooseParentRecord.get(t).chooseCount++;\r\n            $eventManager.default.send($localEventName.default.ADD_SKILL_CD, t);\r\n        }\r\n        return this.chooseParentRecord.get(t);\r\n    };\r\n    t.prototype.getChooseParendCount = function (t) {\r\n        return this.chooseParentRecord.has(t) ? this.chooseParentRecord.get(t).chooseCount : 0;\r\n    };\r\n    t.prototype.getSkillById = function (t) {\r\n        return this.chooseParentRecord.has(t) ? this.chooseParentRecord.get(t) : null;\r\n    };\r\n    t.prototype.getSKill = function (t) {\r\n        var e = 1;\r\n        t instanceof $bulletSkill.BulletSkill\r\n            ? (e = 1)\r\n            : t instanceof $thermobaricSkill.ThermobaricSkill\r\n            ? (e = 23)\r\n            : t instanceof $freezeSkill.FreezeSkill\r\n            ? (e = 41)\r\n            : t instanceof $thunderSkill.ThunderSkill\r\n            ? (e = 61)\r\n            : t instanceof $carSkill.CarSkill\r\n            ? (e = 81)\r\n            : t instanceof $pulseLaserSkill.PulseLaserSkill\r\n            ? (e = 100)\r\n            : t instanceof $guideLaserSkill.GuideLaserSkill\r\n            ? (e = 116)\r\n            : t instanceof $iceBombSkill.IceBombSkill\r\n            ? (e = 135)\r\n            : t instanceof $windSkill.WindSkill\r\n            ? (e = 209)\r\n            : t instanceof $oilSkill.OilSkill\r\n            ? (e = 227)\r\n            : t instanceof $dartSkill.DartSkill\r\n            ? (e = 247)\r\n            : t instanceof $thunderChainSkill.ThunderChainSkill && (e = 153);\r\n        return this.getSkillById(e);\r\n    };\r\n    t.prototype.createSkill = function (t) {\r\n        switch (t) {\r\n            case 1:\r\n                return new $bulletSkill.BulletSkill();\r\n            case 23:\r\n                return new $thermobaricSkill.ThermobaricSkill();\r\n            case 41:\r\n                return new $freezeSkill.FreezeSkill();\r\n            case 61:\r\n                return new $thunderSkill.ThunderSkill();\r\n            case 81:\r\n                return new $carSkill.CarSkill();\r\n            case 100:\r\n                return new $pulseLaserSkill.PulseLaserSkill();\r\n            case 116:\r\n                return new $guideLaserSkill.GuideLaserSkill();\r\n            case 135:\r\n                return new $iceBombSkill.IceBombSkill();\r\n            case 209:\r\n                return new $windSkill.WindSkill();\r\n            case 227:\r\n                return new $oilSkill.OilSkill();\r\n            case 247:\r\n                return new $dartSkill.DartSkill();\r\n            case 153:\r\n                return new $thunderChainSkill.ThunderChainSkill();\r\n            default:\r\n                throw new Error(\"Invalid skill id\");\r\n        }\r\n    };\r\n    return t;\r\n})();\r\nexports.GameSkillInfo = w;\r\n"]}