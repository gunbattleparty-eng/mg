
                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/game_script/scripts/GameGemInfo.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '29bd9DPaExMN7/orFUyQDTg', 'GameGemInfo');
// game_script/scripts/GameGemInfo.js

"use strict";

exports.GameGemInfo = exports.GemType = void 0;
var o;
var n;

var $util = require("./Util");

var $configContext = require("./ConfigContext");

(n = o = exports.GemType || (exports.GemType = {}))[n.Attack = 0] = "Attack";
n[n.CriticalHit = 1] = "CriticalHit";
n[n.CriticalHurt = 2] = "CriticalHurt";
n[n.GunHurt = 3] = "GunHurt";
n[n.FreezeHurt = 4] = "FreezeHurt";
n[n.ThermobaricHurt = 5] = "ThermobaricHurt";
n[n.ThunderHurt = 6] = "ThunderHurt";
n[n.FireHurt = 7] = "FireHurt";
n[n.ThunderSystemHurt = 8] = "ThunderSystemHurt";
n[n.TnergySystemHurt = 9] = "TnergySystemHurt";
n[n.FloorSystemHurt = 10] = "FloorSystemHurt";
n[n.PluseSystemHurt = 11] = "PluseSystemHurt";
n[n.WindSystemHurt = 12] = "WindSystemHurt";
n[n.Enemy70Hurt = 13] = "Enemy70Hurt";
n[n.EnemyDebuffTime = 14] = "EnemyDebuffTime";
n[n.cdBuff = 15] = "cdBuff";
n[n.Befor5Hurt = 16] = "Befor5Hurt";
n[n.Test1 = 17] = "Test1";
n[n.DebuffEnemyHurt = 18] = "DebuffEnemyHurt";
n[n.AtkFloat = 19] = "AtkFloat";
n[n.AddMaxHurt = 20] = "AddMaxHurt";
n[n.CriticalADDHurt = 21] = "CriticalADDHurt";
n[n.KillEnemy = 22] = "KillEnemy";
n[n.TransferCreatePoint = 23] = "TransferCreatePoint";
n[n.IgnoreRehurt = 24] = "IgnoreRehurt";
n[n.SkillAddHurt = 25] = "SkillAddHurt";
n[n.AddSkill = 26] = "AddSkill";
n[n.MaxBloodCritical = 27] = "MaxBloodCritical";
n[n.StartChooseSKill = 28] = "StartChooseSKill";
n[n.Choose4Skill = 29] = "Choose4Skill";
n[n.WallAdd = 30] = "WallAdd";
n[n.WallDefAndEnemyAddHurt = 31] = "WallDefAndEnemyAddHurt";
n[n.DistanceHurtAdd = 32] = "DistanceHurtAdd";
n[n.WallBloodAtk1 = 33] = "WallBloodAtk1";
n[n.WallBloodAtk2 = 34] = "WallBloodAtk2";
n[n.WallBloodDef = 35] = "WallBloodDef";
n[n.WallAddAtk = 36] = "WallAddAtk";
n[n.KillEnemyAddWallBlood1 = 37] = "KillEnemyAddWallBlood1";
n[n.SecWallBlood = 38] = "SecWallBlood";
n[n.KillEnemyAddWallBlood2 = 39] = "KillEnemyAddWallBlood2";
n[n.BoomHurt = 40] = "BoomHurt";
n[n.IceHurt = 41] = "IceHurt";

var a = function () {
  function t() {
    this.gemIds = [];
    this.skillValue = [];
  }

  t.prototype.clear = function () {
    this.gemIds.length = 0;
    this.skillValue.length = 0;
  };

  t.prototype.chooseGem = function (t) {
    this.gemIds.push(t);
    var e = $configContext["default"].instance.gemConfigs.find(function (e) {
      return e.id === t;
    });
    this.setGemProp(e.SkillPool, e.value);
  };

  t.prototype.setGemProp = function (t, e) {
    this.skillValue[t] ? this.skillValue[t][this.skillValue[t].length - 1] = $util["default"].amend(this.skillValue[t][this.skillValue[t].length - 1], e[this.skillValue[t].length - 1], "+") : this.skillValue[t] = $util["default"].deepCopy(e);
  };

  t.prototype.removeGem = function (t) {
    var e = this.gemIds.indexOf(t);

    if (e > -1) {
      this.gemIds.splice(e, 1);
    }

    var i = $configContext["default"].instance.gemConfigs.find(function (e) {
      return e.id === t;
    });
    this.skillValue[i.SkillPool] = null;
  };

  t.prototype.hasGem = function (t) {
    return !!this.skillValue[t];
  };

  t.prototype.get1 = function (t) {
    return this.skillValue[t] ? this.skillValue[t][0] : null;
  };

  t.prototype.get2 = function (t) {
    return this.skillValue[t] ? this.skillValue[t] : null;
  };

  t.prototype.hasGemId = function (t) {
    return this.gemIds.includes(t);
  };

  t.prototype.getGemDesc = function (t) {
    var e = $configContext["default"].instance.gemSkillConfigs.find(function (e) {
      return e.id === t.SkillPool;
    }).skill_text;

    for (var i = 0; i < t.show_text.length; i++) {
      var o = t.show_text[i];
      e = e.replace("$", o);
    }

    return e;
  };

  t.prototype.getGemDesc2 = function (t, e) {
    var i = $configContext["default"].instance.gemSkillConfigs.find(function (e) {
      return e.id === t;
    }).skill_text;
    var o = this.skillValue[t];

    for (var n = 0; n < o.length; n++) {
      var s = o[n].toString();

      if (1 == e[n]) {
        s = Math.round(100 * o[n]).toString() + "%";
      }

      i = i.replace("$", s);
    }

    return i;
  };

  t.prototype.caculateCD = function (t) {
    if (this.hasGem(o.cdBuff)) {
      t *= 1 + this.get1(o.cdBuff);
    }

    return t;
  };

  t.ins = new t();
  t.gemColor = [new cc.Color().fromHEX("#d4ccbe"), new cc.Color().fromHEX("#74c93a"), new cc.Color().fromHEX("#54b7f0"), new cc.Color().fromHEX("#c778ff"), new cc.Color().fromHEX("#ff8b42"), new cc.Color().fromHEX("#ff5e6e"), new cc.Color().fromHEX("#fcdd4es")];
  return t;
}();

exports.GameGemInfo = a;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcZ2FtZV9zY3JpcHRcXHNjcmlwdHNcXEdhbWVHZW1JbmZvLmpzIl0sIm5hbWVzIjpbImV4cG9ydHMiLCJHYW1lR2VtSW5mbyIsIkdlbVR5cGUiLCJvIiwibiIsIiR1dGlsIiwicmVxdWlyZSIsIiRjb25maWdDb250ZXh0IiwiQXR0YWNrIiwiQ3JpdGljYWxIaXQiLCJDcml0aWNhbEh1cnQiLCJHdW5IdXJ0IiwiRnJlZXplSHVydCIsIlRoZXJtb2JhcmljSHVydCIsIlRodW5kZXJIdXJ0IiwiRmlyZUh1cnQiLCJUaHVuZGVyU3lzdGVtSHVydCIsIlRuZXJneVN5c3RlbUh1cnQiLCJGbG9vclN5c3RlbUh1cnQiLCJQbHVzZVN5c3RlbUh1cnQiLCJXaW5kU3lzdGVtSHVydCIsIkVuZW15NzBIdXJ0IiwiRW5lbXlEZWJ1ZmZUaW1lIiwiY2RCdWZmIiwiQmVmb3I1SHVydCIsIlRlc3QxIiwiRGVidWZmRW5lbXlIdXJ0IiwiQXRrRmxvYXQiLCJBZGRNYXhIdXJ0IiwiQ3JpdGljYWxBRERIdXJ0IiwiS2lsbEVuZW15IiwiVHJhbnNmZXJDcmVhdGVQb2ludCIsIklnbm9yZVJlaHVydCIsIlNraWxsQWRkSHVydCIsIkFkZFNraWxsIiwiTWF4Qmxvb2RDcml0aWNhbCIsIlN0YXJ0Q2hvb3NlU0tpbGwiLCJDaG9vc2U0U2tpbGwiLCJXYWxsQWRkIiwiV2FsbERlZkFuZEVuZW15QWRkSHVydCIsIkRpc3RhbmNlSHVydEFkZCIsIldhbGxCbG9vZEF0azEiLCJXYWxsQmxvb2RBdGsyIiwiV2FsbEJsb29kRGVmIiwiV2FsbEFkZEF0ayIsIktpbGxFbmVteUFkZFdhbGxCbG9vZDEiLCJTZWNXYWxsQmxvb2QiLCJLaWxsRW5lbXlBZGRXYWxsQmxvb2QyIiwiQm9vbUh1cnQiLCJJY2VIdXJ0IiwiYSIsInQiLCJnZW1JZHMiLCJza2lsbFZhbHVlIiwicHJvdG90eXBlIiwiY2xlYXIiLCJsZW5ndGgiLCJjaG9vc2VHZW0iLCJwdXNoIiwiZSIsImluc3RhbmNlIiwiZ2VtQ29uZmlncyIsImZpbmQiLCJpZCIsInNldEdlbVByb3AiLCJTa2lsbFBvb2wiLCJ2YWx1ZSIsImFtZW5kIiwiZGVlcENvcHkiLCJyZW1vdmVHZW0iLCJpbmRleE9mIiwic3BsaWNlIiwiaSIsImhhc0dlbSIsImdldDEiLCJnZXQyIiwiaGFzR2VtSWQiLCJpbmNsdWRlcyIsImdldEdlbURlc2MiLCJnZW1Ta2lsbENvbmZpZ3MiLCJza2lsbF90ZXh0Iiwic2hvd190ZXh0IiwicmVwbGFjZSIsImdldEdlbURlc2MyIiwicyIsInRvU3RyaW5nIiwiTWF0aCIsInJvdW5kIiwiY2FjdWxhdGVDRCIsImlucyIsImdlbUNvbG9yIiwiY2MiLCJDb2xvciIsImZyb21IRVgiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUFBLE9BQU8sQ0FBQ0MsV0FBUixHQUFzQkQsT0FBTyxDQUFDRSxPQUFSLEdBQWtCLEtBQUssQ0FBN0M7QUFDQSxJQUFJQyxDQUFKO0FBQ0EsSUFBSUMsQ0FBSjs7QUFDQSxJQUFJQyxLQUFLLEdBQUdDLE9BQU8sQ0FBQyxRQUFELENBQW5COztBQUNBLElBQUlDLGNBQWMsR0FBR0QsT0FBTyxDQUFDLGlCQUFELENBQTVCOztBQUNBLENBQUNGLENBQUMsR0FBR0QsQ0FBQyxHQUFHSCxPQUFPLENBQUNFLE9BQVIsS0FBb0JGLE9BQU8sQ0FBQ0UsT0FBUixHQUFrQixFQUF0QyxDQUFULEVBQXFERSxDQUFDLENBQUNJLE1BQUYsR0FBVyxDQUFoRSxJQUFzRSxRQUF0RTtBQUNBSixDQUFDLENBQUVBLENBQUMsQ0FBQ0ssV0FBRixHQUFnQixDQUFsQixDQUFELEdBQXlCLGFBQXpCO0FBQ0FMLENBQUMsQ0FBRUEsQ0FBQyxDQUFDTSxZQUFGLEdBQWlCLENBQW5CLENBQUQsR0FBMEIsY0FBMUI7QUFDQU4sQ0FBQyxDQUFFQSxDQUFDLENBQUNPLE9BQUYsR0FBWSxDQUFkLENBQUQsR0FBcUIsU0FBckI7QUFDQVAsQ0FBQyxDQUFFQSxDQUFDLENBQUNRLFVBQUYsR0FBZSxDQUFqQixDQUFELEdB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LENBQXRCIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnRzLkdhbWVHZW1JbmZvID0gZXhwb3J0cy5HZW1UeXBlID0gdm9pZCAwO1xyXG52YXIgbztcclxudmFyIG47XHJcbnZhciAkdXRpbCA9IHJlcXVpcmUoXCIuL1V0aWxcIik7XHJcbnZhciAkY29uZmlnQ29udGV4dCA9IHJlcXVpcmUoXCIuL0NvbmZpZ0NvbnRleHRcIik7XHJcbihuID0gbyA9IGV4cG9ydHMuR2VtVHlwZSB8fCAoZXhwb3J0cy5HZW1UeXBlID0ge30pKVsobi5BdHRhY2sgPSAwKV0gPSBcIkF0dGFja1wiO1xyXG5uWyhuLkNyaXRpY2FsSGl0ID0gMSldID0gXCJDcml0aWNhbEhpdFwiO1xyXG5uWyhuLkNyaXRpY2FsSHVydCA9IDIpXSA9IFwiQ3JpdGljYWxIdXJ0XCI7XHJcbm5bKG4uR3VuSHVydCA9IDMpXSA9IFwiR3VuSHVydFwiO1xyXG5uWyhuLkZyZWV6ZUh1cnQgPSA0KV0gPSBcIkZyZWV6ZUh1cnRcIjtcclxublsobi5UaGVybW9iYXJpY0h1cnQgPSA1KV0gPSBcIlRoZXJtb2JhcmljSHVydFwiO1xyXG5uWyhuLlRodW5kZXJIdXJ0ID0gNildID0gXCJUaHVuZGVySHVydFwiO1xyXG5uWyhuLkZpcmVIdXJ0ID0gNyldID0gXCJGaXJlSHVydFwiO1xyXG5uWyhuLlRodW5kZXJTeXN0ZW1IdXJ0ID0gOCldID0gXCJUaHVuZGVyU3lzdGVtSHVydFwiO1xyXG5uWyhuLlRuZXJneVN5c3RlbUh1cnQgPSA5KV0gPSBcIlRuZXJneVN5c3RlbUh1cnRcIjtcclxublsobi5GbG9vclN5c3RlbUh1cnQgPSAxMCldID0gXCJGbG9vclN5c3RlbUh1cnRcIjtcclxublsobi5QbHVzZVN5c3RlbUh1cnQgPSAxMSldID0gXCJQbHVzZVN5c3RlbUh1cnRcIjtcclxublsobi5XaW5kU3lzdGVtSHVydCA9IDEyKV0gPSBcIldpbmRTeXN0ZW1IdXJ0XCI7XHJcbm5bKG4uRW5lbXk3MEh1cnQgPSAxMyldID0gXCJFbmVteTcwSHVydFwiO1xyXG5uWyhuLkVuZW15RGVidWZmVGltZSA9IDE0KV0gPSBcIkVuZW15RGVidWZmVGltZVwiO1xyXG5uWyhuLmNkQnVmZiA9IDE1KV0gPSBcImNkQnVmZlwiO1xyXG5uWyhuLkJlZm9yNUh1cnQgPSAxNildID0gXCJCZWZvcjVIdXJ0XCI7XHJcbm5bKG4uVGVzdDEgPSAxNyldID0gXCJUZXN0MVwiO1xyXG5uWyhuLkRlYnVmZkVuZW15SHVydCA9IDE4KV0gPSBcIkRlYnVmZkVuZW15SHVydFwiO1xyXG5uWyhuLkF0a0Zsb2F0ID0gMTkpXSA9IFwiQXRrRmxvYXRcIjtcclxublsobi5BZGRNYXhIdXJ0ID0gMjApXSA9IFwiQWRkTWF4SHVydFwiO1xyXG5uWyhuLkNyaXRpY2FsQURESHVydCA9IDIxKV0gPSBcIkNyaXRpY2FsQURESHVydFwiO1xyXG5uWyhuLktpbGxFbmVteSA9IDIyKV0gPSBcIktpbGxFbmVteVwiO1xyXG5uWyhuLlRyYW5zZmVyQ3JlYXRlUG9pbnQgPSAyMyldID0gXCJUcmFuc2ZlckNyZWF0ZVBvaW50XCI7XHJcbm5bKG4uSWdub3JlUmVodXJ0ID0gMjQpXSA9IFwiSWdub3JlUmVodXJ0XCI7XHJcbm5bKG4uU2tpbGxBZGRIdXJ0ID0gMjUpXSA9IFwiU2tpbGxBZGRIdXJ0XCI7XHJcbm5bKG4uQWRkU2tpbGwgPSAyNildID0gXCJBZGRTa2lsbFwiO1xyXG5uWyhuLk1heEJsb29kQ3JpdGljYWwgPSAyNyldID0gXCJNYXhCbG9vZENyaXRpY2FsXCI7XHJcbm5bKG4uU3RhcnRDaG9vc2VTS2lsbCA9IDI4KV0gPSBcIlN0YXJ0Q2hvb3NlU0tpbGxcIjtcclxublsobi5DaG9vc2U0U2tpbGwgPSAyOSldID0gXCJDaG9vc2U0U2tpbGxcIjtcclxublsobi5XYWxsQWRkID0gMzApXSA9IFwiV2FsbEFkZFwiO1xyXG5uWyhuLldhbGxEZWZBbmRFbmVteUFkZEh1cnQgPSAzMSldID0gXCJXYWxsRGVmQW5kRW5lbXlBZGRIdXJ0XCI7XHJcbm5bKG4uRGlzdGFuY2VIdXJ0QWRkID0gMzIpXSA9IFwiRGlzdGFuY2VIdXJ0QWRkXCI7XHJcbm5bKG4uV2FsbEJsb29kQXRrMSA9IDMzKV0gPSBcIldhbGxCbG9vZEF0azFcIjtcclxublsobi5XYWxsQmxvb2RBdGsyID0gMzQpXSA9IFwiV2FsbEJsb29kQXRrMlwiO1xyXG5uWyhuLldhbGxCbG9vZERlZiA9IDM1KV0gPSBcIldhbGxCbG9vZERlZlwiO1xyXG5uWyhuLldhbGxBZGRBdGsgPSAzNildID0gXCJXYWxsQWRkQXRrXCI7XHJcbm5bKG4uS2lsbEVuZW15QWRkV2FsbEJsb29kMSA9IDM3KV0gPSBcIktpbGxFbmVteUFkZFdhbGxCbG9vZDFcIjtcclxublsobi5TZWNXYWxsQmxvb2QgPSAzOCldID0gXCJTZWNXYWxsQmxvb2RcIjtcclxublsobi5LaWxsRW5lbXlBZGRXYWxsQmxvb2QyID0gMzkpXSA9IFwiS2lsbEVuZW15QWRkV2FsbEJsb29kMlwiO1xyXG5uWyhuLkJvb21IdXJ0ID0gNDApXSA9IFwiQm9vbUh1cnRcIjtcclxublsobi5JY2VIdXJ0ID0gNDEpXSA9IFwiSWNlSHVydFwiO1xyXG52YXIgYSA9IChmdW5jdGlvbiAoKSB7XHJcbiAgICBmdW5jdGlvbiB0KCkge1xyXG4gICAgICAgIHRoaXMuZ2VtSWRzID0gW107XHJcbiAgICAgICAgdGhpcy5za2lsbFZhbHVlID0gW107XHJcbiAgICB9XHJcbiAgICB0LnByb3RvdHlwZS5jbGVhciA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB0aGlzLmdlbUlkcy5sZW5ndGggPSAwO1xyXG4gICAgICAgIHRoaXMuc2tpbGxWYWx1ZS5sZW5ndGggPSAwO1xyXG4gICAgfTtcclxuICAgIHQucHJvdG90eXBlLmNob29zZUdlbSA9IGZ1bmN0aW9uICh0KSB7XHJcbiAgICAgICAgdGhpcy5nZW1JZHMucHVzaCh0KTtcclxuICAgICAgICB2YXIgZSA9ICRjb25maWdDb250ZXh0LmRlZmF1bHQuaW5zdGFuY2UuZ2VtQ29uZmlncy5maW5kKGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBlLmlkID09PSB0O1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMuc2V0R2VtUHJvcChlLlNraWxsUG9vbCwgZS52YWx1ZSk7XHJcbiAgICB9O1xyXG4gICAgdC5wcm90b3R5cGUuc2V0R2VtUHJvcCA9IGZ1bmN0aW9uICh0LCBlKSB7XHJcbiAgICAgICAgdGhpcy5za2lsbFZhbHVlW3RdXHJcbiAgICAgICAgICAgID8gKHRoaXMuc2tpbGxWYWx1ZVt0XVt0aGlzLnNraWxsVmFsdWVbdF0ubGVuZ3RoIC0gMV0gPSAkdXRpbC5kZWZhdWx0LmFtZW5kKFxyXG4gICAgICAgICAgICAgICAgICB0aGlzLnNraWxsVmFsdWVbdF1bdGhpcy5za2lsbFZhbHVlW3RdLmxlbmd0aCAtIDFdLFxyXG4gICAgICAgICAgICAgICAgICBlW3RoaXMuc2tpbGxWYWx1ZVt0XS5sZW5ndGggLSAxXSxcclxuICAgICAgICAgICAgICAgICAgXCIrXCJcclxuICAgICAgICAgICAgICApKVxyXG4gICAgICAgICAgICA6ICh0aGlzLnNraWxsVmFsdWVbdF0gPSAkdXRpbC5kZWZhdWx0LmRlZXBDb3B5KGUpKTtcclxuICAgIH07XHJcbiAgICB0LnByb3RvdHlwZS5yZW1vdmVHZW0gPSBmdW5jdGlvbiAodCkge1xyXG4gICAgICAgIHZhciBlID0gdGhpcy5nZW1JZHMuaW5kZXhPZih0KTtcclxuICAgICAgICBpZiAoZSA+IC0xKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZ2VtSWRzLnNwbGljZShlLCAxKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIGkgPSAkY29uZmlnQ29udGV4dC5kZWZhdWx0Lmluc3RhbmNlLmdlbUNvbmZpZ3MuZmluZChmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgICAgICByZXR1cm4gZS5pZCA9PT0gdDtcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLnNraWxsVmFsdWVbaS5Ta2lsbFBvb2xdID0gbnVsbDtcclxuICAgIH07XHJcbiAgICB0LnByb3RvdHlwZS5oYXNHZW0gPSBmdW5jdGlvbiAodCkge1xyXG4gICAgICAgIHJldHVybiAhIXRoaXMuc2tpbGxWYWx1ZVt0XTtcclxuICAgIH07XHJcbiAgICB0LnByb3RvdHlwZS5nZXQxID0gZnVuY3Rpb24gKHQpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5za2lsbFZhbHVlW3RdID8gdGhpcy5za2lsbFZhbHVlW3RdWzBdIDogbnVsbDtcclxuICAgIH07XHJcbiAgICB0LnByb3RvdHlwZS5nZXQyID0gZnVuY3Rpb24gKHQpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5za2lsbFZhbHVlW3RdID8gdGhpcy5za2lsbFZhbHVlW3RdIDogbnVsbDtcclxuICAgIH07XHJcbiAgICB0LnByb3RvdHlwZS5oYXNHZW1JZCA9IGZ1bmN0aW9uICh0KSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2VtSWRzLmluY2x1ZGVzKHQpO1xyXG4gICAgfTtcclxuICAgIHQucHJvdG90eXBlLmdldEdlbURlc2MgPSBmdW5jdGlvbiAodCkge1xyXG4gICAgICAgIHZhciBlID0gJGNvbmZpZ0NvbnRleHQuZGVmYXVsdC5pbnN0YW5jZS5nZW1Ta2lsbENvbmZpZ3MuZmluZChmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgICAgICByZXR1cm4gZS5pZCA9PT0gdC5Ta2lsbFBvb2w7XHJcbiAgICAgICAgfSkuc2tpbGxfdGV4dDtcclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHQuc2hvd190ZXh0Lmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIHZhciBvID0gdC5zaG93X3RleHRbaV07XHJcbiAgICAgICAgICAgIGUgPSBlLnJlcGxhY2UoXCIkXCIsIG8pO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gZTtcclxuICAgIH07XHJcbiAgICB0LnByb3RvdHlwZS5nZXRHZW1EZXNjMiA9IGZ1bmN0aW9uICh0LCBlKSB7XHJcbiAgICAgICAgdmFyIGkgPSAkY29uZmlnQ29udGV4dC5kZWZhdWx0Lmluc3RhbmNlLmdlbVNraWxsQ29uZmlncy5maW5kKGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBlLmlkID09PSB0O1xyXG4gICAgICAgIH0pLnNraWxsX3RleHQ7XHJcbiAgICAgICAgdmFyIG8gPSB0aGlzLnNraWxsVmFsdWVbdF07XHJcbiAgICAgICAgZm9yICh2YXIgbiA9IDA7IG4gPCBvLmxlbmd0aDsgbisrKSB7XHJcbiAgICAgICAgICAgIHZhciBzID0gb1tuXS50b1N0cmluZygpO1xyXG4gICAgICAgICAgICBpZiAoMSA9PSBlW25dKSB7XHJcbiAgICAgICAgICAgICAgICBzID0gTWF0aC5yb3VuZCgxMDAgKiBvW25dKS50b1N0cmluZygpICsgXCIlXCI7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaSA9IGkucmVwbGFjZShcIiRcIiwgcyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBpO1xyXG4gICAgfTtcclxuICAgIHQucHJvdG90eXBlLmNhY3VsYXRlQ0QgPSBmdW5jdGlvbiAodCkge1xyXG4gICAgICAgIGlmICh0aGlzLmhhc0dlbShvLmNkQnVmZikpIHtcclxuICAgICAgICAgICAgdCAqPSAxICsgdGhpcy5nZXQxKG8uY2RCdWZmKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHQ7XHJcbiAgICB9O1xyXG4gICAgdC5pbnMgPSBuZXcgdCgpO1xyXG4gICAgdC5nZW1Db2xvciA9IFtcclxuICAgICAgICBuZXcgY2MuQ29sb3IoKS5mcm9tSEVYKFwiI2Q0Y2NiZVwiKSxcclxuICAgICAgICBuZXcgY2MuQ29sb3IoKS5mcm9tSEVYKFwiIzc0YzkzYVwiKSxcclxuICAgICAgICBuZXcgY2MuQ29sb3IoKS5mcm9tSEVYKFwiIzU0YjdmMFwiKSxcclxuICAgICAgICBuZXcgY2MuQ29sb3IoKS5mcm9tSEVYKFwiI2M3NzhmZlwiKSxcclxuICAgICAgICBuZXcgY2MuQ29sb3IoKS5mcm9tSEVYKFwiI2ZmOGI0MlwiKSxcclxuICAgICAgICBuZXcgY2MuQ29sb3IoKS5mcm9tSEVYKFwiI2ZmNWU2ZVwiKSxcclxuICAgICAgICBuZXcgY2MuQ29sb3IoKS5mcm9tSEVYKFwiI2ZjZGQ0ZXNcIilcclxuICAgIF07XHJcbiAgICByZXR1cm4gdDtcclxufSkoKTtcclxuZXhwb3J0cy5HYW1lR2VtSW5mbyA9IGE7XHJcbiJdfQ==