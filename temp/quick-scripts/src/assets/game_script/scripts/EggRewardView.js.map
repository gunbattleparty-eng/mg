{"version":3,"sources":["assets\\game_script\\scripts\\EggRewardView.js"],"names":["o","$assetsLoader","require","$assetsMap","$resUtil","$list","$popupView","$platform","$seedUtil","$aD","$adService","$configContext","$skillContext","$userDataContext","_","cc","_decorator","k","ccclass","v","property","b","t","e","apply","arguments","list","adBtn","rewardList","__extends","prototype","onResetView","caculateReward","numItems","length","addEvent","on","clickAd","removeEvent","off","renderItem","i","type","instance","loadRes","BundleNames","Public","SpriteFrame","n","s","isValid","children","getComponent","Sprite","spriteFrame","ResUtil","assignWith","node","Label","string","num","toString","Public_Res","ext","skillConfigs","find","id","icon","push","randomFrom","randomCount","splitNumber","Ins","getUseSkillIds","Math","min","randomArr","r","showRewardedVideo","Platform","currPlatForm","PlatformEnum","TOU_TIAO","toutiao","report","opearCoin","addExp","opearEquipBook","opearSkillBook","opearDiamond","setEgg","onClickClose","call","__decorate","Node","PopupView","exports"],"mappings":"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","sourceRoot":"/","sourcesContent":["var o;\r\nvar $assetsLoader = require(\"./AssetsLoader\");\r\nvar $assetsMap = require(\"./AssetsMap\");\r\nvar $resUtil = require(\"./ResUtil\");\r\nvar $list = require(\"./List\");\r\nvar $popupView = require(\"./PopupView\");\r\nvar $platform = require(\"./Platform\");\r\nvar $seedUtil = require(\"./SeedUtil\");\r\nvar $aD = require(\"./AD\");\r\nvar $adService = require(\"./AdService\");\r\nvar $configContext = require(\"./ConfigContext\");\r\nvar $skillContext = require(\"./SkillContext\");\r\nvar $userDataContext = require(\"./UserDataContext\");\r\nvar _ = cc._decorator;\r\nvar k = _.ccclass;\r\nvar v = _.property;\r\nvar b = (function (t) {\r\n    function e() {\r\n        var e = (null !== t && t.apply(this, arguments)) || this;\r\n        e.list = null;\r\n        e.adBtn = null;\r\n        e.rewardList = [];\r\n        return e;\r\n    }\r\n    __extends(e, t);\r\n    e.prototype.onResetView = function () {\r\n        this.caculateReward();\r\n        this.list.numItems = this.rewardList.length;\r\n    };\r\n    e.prototype.addEvent = function () {\r\n        this.adBtn.on(\"click\", this.clickAd, this);\r\n    };\r\n    e.prototype.removeEvent = function () {\r\n        this.adBtn.off(\"click\", this.clickAd, this);\r\n    };\r\n    e.prototype.renderItem = function (t, e) {\r\n        var i = this;\r\n        var o = this.rewardList[e];\r\n        if (1 === o.type) {\r\n            $assetsLoader.default.instance.loadRes(\r\n                $assetsMap.BundleNames.Public,\r\n                [\"/textures/gem/jinbi\"],\r\n                cc.SpriteFrame,\r\n                null,\r\n                function (e, n) {\r\n                    var s = n[0];\r\n                    if (s && cc.isValid(t)) {\r\n                        t.children[0].getComponent(cc.Sprite).spriteFrame = null;\r\n                        t.children[1].getComponent(cc.Sprite).spriteFrame = $resUtil.ResUtil.assignWith(s, i.node);\r\n                        t.children[2].getComponent(cc.Label).string = o.num.toString();\r\n                    }\r\n                }\r\n            );\r\n        } else {\r\n            if (2 === o.type) {\r\n                $assetsLoader.default.instance.loadRes(\r\n                    $assetsMap.BundleNames.Public,\r\n                    [\"/textures/gem/exp\"],\r\n                    cc.SpriteFrame,\r\n                    null,\r\n                    function (e, n) {\r\n                        var s = n[0];\r\n                        if (s && cc.isValid(t)) {\r\n                            t.children[0].getComponent(cc.Sprite).spriteFrame = null;\r\n                            t.children[1].getComponent(cc.Sprite).spriteFrame = $resUtil.ResUtil.assignWith(s, i.node);\r\n                            t.children[2].getComponent(cc.Label).string = o.num.toString();\r\n                        }\r\n                    }\r\n                );\r\n            } else {\r\n                if (3 === o.type) {\r\n                    $assetsLoader.default.instance.loadRes(\r\n                        $assetsMap.BundleNames.Public_Res,\r\n                        [\"/equipment_icon/zb\" + o.ext],\r\n                        cc.SpriteFrame,\r\n                        null,\r\n                        function (e, n) {\r\n                            var s = n[0];\r\n                            if (s && cc.isValid(t)) {\r\n                                t.children[0].getComponent(cc.Sprite).spriteFrame = null;\r\n                                t.children[1].getComponent(cc.Sprite).spriteFrame = $resUtil.ResUtil.assignWith(\r\n                                    s,\r\n                                    i.node\r\n                                );\r\n                                t.children[2].getComponent(cc.Label).string = o.num.toString();\r\n                            }\r\n                        }\r\n                    );\r\n                } else {\r\n                    if (4 === o.type) {\r\n                        var n = $configContext.default.instance.skillConfigs.find(function (t) {\r\n                            return t.id === o.ext;\r\n                        });\r\n                        $assetsLoader.default.instance.loadRes(\r\n                            $assetsMap.BundleNames.Public_Res,\r\n                            [\"/skill_book/\" + n.icon],\r\n                            cc.SpriteFrame,\r\n                            null,\r\n                            function (e, n) {\r\n                                var s = n[0];\r\n                                if (s && cc.isValid(t)) {\r\n                                    t.children[0].getComponent(cc.Sprite).spriteFrame = null;\r\n                                    t.children[1].getComponent(cc.Sprite).spriteFrame = $resUtil.ResUtil.assignWith(\r\n                                        s,\r\n                                        i.node\r\n                                    );\r\n                                    t.children[2].getComponent(cc.Label).string = o.num.toString();\r\n                                }\r\n                            }\r\n                        );\r\n                    } else {\r\n                        if (6 === o.type) {\r\n                            $assetsLoader.default.instance.loadRes(\r\n                                $assetsMap.BundleNames.Public,\r\n                                [\"/textures/gem/zuanshi\"],\r\n                                cc.SpriteFrame,\r\n                                null,\r\n                                function (e, n) {\r\n                                    var s = n[0];\r\n                                    if (s && cc.isValid(t)) {\r\n                                        t.children[1].getComponent(cc.Sprite).spriteFrame = $resUtil.ResUtil.assignWith(\r\n                                            s,\r\n                                            i.node\r\n                                        );\r\n                                        t.children[2].getComponent(cc.Label).string = o.num.toString();\r\n                                    }\r\n                                }\r\n                            );\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    };\r\n    e.prototype.caculateReward = function () {\r\n        this.rewardList.push({\r\n            type: 1,\r\n            num: 3e3\r\n        });\r\n        this.rewardList.push({\r\n            type: 2,\r\n            num: 100\r\n        });\r\n        this.rewardList.push({\r\n            type: 6,\r\n            num: 400\r\n        });\r\n        var t = $seedUtil.default.randomFrom(1, 4);\r\n        var e = $seedUtil.default.randomCount(1, 6, t);\r\n        var i = $seedUtil.default.splitNumber(30, t);\r\n        for (var o = 0; o < t; o++) {\r\n            this.rewardList.push({\r\n                type: 3,\r\n                ext: e[o],\r\n                num: i[o]\r\n            });\r\n        }\r\n        var n = $seedUtil.default.randomFrom(1, 4);\r\n        var s = $skillContext.default.Ins.getUseSkillIds();\r\n        n = Math.min(s.length, n);\r\n        s = $seedUtil.default.randomArr(s, n);\r\n        var r = $seedUtil.default.splitNumber(100, n);\r\n        for (o = 0; o < n; o++) {\r\n            this.rewardList.push({\r\n                type: 4,\r\n                ext: s[o],\r\n                num: r[o]\r\n            });\r\n        }\r\n    };\r\n    e.prototype.clickAd = function () {\r\n        var e = this;\r\n        $adService.default.Ins.showRewardedVideo(function () {\r\n            if ($platform.Platform.currPlatForm === $platform.PlatformEnum.TOU_TIAO) {\r\n                $aD.default.toutiao.report(\"Egg_Benefits\");\r\n            }\r\n            for (var i = 0; i < e.rewardList.length; i++) {\r\n                var o = e.rewardList[i];\r\n                1 === o.type\r\n                    ? $userDataContext.default.Ins.opearCoin(o.num)\r\n                    : 2 === o.type\r\n                    ? $userDataContext.default.Ins.addExp(o.num)\r\n                    : 3 === o.type\r\n                    ? $userDataContext.default.Ins.opearEquipBook(o.ext, o.num)\r\n                    : 4 === o.type\r\n                    ? $userDataContext.default.Ins.opearSkillBook(o.ext, o.num)\r\n                    : 6 === o.type && $userDataContext.default.Ins.opearDiamond(o.num);\r\n            }\r\n            $userDataContext.default.Ins.setEgg(6, 1);\r\n            t.prototype.onClickClose.call(e);\r\n        });\r\n    };\r\n    __decorate([v($list.default)], e.prototype, \"list\", void 0);\r\n    __decorate([v(cc.Node)], e.prototype, \"adBtn\", void 0);\r\n    return __decorate([k], e);\r\n})($popupView.PopupView);\r\nexports.default = b;\r\n"]}