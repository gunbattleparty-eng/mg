{"version":3,"sources":["assets\\game_script\\scripts\\RobotShopView.js"],"names":["o","$assetsLoader","require","$assetsMap","$resUtil","$list","$uIManager","$uIView","$util","$configContext","$roleContext","$startView","$robotShopItem","g","cc","_decorator","_","ccclass","k","property","v","t","e","apply","arguments","nameLable","gunSkin","atkLabel","shardSp","shardLabel","btnSure","list","btnBack","skillSp","skillDescLabel","descIcon","gainLabel","currSkinId","__extends","prototype","onLoad","ins","currSkinInfo","robot","renderPlayer","onResetView","numItems","instance","robotConfigs","length","selectedId","addEvent","on","clickSure","clickBack","removeEvent","off","UIManager","replaceView","AssetsMap","StartBundles","prefabs","assetsList","StartView","type","MenuType","Skill","renderItem","getComponent","render","onListSelected","skinId","i","find","id","getRobotSkinInfo","string","Petsskin_name","Petsskin_attribute_describe","armatureName","loadRes","BundleNames","Public_Res","SpriteFrame","isValid","spriteFrame","ResUtil","assignWith","node","Sprite","active","Petsskin_skill_describe","parent","isHave","updateMaterialState","Button","interactable","getComponentInChildren","Label","get_describe","shard","shard_num","setCurrInfo","updateAll","setRobotSkinInfo","__decorate","dragonBones","ArmatureDisplay","Node","UIView","exports"],"mappings":"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","sourceRoot":"/","sourcesContent":["var o;\r\nvar $assetsLoader = require(\"./AssetsLoader\");\r\nvar $assetsMap = require(\"./AssetsMap\");\r\nvar $resUtil = require(\"./ResUtil\");\r\nvar $list = require(\"./List\");\r\nvar $uIManager = require(\"./UIManager\");\r\nvar $uIView = require(\"./UIView\");\r\nvar $util = require(\"./Util\");\r\nvar $configContext = require(\"./ConfigContext\");\r\nvar $roleContext = require(\"./RoleContext\");\r\nvar $startView = require(\"./StartView\");\r\nvar $robotShopItem = require(\"./RobotShopItem\");\r\nvar g = cc._decorator;\r\nvar _ = g.ccclass;\r\nvar k = g.property;\r\nvar v = (function (t) {\r\n    function e() {\r\n        var e = (null !== t && t.apply(this, arguments)) || this;\r\n        e.nameLable = null;\r\n        e.gunSkin = null;\r\n        e.atkLabel = null;\r\n        e.shardSp = null;\r\n        e.shardLabel = null;\r\n        e.btnSure = null;\r\n        e.list = null;\r\n        e.btnBack = null;\r\n        e.skillSp = null;\r\n        e.skillDescLabel = null;\r\n        e.descIcon = null;\r\n        e.gainLabel = null;\r\n        e.currSkinId = -1;\r\n        return e;\r\n    }\r\n    __extends(e, t);\r\n    e.prototype.onLoad = function () {\r\n        var t = 1 === $roleContext.default.ins.currSkinInfo.robot ? 2 : $roleContext.default.ins.currSkinInfo.robot;\r\n        this.renderPlayer(t);\r\n    };\r\n    e.prototype.onResetView = function () {\r\n        this.list.numItems = $configContext.default.instance.robotConfigs.length - 1;\r\n        this.list.selectedId = 0;\r\n    };\r\n    e.prototype.addEvent = function () {\r\n        this.btnSure.on(\"click\", this.clickSure, this);\r\n        this.btnBack.on(\"click\", this.clickBack, this);\r\n    };\r\n    e.prototype.removeEvent = function () {\r\n        this.btnSure.off(\"click\", this.clickSure, this);\r\n        this.btnBack.off(\"click\", this.clickBack, this);\r\n    };\r\n    e.prototype.clickBack = function () {\r\n        $uIManager.UIManager.instance.replaceView($assetsMap.AssetsMap.StartBundles.prefabs.assetsList.StartView, {\r\n            type: $startView.MenuType.Skill\r\n        });\r\n    };\r\n    e.prototype.renderItem = function (t, e) {\r\n        t.getComponent($robotShopItem.default).render($configContext.default.instance.robotConfigs[e + 1]);\r\n    };\r\n    e.prototype.onListSelected = function (t) {\r\n        if (t) {\r\n            var e = t.getComponent($robotShopItem.default).skinId;\r\n            this.renderPlayer(e);\r\n        }\r\n    };\r\n    e.prototype.renderPlayer = function (t) {\r\n        var e = this;\r\n        this.currSkinId = t;\r\n        var i = $configContext.default.instance.robotConfigs.find(function (e) {\r\n            return e.id === t;\r\n        });\r\n        var o = $roleContext.default.ins.getRobotSkinInfo(t);\r\n        this.nameLable.string = i.Petsskin_name;\r\n        this.atkLabel.string = \"\" + i.Petsskin_attribute_describe;\r\n        this.gunSkin.armatureName = \"hl\" + i.id;\r\n        $assetsLoader.default.instance.loadRes(\r\n            $assetsMap.BundleNames.Public_Res,\r\n            [\"/cd_icon/cw\" + i.id],\r\n            cc.SpriteFrame,\r\n            null,\r\n            function (t, i) {\r\n                var o = i[0];\r\n                if (o && cc.isValid(e.skillSp)) {\r\n                    e.skillSp.spriteFrame = $resUtil.ResUtil.assignWith(o, e.node);\r\n                    e.descIcon.getComponent(cc.Sprite).spriteFrame = o;\r\n                }\r\n            }\r\n        );\r\n        this.shardSp.node.active = !1;\r\n        this.shardLabel.node.active = !1;\r\n        this.skillDescLabel.string = i.Petsskin_skill_describe;\r\n        this.gainLabel.node.parent.active = !1;\r\n        o.isHave\r\n            ? ((this.descIcon.active = !0),\r\n              (this.skillDescLabel.node.parent.active = !0),\r\n              (this.skillSp.node.parent.active = !1),\r\n              $roleContext.default.ins.currSkinInfo.robot === t\r\n                  ? ((this.btnSure.active = !0),\r\n                    $util.default.updateMaterialState(this.btnSure, !1),\r\n                    (this.btnSure.getComponent(cc.Button).interactable = !0),\r\n                    (this.btnSure.getComponentInChildren(cc.Label).string = \"卸下\"))\r\n                  : ($util.default.updateMaterialState(this.btnSure, !1),\r\n                    (this.btnSure.getComponent(cc.Button).interactable = !0),\r\n                    (this.btnSure.getComponentInChildren(cc.Label).string = \"使用\")))\r\n            : ((this.gainLabel.node.parent.active = !0),\r\n              (this.gainLabel.string = i.get_describe),\r\n              (this.skillSp.node.parent.active = !0),\r\n              (this.descIcon.active = !1),\r\n              (this.skillDescLabel.node.parent.active = !1),\r\n              (this.shardSp.node.active = !0),\r\n              (this.shardLabel.node.active = !0),\r\n              $assetsLoader.default.instance.loadRes(\r\n                  $assetsMap.BundleNames.Public_Res,\r\n                  [\"/robot_shard/sp\" + i.id],\r\n                  cc.SpriteFrame,\r\n                  null,\r\n                  function (t, i) {\r\n                      var o = i[0];\r\n                      if (o && cc.isValid(e.shardSp)) {\r\n                          e.shardSp.spriteFrame = $resUtil.ResUtil.assignWith(o, e.node);\r\n                      }\r\n                  }\r\n              ),\r\n              (this.shardLabel.string = o.shard + \"/\" + i.shard_num),\r\n              o.shard >= i.shard_num\r\n                  ? ($util.default.updateMaterialState(this.btnSure, !1),\r\n                    (this.btnSure.getComponent(cc.Button).interactable = !0),\r\n                    (this.btnSure.getComponentInChildren(cc.Label).string = \"激活\"))\r\n                  : ($util.default.updateMaterialState(this.btnSure, !0),\r\n                    (this.btnSure.getComponent(cc.Button).interactable = !1),\r\n                    (this.btnSure.getComponentInChildren(cc.Label).string = \"激活\")));\r\n    };\r\n    e.prototype.clickSure = function () {\r\n        var t = this;\r\n        var e = $roleContext.default.ins.getRobotSkinInfo(this.currSkinId);\r\n        var i = $configContext.default.instance.robotConfigs.find(function (e) {\r\n            return e.id === t.currSkinId;\r\n        });\r\n        if (this.currSkinId === $roleContext.default.ins.currSkinInfo.robot) {\r\n            $roleContext.default.ins.currSkinInfo.robot = 1;\r\n            $roleContext.default.ins.setCurrInfo($roleContext.default.ins.currSkinInfo);\r\n            this.renderPlayer(2);\r\n            return void this.list.updateAll();\r\n        }\r\n        e.isHave\r\n            ? $roleContext.default.ins.currSkinInfo.robot !== this.currSkinId &&\r\n              (($roleContext.default.ins.currSkinInfo.robot = this.currSkinId),\r\n              $roleContext.default.ins.setCurrInfo($roleContext.default.ins.currSkinInfo),\r\n              this.renderPlayer(this.currSkinId),\r\n              this.list.updateAll())\r\n            : e.shard >= i.shard_num &&\r\n              ((e.isHave = !0),\r\n              (e.shard -= i.shard_num),\r\n              $roleContext.default.ins.setRobotSkinInfo(e),\r\n              this.renderPlayer(this.currSkinId),\r\n              this.list.updateAll());\r\n    };\r\n    __decorate([k(cc.Label)], e.prototype, \"nameLable\", void 0);\r\n    __decorate([k(dragonBones.ArmatureDisplay)], e.prototype, \"gunSkin\", void 0);\r\n    __decorate([k(cc.Label)], e.prototype, \"atkLabel\", void 0);\r\n    __decorate([k(cc.Sprite)], e.prototype, \"shardSp\", void 0);\r\n    __decorate([k(cc.Label)], e.prototype, \"shardLabel\", void 0);\r\n    __decorate([k(cc.Node)], e.prototype, \"btnSure\", void 0);\r\n    __decorate([k($list.default)], e.prototype, \"list\", void 0);\r\n    __decorate([k(cc.Node)], e.prototype, \"btnBack\", void 0);\r\n    __decorate([k(cc.Sprite)], e.prototype, \"skillSp\", void 0);\r\n    __decorate([k(cc.Label)], e.prototype, \"skillDescLabel\", void 0);\r\n    __decorate([k(cc.Node)], e.prototype, \"descIcon\", void 0);\r\n    __decorate([k(cc.Label)], e.prototype, \"gainLabel\", void 0);\r\n    return __decorate([_], e);\r\n})($uIView.UIView);\r\nexports.default = v;\r\n"]}