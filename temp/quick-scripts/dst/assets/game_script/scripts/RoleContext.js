
                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/game_script/scripts/RoleContext.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '32928sdjPNNppUbIPirWbsQ', 'RoleContext');
// game_script/scripts/RoleContext.js

"use strict";

var $eventManager = require("./EventManager");

var $storageUtil = require("./StorageUtil");

var $startView = require("./StartView");

var $configContext = require("./ConfigContext");

var $localEventName = require("./LocalEventName");

var $localName = require("./LocalName");

var c = function () {
  function t() {
    this.packList = [];
    this.currSkinInfo = {
      skin: 1,
      gun: 1,
      robot: 1
    };
    this.playerskinPacks = [{
      id: 1,
      isHave: !0,
      shard: 0
    }];
    this.gunSkinPacks = [{
      id: 1,
      isHave: !0,
      shard: 0
    }];
    this.robotSkinPacks = [{
      id: 1,
      isHave: !0,
      shard: 0
    }];
    this.gunCache = !1;
    this.robotCache = !1;
    this.isPlayerCache = !1;
  }

  Object.defineProperty(t, "ins", {
    get: function get() {
      if (!t._ins) {
        t._ins = new t();
      }

      return t._ins;
    },
    enumerable: !1,
    configurable: !0
  });

  t.prototype.init = function () {
    this.packList = $storageUtil.StorageUtil.getItem($localName["default"].PACK_INFO, this.packList);
    this.currSkinInfo = $storageUtil.StorageUtil.getItem($localName["default"].SKIN_INFO, this.currSkinInfo);
    this.playerskinPacks = $storageUtil.StorageUtil.getItem($localName["default"].SKINS, this.playerskinPacks);
    this.gunSkinPacks = $storageUtil.StorageUtil.getItem($localName["default"].GUN_SKINS, this.gunSkinPacks);
    this.robotSkinPacks = $storageUtil.StorageUtil.getItem($localName["default"].ROBOT_SKINS, this.robotSkinPacks);
  };

  t.prototype.setCurrInfo = function (t) {
    this.currSkinInfo = t;
    $storageUtil.StorageUtil.setItem($localName["default"].SKIN_INFO, this.currSkinInfo);
  };

  t.prototype.getPlayerSkinInfo = function (t) {
    return this.playerskinPacks.find(function (e) {
      return e.id === t;
    }) || {
      id: t,
      isHave: !1,
      shard: 0
    };
  };

  t.prototype.hasPlayerSkinDot = function () {
    var t = this;

    var e = function e(_e) {
      if (!i.playerskinPacks[_e].isHave && i.playerskinPacks[_e].shard > 0 && $configContext["default"].instance.playerSkinConfigs.find(function (i) {
        return i.id === t.playerskinPacks[_e].id;
      }).shard_num <= i.playerskinPacks[_e].shard) {
        return {
          value: !0
        };
      }
    };

    var i = this;

    for (var o = 0; o < this.playerskinPacks.length; o++) {
      var n = e(o);

      if ("object" == typeof n) {
        return n.value;
      }
    }

    return !1;
  };

  t.prototype.getGunSkinInfo = function (t) {
    return this.gunSkinPacks.find(function (e) {
      return e.id === t;
    }) || {
      id: t,
      isHave: !1,
      shard: 0
    };
  };

  t.prototype.hasGunSkinDot = function () {
    var t = this;

    var e = function e(_e2) {
      if (!i.gunSkinPacks[_e2].isHave && i.gunSkinPacks[_e2].shard > 0 && $configContext["default"].instance.gunSkinConfigs.find(function (i) {
        return i.id === t.gunSkinPacks[_e2].id;
      }).shard_num <= i.gunSkinPacks[_e2].shard) {
        return {
          value: !0
        };
      }
    };

    var i = this;

    for (var o = 0; o < this.gunSkinPacks.length; o++) {
      var n = e(o);

      if ("object" == typeof n) {
        return n.value;
      }
    }

    return !1;
  };

  t.prototype.getRobotSkinInfo = function (t) {
    return this.robotSkinPacks.find(function (e) {
      return e.id === t;
    }) || {
      id: t,
      isHave: !1,
      shard: 0
    };
  };

  t.prototype.isHaveRobot = function (t) {
    var e = this.getRobotSkinInfo(t);

    if (e && e.isHave) {
      return !0;
    }

    var i = $configContext["default"].instance.robotConfigs.find(function (e) {
      return e.id === t;
    });
    return e.shard >= i.shard_num;
  };

  t.prototype.hasRobotSkinDot = function () {
    var t = this;

    var e = function e(_e3) {
      if (!i.robotSkinPacks[_e3].isHave && i.robotSkinPacks[_e3].shard > 0 && $configContext["default"].instance.robotConfigs.find(function (i) {
        return i.id === t.robotSkinPacks[_e3].id;
      }).shard_num <= i.robotSkinPacks[_e3].shard) {
        return {
          value: !0
        };
      }
    };

    var i = this;

    for (var o = 0; o < this.robotSkinPacks.length; o++) {
      var n = e(o);

      if ("object" == typeof n) {
        return n.value;
      }
    }

    return !1;
  };

  t.prototype.getGunAllAtkAdd = function () {
    var t = this.gunSkinPacks.filter(function (t) {
      return t.isHave;
    }).map(function (t) {
      return t.id;
    });
    var e = $configContext["default"].instance.gunSkinConfigs.filter(function (e) {
      return t.includes(e.id);
    });
    var i = 0;

    for (var o = 0; o < e.length; o++) {
      i += e[o].Gunskin_add_attribute[0];
    }

    return i;
  };

  t.prototype.setGunSkinInfo = function (t, e) {
    if (void 0 === e) {
      e = !0;
    }

    var i = this.gunSkinPacks.findIndex(function (e) {
      return e.id === t.id;
    });
    -1 !== i ? this.gunSkinPacks[i] = t : this.gunSkinPacks.push(t);
    e ? ($storageUtil.StorageUtil.setItem($localName["default"].GUN_SKINS, this.gunSkinPacks), $eventManager["default"].send($localEventName["default"].RENDER_DOT, $startView.MenuType.Role)) : this.gunCache = !0;
  };

  t.prototype.saveGunSkin = function () {
    if (this.gunCache) {
      this.gunCache = !1;
      $storageUtil.StorageUtil.setItem($localName["default"].GUN_SKINS, this.gunSkinPacks);
      $eventManager["default"].send($localEventName["default"].RENDER_DOT, $startView.MenuType.Role);
    }
  };

  t.prototype.setRobotSkinInfo = function (t, e) {
    if (void 0 === e) {
      e = !0;
    }

    var i = this.robotSkinPacks.findIndex(function (e) {
      return e.id === t.id;
    });
    -1 !== i ? this.robotSkinPacks[i] = t : this.robotSkinPacks.push(t);
    e ? ($storageUtil.StorageUtil.setItem($localName["default"].ROBOT_SKINS, this.robotSkinPacks), $eventManager["default"].send($localEventName["default"].RENDER_DOT, $startView.MenuType.Skill)) : this.robotCache = !0;
  };

  t.prototype.saveRobotSkin = function () {
    if (this.robotCache) {
      this.robotCache = !1;
      $storageUtil.StorageUtil.setItem($localName["default"].ROBOT_SKINS, this.robotSkinPacks);
      $eventManager["default"].send($localEventName["default"].RENDER_DOT, $startView.MenuType.Skill);
    }
  };

  t.prototype.getRobotProps = function () {
    var t = this;

    if (1 === this.currSkinInfo.robot) {
      new Map();
    }

    var e = $configContext["default"].instance.robotConfigs.find(function (e) {
      return e.id === t.currSkinInfo.robot;
    });
    var i = new Map();

    if (0 === e.Petsskin_add_attribute.length) {
      return i;
    }

    for (var o = 0; o < e.Petsskin_add_attribute[0].length; o++) {
      var n = e.Petsskin_add_attribute[0][o];
      var s = e.Petsskin_add_attribute[1][o];
      i.set(s, [n]);
    }

    return i;
  };

  t.prototype.setPlayerSKinInfo = function (t, e) {
    if (void 0 === e) {
      e = !0;
    }

    var i = this.playerskinPacks.findIndex(function (e) {
      return e.id === t.id;
    });
    -1 !== i ? this.playerskinPacks[i] = t : this.playerskinPacks.push(t);
    e ? ($storageUtil.StorageUtil.setItem($localName["default"].SKINS, this.playerskinPacks), $eventManager["default"].send($localEventName["default"].RENDER_DOT, $startView.MenuType.Role)) : this.isPlayerCache = !0;
  };

  t.prototype.savePlayerSkin = function () {
    if (this.isPlayerCache) {
      this.isPlayerCache = !1;
      $storageUtil.StorageUtil.setItem($localName["default"].SKINS, this.playerskinPacks);
      $eventManager["default"].send($localEventName["default"].RENDER_DOT, $startView.MenuType.Role);
    }
  };

  t.prototype.lockAndUnlock = function (t) {
    var e = this.packList.findIndex(function (e) {
      return e.id === t;
    });
    return -1 !== e && (this.packList[e].isLock = !this.packList[e].isLock, $storageUtil.StorageUtil.setItem($localName["default"].PACK_INFO, this.packList), this.packList[e].isLock);
  };

  t.prototype.addPackItem = function (t, e) {
    var i = this.packList.findIndex(function (e) {
      return e.id === t.id;
    });
    -1 !== i ? this.packList[i].num += e : this.packList.push({
      id: t.id,
      part: t.part,
      grade: t.Grade,
      useCount: 0,
      isUse: !1,
      num: e,
      isLock: !1
    });
    this.packList.sort(function (t, e) {
      return t.grade > e.grade ? -1 : t.grade < e.grade ? 1 : t.part < e.part ? -1 : t.part > e.part ? 1 : 0;
    });
    $storageUtil.StorageUtil.setItem($localName["default"].PACK_INFO, this.packList);
  };

  t.prototype.returnPackItem = function (t, e) {
    var i = this.packList.findIndex(function (e) {
      return e.id === t.id;
    });

    if (-1 !== i) {
      this.packList[i].num += e;
      this.packList[i].useCount--;
      this.packList[i].isUse = !1;
    }

    $storageUtil.StorageUtil.setItem($localName["default"].PACK_INFO, this.packList);
  };

  t.prototype.usePackItem = function (t, e) {
    var i = this.packList.findIndex(function (e) {
      return e.id === t;
    });
    this.packList[i].useCount++;
    this.packList[i].isUse = !0;

    if (-1 !== i) {
      this.packList[i].num >= e ? this.packList[i].num -= e : this.packList.splice(i, 1);
    }

    $storageUtil.StorageUtil.setItem($localName["default"].PACK_INFO, this.packList);
  };

  t.prototype.delPackItem = function (t, e) {
    var i = this.packList.findIndex(function (e) {
      return e.id === t;
    });

    if (-1 !== i) {
      this.packList[i].num -= e;

      if (!this.packList[i].isUse && this.packList[i].num <= 0) {
        this.packList.splice(i, 1);
      }

      $storageUtil.StorageUtil.setItem($localName["default"].PACK_INFO, this.packList);
    }
  };

  t.prototype.getPackInfo = function (t) {
    return this.packList.find(function (e) {
      return e.id === t;
    });
  };

  t.prototype.showPackInfoList = function () {
    return this.packList.filter(function (t) {
      return t.num > 0;
    });
  };

  t.prototype.isCanComposeGem = function () {
    var t = 0;
    var e = [];
    var i = -1;

    for (var o = 0; o < this.packList.length; o++) {
      if (!(this.packList[o].isLock || this.packList[o].useCount > 0 || this.packList[o].grade >= 7)) {
        for (var n = 0; n < this.packList[o].num; n++) {
          if (i !== this.packList[o].grade && (i = this.packList[o].grade, e.length = 0, t = 0), t++, e.push(this.packList[o].id), t >= 5) {
            return !0;
          }
        }
      }
    }

    return !1;
  };

  t.prototype.getCanComposeGemList = function () {
    var t = [];
    var e = 0;
    var i = [];
    var o = -1;

    for (var n = 0; n < this.packList.length; n++) {
      if (!(this.packList[n].isLock || this.packList[n].useCount > 0 || this.packList[n].grade >= 7)) {
        for (var s = 0; s < this.packList[n].num; s++) {
          o !== this.packList[n].grade && (o = this.packList[n].grade, i.length = 0, e = 0);
          e++;
          i.push(this.packList[n].id);
          e >= 5 && (t = t.concat(i), i.length = 0, e = 0);
        }
      }
    }

    return t;
  };

  t.prototype.save = function () {
    $storageUtil.StorageUtil.setItem($localName["default"].PACK_INFO, this.packList);
  };

  t._ins = null;
  return t;
}();

exports["default"] = c;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcZ2FtZV9zY3JpcHRcXHNjcmlwdHNcXFJvbGVDb250ZXh0LmpzIl0sIm5hbWVzIjpbIiRldmVudE1hbmFnZXIiLCJyZXF1aXJlIiwiJHN0b3JhZ2VVdGlsIiwiJHN0YXJ0VmlldyIsIiRjb25maWdDb250ZXh0IiwiJGxvY2FsRXZlbnROYW1lIiwiJGxvY2FsTmFtZSIsImMiLCJ0IiwicGFja0xpc3QiLCJjdXJyU2tpbkluZm8iLCJza2luIiwiZ3VuIiwicm9ib3QiLCJwbGF5ZXJza2luUGFja3MiLCJpZCIsImlzSGF2ZSIsInNoYXJkIiwiZ3VuU2tpblBhY2tzIiwicm9ib3RTa2luUGFja3MiLCJndW5DYWNoZSIsInJvYm90Q2FjaGUiLCJpc1BsYXllckNhY2hlIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJnZXQiLCJfaW5zIiwiZW51bWVyYWJsZSIsImNvbmZpZ3VyYWJsZSIsInByb3RvdHlwZSIsImluaXQiLCJTdG9yYWdlVXRpbCIsImdldEl0ZW0iLCJQQUNLX0lORk8iLCJTS0lOX0lORk8iLCJTS0lOUyIsIkdVTl9TS0lOUyIsIlJPQk9UX1NLSU5TIiwic2V0Q3VyckluZm8iLCJzZXRJdGVtIiwiZ2V0UGxheWVyU2tpbkluZm8iLCJmaW5kIiwiZSIsImhhc1BsYXllclNraW5Eb3QiLCJpIiwiaW5zdGFuY2UiLCJwbGF5ZXJTa2luQ29uZmlncyIsInNoYXJkX251bSIsInZhbHVlIiwibyIsImxlbmd0aCIsIm4iLCJnZXRHdW5Ta2luSW5mbyIsImhhc0d1blNraW5Eb3QiLCJndW5Ta2luQ29uZmlncyIsImdldFJvYm90U2tpbkluZm8iLCJpc0hhdmVSb2JvdCIsInJvYm90Q29uZmlncyIsImhhc1JvYm90U2tpbkRvdCIsImdldEd1bkFsbEF0a0FkZCIsImZpbHRlciIsIm1hcCIsImluY2x1ZGVzIiwiR3Vuc2tpbl9hZGRfYXR0cmlidXRlIiwic2V0R3VuU2tpbkluZm8iLCJmaW5kSW5kZXgiLCJwdXNoIiwic2VuZCIsIlJFTkRFUl9ET1QiLCJNZW51VHlwZSIsIlJvbGUiLCJzYXZlR3VuU2tpbiIsInNldFJvYm90U2tpbkluZm8iLCJTa2lsbCIsInNhdmVSb2JvdFNraW4iLCJnZXRSb2JvdFByb3BzIiwiTWFwIiwiUGV0c3NraW5fYWRkX2F0dHJpYnV0ZSIsInMiLCJzZXQiLCJzZXRQbGF5ZXJTS2luSW5mbyIsInNhdmVQbGF5ZXJTa2luIiwibG9ja0FuZFVubG9jayIsImlzTG9jayIsImFkZFBhY2tJdGVtIiwibnVtIiwicGFydCIsImdyYWRlIiwiR3JhZGUiLCJ1c2VDb3VudCIsImlzVXNlIiwic29ydCIsInJldHVyblBhY2tJdGVtIiwidXNlUGFja0l0ZW0iLCJzcGxpY2UiLCJkZWxQYWNrSXRlbSIsImdldFBhY2tJbmZvIiwic2hvd1BhY2tJbmZvTGlzdCIsImlzQ2FuQ29tcG9zZUdlbSIsImdldENhbkNvbXBvc2VHZW1MaXN0IiwiY29uY2F0Iiwic2F2ZSIsImV4cG9ydHMiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUEsSUFBSUEsYUFBYSxHQUFHQyxPQUFPLENBQUMsZ0JBQUQsQ0FBM0I7O0FBQ0EsSUFBSUMsWUFBWSxHQUFHRCxPQUFPLENBQUMsZUFBRCxDQUExQjs7QUFDQSxJQUFJRSxVQUFVLEdBQUdGLE9BQU8sQ0FBQyxhQUFELENBQXhCOztBQUNBLElBQUlHLGNBQWMsR0FBR0gsT0FBTyxDQUFDLGlCQUFELENBQTVCOztBQUNBLElBQUlJLGVBQWUsR0FBR0osT0FBTyxDQUFDLGtCQUFELENBQTdCOztBQUNBLElBQUlLLFVBQVUsR0FBR0wsT0FBTyxDQUFDLGFBQUQsQ0FBeEI7O0FBQ0EsSUFBSU0sQ0FBQyxHQUFJLFlBQVk7RUFDakIsU0FBU0MsQ0FBVCxHQUFhO0lBQ1QsS0FBS0MsUUFBTCxHQUFnQixFQUFoQjtJQUNBLEtBQUtDLFlBQUwsR0FBb0I7TUFDaEJDLElBQUksRUFBRSxDQURVO01BRWhCQyxHQUFHLEVBQUUsQ0FGVztNQUdoQkMsS0FBSyxFQUFFO0lBSFMsQ0FBcEI7SUFLQSxLQUFLQyxlQUFMLEdBQXVCLENBQ25CO01BQ0lDLEVBQUUsRUFBRSxDQURSO01BRUlDLE1BQU0sRUFBRSxDQUFDLENBRmI7TUFHSUMsS0FBSyxFQUFFO0lBSFgsQ0FEbUIsQ0FBdkI7SUFPQSxLQUFLQyxZQUFMLEdBQW9CLENBQ2hCO01BQ0lILEVBQUUsRUFBRSxDQURSO01BRUlDLE1BQU0sRUFBRSxDQUFDLENBRmI7TUFHSUMsS0FBSyxFQUFFO0lBSFgsQ0FEZ0IsQ0FBcEI7SUFPQSxLQUFLRSxjQUFMLEdBQXNCLENBQ2xCO01BQ0lKLEVBQUUsRUFBRSxDQURSO01BRUlDLE1BQU0sRUFBRSxDQUFDLENBRmI7TUFHSUMsS0FBSyxFQUFFO0lBSFgsQ0FEa0IsQ0FBdEI7SUFPQSxLQUFLRyxRQUFMLEdBQWdCLENBQUMsQ0FBakI7SUFDQSxLQUFLQyxVQUFMLEdBQWtCLENBQUMsQ0FBbkI7SUFDQSxLQUFLQyxhQUFMLEdBQXFCLENBQUMsQ0FBdEI7RUFDSDs7RUFDREMsTUFBTSxDQUFDQyxjQUFQLENBQXNCaEIsQ0FBdEIsRUFBeUIsS0FBekIsRUFBZ0M7SUFDNUJpQixHQUFHLEVBQUUsZUFBWTtNQUNiLElBQUksQ0FBQ2pCLENBQUMsQ0FBQ2tCLElBQVAsRUFBYTtRQUNUbEIsQ0FBQyxDQUFDa0IsSUFBRixHQUFTLElBQUlsQixDQUFKLEVBQVQ7TUFDSDs7TUFDRCxPQUFPQSxDQUFDLENBQUNrQixJQUFUO0lBQ0gsQ0FOMkI7SUFPNUJDLFVBQVUsRUFBRSxDQUFDLENBUGU7SUFRNUJDLFlBQVksRUFBRSxDQUFDO0VBUmEsQ0FBaEM7O0VBVUFwQixDQUFDLENBQUNxQixTQUFGLENBQVlDLElBQVosR0FBbUIsWUFBWTtJQUMzQixLQUFLckIsUUFBTCxHQUFnQlAsWUFBWSxDQUFDNkIsV0FBYixDQUF5QkMsT0FBekIsQ0FBaUMxQixVQUFVLFdBQVYsQ0FBbUIyQixTQUFwRCxFQUErRCxLQUFLeEIsUUFBcEUsQ0FBaEI7SUFDQSxLQUFLQyxZQUFMLEdBQW9CUixZQUFZLENBQUM2QixXQUFiLENBQXlCQyxPQUF6QixDQUFpQzFCLFVBQVUsV0FBVixDQUFtQjRCLFNBQXBELEVBQStELEtBQUt4QixZQUFwRSxDQUFwQjtJQUNBLEtBQUtJLGVBQUwsR0FBdUJaLFlBQVksQ0FBQzZCLFdBQWIsQ0FBeUJDLE9BQXpCLENBQWlDMUIsVUFBVSxXQUFWLENBQW1CNkIsS0FBcEQsRUFBMkQsS0FBS3JCLGVBQWhFLENBQXZCO0lBQ0EsS0FBS0ksWUFBTCxHQUFvQmhCLFlBQVksQ0FBQzZCLFdBQWIsQ0FBeUJDLE9BQXpCLENBQWlDMUIsVUFBVSxXQUFWLENBQW1COEIsU0FBcEQsRUFBK0QsS0FBS2xCLFlBQXBFLENBQXBCO0lBQ0EsS0FBS0MsY0FBTCxHQUFzQmpCLFlBQVksQ0FBQzZCLFdBQWIsQ0FBeUJDLE9BQXpCLENBQWlDMUIsVUFBVSxXQUFWLENBQW1CK0IsV0FBcEQsRUFBaUUsS0FBS2xCLGNBQXRFLENBQXRCO0VBQ0gsQ0FORDs7RUFPQVgsQ0FBQyxDQUFDcUIsU0FBRixDQUFZUyxXQUFaLEdBQTBCLFVBQVU5QixDQUFWLEVBQWE7SUFDbkMsS0FBS0UsWUFBTCxHQUFvQkYsQ0FBcEI7SUFDQU4sWUFBWSxDQUFDNkIsV0FBYixDQUF5QlEsT0FBekIsQ0FBaUNqQyxVQUFVLFdBQVYsQ0FBbUI0QixTQUFwRCxFQUErRCxLQUFLeEIsWUFBcEU7RUFDSCxDQUhEOztFQUlBRixDQUFDLENBQUNxQixTQUFGLENBQVlXLGlCQUFaLEdBQWdDLFVBQVVoQyxDQUFWLEVBQWE7SUFDekMsT0FDSSxLQUFLTSxlQUFMLENBQXFCMkIsSUFBckIsQ0FBMEIsVUFBVUMsQ0FBVixFQUFhO01BQ25DLE9BQU9BLENBQUMsQ0FBQzNCLEVBQUYsS0FBU1AsQ0FBaEI7SUFDSCxDQUZELEtBRU07TUFDRk8sRUFBRSxFQUFFUCxDQURGO01BRUZRLE1BQU0sRUFBRSxDQUFDLENBRlA7TUFHRkMsS0FBSyxFQUFFO0lBSEwsQ0FIVjtFQVNILENBVkQ7O0VBV0FULENBQUMsQ0FBQ3FCLFNBQUYsQ0FBWWMsZ0JBQVosR0FBK0IsWUFBWTtJQUN2QyxJQUFJbkMsQ0FBQyxHQUFHLElBQVI7O0lBQ0EsSUFBSWtDLENBQUMsR0FBRyxXQUFVQSxFQUFWLEVBQWE7TUFDakIsSUFDSSxDQUFDRSxDQUFDLENBQUM5QixlQUFGLENBQWtCNEIsRUFBbEIsRUFBcUIxQixNQUF0QixJQUNBNEIsQ0FBQyxDQUFDOUIsZUFBRixDQUFrQjRCLEVBQWxCLEVBQXFCekIsS0FBckIsR0FBNkIsQ0FEN0IsSUFFQWIsY0FBYyxXQUFkLENBQXVCeUMsUUFBdkIsQ0FBZ0NDLGlCQUFoQyxDQUFrREwsSUFBbEQsQ0FBdUQsVUFBVUcsQ0FBVixFQUFhO1FBQ2hFLE9BQU9BLENBQUMsQ0FBQzdCLEVBQUYsS0FBU1AsQ0FBQyxDQUFDTSxlQUFGLENBQWtCNEIsRUFBbEIsRUFBcUIzQixFQUFyQztNQUNILENBRkQsRUFFR2dDLFNBRkgsSUFFZ0JILENBQUMsQ0FBQzlCLGVBQUYsQ0FBa0I0QixFQUFsQixFQUFxQnpCLEtBTHpDLEVBTUU7UUFDRSxPQUFPO1VBQ0grQixLQUFLLEVBQUUsQ0FBQztRQURMLENBQVA7TUFHSDtJQUNKLENBWkQ7O0lBYUEsSUFBSUosQ0FBQyxHQUFHLElBQVI7O0lBQ0EsS0FBSyxJQUFJSyxDQUFDLEdBQUcsQ0FBYixFQUFnQkEsQ0FBQyxHQUFHLEtBQUtuQyxlQUFMLENBQXFCb0MsTUFBekMsRUFBaURELENBQUMsRUFBbEQsRUFBc0Q7TUFDbEQsSUFBSUUsQ0FBQyxHQUFHVCxDQUFDLENBQUNPLENBQUQsQ0FBVDs7TUFDQSxJQUFJLFlBQVksT0FBT0UsQ0FBdkIsRUFBMEI7UUFDdEIsT0FBT0EsQ0FBQyxDQUFDSCxLQUFUO01BQ0g7SUFDSjs7SUFDRCxPQUFPLENBQUMsQ0FBUjtFQUNILENBdkJEOztFQXdCQXhDLENBQUMsQ0FBQ3FCLFNBQUYsQ0FBWXVCLGNBQVosR0FBNkIsVUFBVTVDLENBQVYsRUFBYTtJQUN0QyxPQUNJLEtBQUtVLFlBQUwsQ0FBa0J1QixJQUFsQixDQUF1QixVQUFVQyxDQUFWLEVBQWE7TUFDaEMsT0FBT0EsQ0FBQyxDQUFDM0IsRUFBRixLQUFTUCxDQUFoQjtJQUNILENBRkQsS0FFTTtNQUNGTyxFQUFFLEVBQUVQLENBREY7TUFFRlEsTUFBTSxFQUFFLENBQUMsQ0FGUDtNQUdGQyxLQUFLLEVBQUU7SUFITCxDQUhWO0VBU0gsQ0FWRDs7RUFXQVQsQ0FBQyxDQUFDcUIsU0FBRixDQUFZd0IsYUFBWixHQUE0QixZQUFZO0lBQ3BDLElBQUk3QyxDQUFDLEdBQUcsSUFBUjs7SUFDQSxJQUFJa0MsQ0FBQyxHQUFHLFdBQVVBLEdBQVYsRUFBYTtNQUNqQixJQUNJLENBQUNFLENBQUMsQ0FBQzFCLFlBQUYsQ0FBZXdCLEdBQWYsRUFBa0IxQixNQUFuQixJQUNBNEIsQ0FBQyxDQUFDMUIsWUFBRixDQUFld0IsR0FBZixFQUFrQnpCLEtBQWxCLEdBQTBCLENBRDFCLElBRUFiLGNBQWMsV0FBZCxDQUF1QnlDLFFBQXZCLENBQWdDUyxjQUFoQyxDQUErQ2IsSUFBL0MsQ0FBb0QsVUFBVUcsQ0FBVixFQUFhO1FBQzdELE9BQU9BLENBQUMsQ0FBQzdCLEVBQUYsS0FBU1AsQ0FBQyxDQUFDVSxZQUFGLENBQWV3QixHQUFmLEVBQWtCM0IsRUFBbEM7TUFDSCxDQUZELEVBRUdnQyxTQUZILElBRWdCSCxDQUFDLENBQUMxQixZQUFGLENBQWV3QixHQUFmLEVBQWtCekIsS0FMdEMsRUFNRTtRQUNFLE9BQU87VUFDSCtCLEtBQUssRUFBRSxDQUFDO1FBREwsQ0FBUDtNQUdIO0lBQ0osQ0FaRDs7SUFhQSxJQUFJSixDQUFDLEdBQUcsSUFBUjs7SUFDQSxLQUFLLElBQUlLLENBQUMsR0FBRyxDQUFiLEVBQWdCQSxDQUFDLEdBQUcsS0FBSy9CLFlBQUwsQ0FBa0JnQyxNQUF0QyxFQUE4Q0QsQ0FBQyxFQUEvQyxFQUFtRDtNQUMvQyxJQUFJRSxDQUFDLEdBQUdULENBQUMsQ0FBQ08sQ0FBRCxDQUFUOztNQUNBLElBQUksWUFBWSxPQUFPRSxDQUF2QixFQUEwQjtRQUN0QixPQUFPQSxDQUFDLENBQUNILEtBQVQ7TUFDSDtJQUNKOztJQUNELE9BQU8sQ0FBQyxDQUFSO0VBQ0gsQ0F2QkQ7O0VBd0JBeEMsQ0FBQyxDQUFDcUIsU0FBRixDQUFZMEIsZ0JBQVosR0FBK0IsVUFBVS9DLENBQVYsRUFBYTtJQUN4QyxPQUNJLEtBQUtXLGNBQUwsQ0FBb0JzQixJQUFwQixDQUF5QixVQUFVQyxDQUFWLEVBQWE7TUFDbEMsT0FBT0EsQ0FBQyxDQUFDM0IsRUFBRixLQUFTUCxDQUFoQjtJQUNILENBRkQsS0FFTTtNQUNGTyxFQUFFLEVBQUVQLENBREY7TUFFRlEsTUFBTSxFQUFFLENBQUMsQ0FGUDtNQUdGQyxLQUFLLEVBQUU7SUFITCxDQUhWO0VBU0gsQ0FWRDs7RUFXQVQsQ0FBQyxDQUFDcUIsU0FBRixDQUFZMkIsV0FBWixHQUEwQixVQUFVaEQsQ0FBVixFQUFhO0lBQ25DLElBQUlrQyxDQUFDLEdBQUcsS0FBS2EsZ0JBQUwsQ0FBc0IvQyxDQUF0QixDQUFSOztJQUNBLElBQUlrQyxDQUFDLElBQUlBLENBQUMsQ0FBQzFCLE1BQVgsRUFBbUI7TUFDZixPQUFPLENBQUMsQ0FBUjtJQUNIOztJQUNELElBQUk0QixDQUFDLEdBQUd4QyxjQUFjLFdBQWQsQ0FBdUJ5QyxRQUF2QixDQUFnQ1ksWUFBaEMsQ0FBNkNoQixJQUE3QyxDQUFrRCxVQUFVQyxDQUFWLEVBQWE7TUFDbkUsT0FBT0EsQ0FBQyxDQUFDM0IsRUFBRixLQUFTUCxDQUFoQjtJQUNILENBRk8sQ0FBUjtJQUdBLE9BQU9rQyxDQUFDLENBQUN6QixLQUFGLElBQVcyQixDQUFDLENBQUNHLFNBQXBCO0VBQ0gsQ0FURDs7RUFVQXZDLENBQUMsQ0FBQ3FCLFNBQUYsQ0FBWTZCLGVBQVosR0FBOEIsWUFBWTtJQUN0QyxJQUFJbEQsQ0FBQyxHQUFHLElBQVI7O0lBQ0EsSUFBSWtDLENBQUMsR0FBRyxXQUFVQSxHQUFWLEVBQWE7TUFDakIsSUFDSSxDQUFDRSxDQUFDLENBQUN6QixjQUFGLENBQWlCdUIsR0FBakIsRUFBb0IxQixNQUFyQixJQUNBNEIsQ0FBQyxDQUFDekIsY0FBRixDQUFpQnVCLEdBQWpCLEVBQW9CekIsS0FBcEIsR0FBNEIsQ0FENUIsSUFFQWIsY0FBYyxXQUFkLENBQXVCeUMsUUFBdkIsQ0FBZ0NZLFlBQWhDLENBQTZDaEIsSUFBN0MsQ0FBa0QsVUFBVUcsQ0FBVixFQUFhO1FBQzNELE9BQU9BLENBQUMsQ0FBQzdCLEVBQUYsS0FBU1AsQ0FBQyxDQUFDVyxjQUFGLENBQWlCdUIsR0FBakIsRUFBb0IzQixFQUFwQztNQUNILENBRkQsRUFFR2dDLFNBRkgsSUFFZ0JILENBQUMsQ0FBQ3pCLGNBQUYsQ0FBaUJ1QixHQUFqQixFQUFvQnpCLEtBTHhDLEVBTUU7UUFDRSxPQUFPO1VBQ0grQixLQUFLLEVBQUUsQ0FBQztRQURMLENBQVA7TUFHSDtJQUNKLENBWkQ7O0lBYUEsSUFBSUosQ0FBQyxHQUFHLElBQVI7O0lBQ0EsS0FBSyxJQUFJSyxDQUFDLEdBQUcsQ0FBYixFQUFnQkEsQ0FBQyxHQUFHLEtBQUs5QixjQUFMLENBQW9CK0IsTUFBeEMsRUFBZ0RELENBQUMsRUFBakQsRUFBcUQ7TUFDakQsSUFBSUUsQ0FBQyxHQUFHVCxDQUFDLENBQUNPLENBQUQsQ0FBVDs7TUFDQSxJQUFJLFlBQVksT0FBT0UsQ0FBdkIsRUFBMEI7UUFDdEIsT0FBT0EsQ0FBQyxDQUFDSCxLQUFUO01BQ0g7SUFDSjs7SUFDRCxPQUFPLENBQUMsQ0FBUjtFQUNILENBdkJEOztFQXdCQXhDLENBQUMsQ0FBQ3FCLFNBQUYsQ0FBWThCLGVBQVosR0FBOEIsWUFBWTtJQUN0QyxJQUFJbkQsQ0FBQyxHQUFHLEtBQUtVLFlBQUwsQ0FDSDBDLE1BREcsQ0FDSSxVQUFVcEQsQ0FBVixFQUFhO01BQ2pCLE9BQU9BLENBQUMsQ0FBQ1EsTUFBVDtJQUNILENBSEcsRUFJSDZDLEdBSkcsQ0FJQyxVQUFVckQsQ0FBVixFQUFhO01BQ2QsT0FBT0EsQ0FBQyxDQUFDTyxFQUFUO0lBQ0gsQ0FORyxDQUFSO0lBT0EsSUFBSTJCLENBQUMsR0FBR3RDLGNBQWMsV0FBZCxDQUF1QnlDLFFBQXZCLENBQWdDUyxjQUFoQyxDQUErQ00sTUFBL0MsQ0FBc0QsVUFBVWxCLENBQVYsRUFBYTtNQUN2RSxPQUFPbEMsQ0FBQyxDQUFDc0QsUUFBRixDQUFXcEIsQ0FBQyxDQUFDM0IsRUFBYixDQUFQO0lBQ0gsQ0FGTyxDQUFSO0lBR0EsSUFBSTZCLENBQUMsR0FBRyxDQUFSOztJQUNBLEtBQUssSUFBSUssQ0FBQyxHQUFHLENBQWIsRUFBZ0JBLENBQUMsR0FBR1AsQ0FBQyxDQUFDUSxNQUF0QixFQUE4QkQsQ0FBQyxFQUEvQixFQUFtQztNQUMvQkwsQ0FBQyxJQUFJRixDQUFDLENBQUNPLENBQUQsQ0FBRCxDQUFLYyxxQkFBTCxDQUEyQixDQUEzQixDQUFMO0lBQ0g7O0lBQ0QsT0FBT25CLENBQVA7RUFDSCxDQWhCRDs7RUFpQkFwQyxDQUFDLENBQUNxQixTQUFGLENBQVltQyxjQUFaLEdBQTZCLFVBQVV4RCxDQUFWLEVBQWFrQyxDQUFiLEVBQWdCO0lBQ3pDLElBQUksS0FBSyxDQUFMLEtBQVdBLENBQWYsRUFBa0I7TUFDZEEsQ0FBQyxHQUFHLENBQUMsQ0FBTDtJQUNIOztJQUNELElBQUlFLENBQUMsR0FBRyxLQUFLMUIsWUFBTCxDQUFrQitDLFNBQWxCLENBQTRCLFVBQVV2QixDQUFWLEVBQWE7TUFDN0MsT0FBT0EsQ0FBQyxDQUFDM0IsRUFBRixLQUFTUCxDQUFDLENBQUNPLEVBQWxCO0lBQ0gsQ0FGTyxDQUFSO0lBR0EsQ0FBQyxDQUFELEtBQU82QixDQUFQLEdBQVksS0FBSzFCLFlBQUwsQ0FBa0IwQixDQUFsQixJQUF1QnBDLENBQW5DLEdBQXdDLEtBQUtVLFlBQUwsQ0FBa0JnRCxJQUFsQixDQUF1QjFELENBQXZCLENBQXhDO0lBQ0FrQyxDQUFDLElBQ014QyxZQUFZLENBQUM2QixXQUFiLENBQXlCUSxPQUF6QixDQUFpQ2pDLFVBQVUsV0FBVixDQUFtQjhCLFNBQXBELEVBQStELEtBQUtsQixZQUFwRSxHQUNEbEIsYUFBYSxXQUFiLENBQXNCbUUsSUFBdEIsQ0FBMkI5RCxlQUFlLFdBQWYsQ0FBd0IrRCxVQUFuRCxFQUErRGpFLFVBQVUsQ0FBQ2tFLFFBQVgsQ0FBb0JDLElBQW5GLENBRkwsSUFHTSxLQUFLbEQsUUFBTCxHQUFnQixDQUFDLENBSHhCO0VBSUgsQ0FaRDs7RUFhQVosQ0FBQyxDQUFDcUIsU0FBRixDQUFZMEMsV0FBWixHQUEwQixZQUFZO0lBQ2xDLElBQUksS0FBS25ELFFBQVQsRUFBbUI7TUFDZixLQUFLQSxRQUFMLEdBQWdCLENBQUMsQ0FBakI7TUFDQWxCLFlBQVksQ0FBQzZCLFdBQWIsQ0FBeUJRLE9BQXpCLENBQWlDakMsVUFBVSxXQUFWLENBQW1COEIsU0FBcEQsRUFBK0QsS0FBS2xCLFlBQXBFO01BQ0FsQixhQUFhLFdBQWIsQ0FBc0JtRSxJQUF0QixDQUEyQjlELGVBQWUsV0FBZixDQUF3QitELFVBQW5ELEVBQStEakUsVUFBVSxDQUFDa0UsUUFBWCxDQUFvQkMsSUFBbkY7SUFDSDtFQUNKLENBTkQ7O0VBT0E5RCxDQUFDLENBQUNxQixTQUFGLENBQVkyQyxnQkFBWixHQUErQixVQUFVaEUsQ0FBVixFQUFha0MsQ0FBYixFQUFnQjtJQUMzQyxJQUFJLEtBQUssQ0FBTCxLQUFXQSxDQUFmLEVBQWtCO01BQ2RBLENBQUMsR0FBRyxDQUFDLENBQUw7SUFDSDs7SUFDRCxJQUFJRSxDQUFDLEdBQUcsS0FBS3pCLGNBQUwsQ0FBb0I4QyxTQUFwQixDQUE4QixVQUFVdkIsQ0FBVixFQUFhO01BQy9DLE9BQU9BLENBQUMsQ0FBQzNCLEVBQUYsS0FBU1AsQ0FBQyxDQUFDTyxFQUFsQjtJQUNILENBRk8sQ0FBUjtJQUdBLENBQUMsQ0FBRCxLQUFPNkIsQ0FBUCxHQUFZLEtBQUt6QixjQUFMLENBQW9CeUIsQ0FBcEIsSUFBeUJwQyxDQUFyQyxHQUEwQyxLQUFLVyxjQUFMLENBQW9CK0MsSUFBcEIsQ0FBeUIxRCxDQUF6QixDQUExQztJQUNBa0MsQ0FBQyxJQUNNeEMsWUFBWSxDQUFDNkIsV0FBYixDQUF5QlEsT0FBekIsQ0FBaUNqQyxVQUFVLFdBQVYsQ0FBbUIrQixXQUFwRCxFQUFpRSxLQUFLbEIsY0FBdEUsR0FDRG5CLGFBQWEsV0FBYixDQUFzQm1FLElBQXRCLENBQTJCOUQsZUFBZSxXQUFmLENBQXdCK0QsVUFBbkQsRUFBK0RqRSxVQUFVLENBQUNrRSxRQUFYLENBQW9CSSxLQUFuRixDQUZMLElBR00sS0FBS3BELFVBQUwsR0FBa0IsQ0FBQyxDQUgxQjtFQUlILENBWkQ7O0VBYUFiLENBQUMsQ0FBQ3FCLFNBQUYsQ0FBWTZDLGFBQVosR0FBNEIsWUFBWTtJQUNwQyxJQUFJLEtBQUtyRCxVQUFULEVBQXFCO01BQ2pCLEtBQUtBLFVBQUwsR0FBa0IsQ0FBQyxDQUFuQjtNQUNBbkIsWUFBWSxDQUFDNkIsV0FBYixDQUF5QlEsT0FBekIsQ0FBaUNqQyxVQUFVLFdBQVYsQ0FBbUIrQixXQUFwRCxFQUFpRSxLQUFLbEIsY0FBdEU7TUFDQW5CLGFBQWEsV0FBYixDQUFzQm1FLElBQXRCLENBQTJCOUQsZUFBZSxXQUFmLENBQXdCK0QsVUFBbkQsRUFBK0RqRSxVQUFVLENBQUNrRSxRQUFYLENBQW9CSSxLQUFuRjtJQUNIO0VBQ0osQ0FORDs7RUFPQWpFLENBQUMsQ0FBQ3FCLFNBQUYsQ0FBWThDLGFBQVosR0FBNEIsWUFBWTtJQUNwQyxJQUFJbkUsQ0FBQyxHQUFHLElBQVI7O0lBQ0EsSUFBSSxNQUFNLEtBQUtFLFlBQUwsQ0FBa0JHLEtBQTVCLEVBQW1DO01BQy9CLElBQUkrRCxHQUFKO0lBQ0g7O0lBQ0QsSUFBSWxDLENBQUMsR0FBR3RDLGNBQWMsV0FBZCxDQUF1QnlDLFFBQXZCLENBQWdDWSxZQUFoQyxDQUE2Q2hCLElBQTdDLENBQWtELFVBQVVDLENBQVYsRUFBYTtNQUNuRSxPQUFPQSxDQUFDLENBQUMzQixFQUFGLEtBQVNQLENBQUMsQ0FBQ0UsWUFBRixDQUFlRyxLQUEvQjtJQUNILENBRk8sQ0FBUjtJQUdBLElBQUkrQixDQUFDLEdBQUcsSUFBSWdDLEdBQUosRUFBUjs7SUFDQSxJQUFJLE1BQU1sQyxDQUFDLENBQUNtQyxzQkFBRixDQUF5QjNCLE1BQW5DLEVBQTJDO01BQ3ZDLE9BQU9OLENBQVA7SUFDSDs7SUFDRCxLQUFLLElBQUlLLENBQUMsR0FBRyxDQUFiLEVBQWdCQSxDQUFDLEdBQUdQLENBQUMsQ0FBQ21DLHNCQUFGLENBQXlCLENBQXpCLEVBQTRCM0IsTUFBaEQsRUFBd0RELENBQUMsRUFBekQsRUFBNkQ7TUFDekQsSUFBSUUsQ0FBQyxHQUFHVCxDQUFDLENBQUNtQyxzQkFBRixDQUF5QixDQUF6QixFQUE0QjVCLENBQTVCLENBQVI7TUFDQSxJQUFJNkIsQ0FBQyxHQUFHcEMsQ0FBQyxDQUFDbUMsc0JBQUYsQ0FBeUIsQ0FBekIsRUFBNEI1QixDQUE1QixDQUFSO01BQ0FMLENBQUMsQ0FBQ21DLEdBQUYsQ0FBTUQsQ0FBTixFQUFTLENBQUMzQixDQUFELENBQVQ7SUFDSDs7SUFDRCxPQUFPUCxDQUFQO0VBQ0gsQ0FsQkQ7O0VBbUJBcEMsQ0FBQyxDQUFDcUIsU0FBRixDQUFZbUQsaUJBQVosR0FBZ0MsVUFBVXhFLENBQVYsRUFBYWtDLENBQWIsRUFBZ0I7SUFDNUMsSUFBSSxLQUFLLENBQUwsS0FBV0EsQ0FBZixFQUFrQjtNQUNkQSxDQUFDLEdBQUcsQ0FBQyxDQUFMO0lBQ0g7O0lBQ0QsSUFBSUUsQ0FBQyxHQUFHLEtBQUs5QixlQUFMLENBQXFCbUQsU0FBckIsQ0FBK0IsVUFBVXZCLENBQVYsRUFBYTtNQUNoRCxPQUFPQSxDQUFDLENBQUMzQixFQUFGLEtBQVNQLENBQUMsQ0FBQ08sRUFBbEI7SUFDSCxDQUZPLENBQVI7SUFHQSxDQUFDLENBQUQsS0FBTzZCLENBQVAsR0FBWSxLQUFLOUIsZUFBTCxDQUFxQjhCLENBQXJCLElBQTBCcEMsQ0FBdEMsR0FBMkMsS0FBS00sZUFBTCxDQUFxQm9ELElBQXJCLENBQTBCMUQsQ0FBMUIsQ0FBM0M7SUFDQWtDLENBQUMsSUFDTXhDLFlBQVksQ0FBQzZCLFdBQWIsQ0FBeUJRLE9BQXpCLENBQWlDakMsVUFBVSxXQUFWLENBQW1CNkIsS0FBcEQsRUFBMkQsS0FBS3JCLGVBQWhFLEdBQ0RkLGFBQWEsV0FBYixDQUFzQm1FLElBQXRCLENBQTJCOUQsZUFBZSxXQUFmLENBQXdCK0QsVUFBbkQsRUFBK0RqRSxVQUFVLENBQUNrRSxRQUFYLENBQW9CQyxJQUFuRixDQUZMLElBR00sS0FBS2hELGFBQUwsR0FBcUIsQ0FBQyxDQUg3QjtFQUlILENBWkQ7O0VBYUFkLENBQUMsQ0FBQ3FCLFNBQUYsQ0FBWW9ELGNBQVosR0FBNkIsWUFBWTtJQUNyQyxJQUFJLEtBQUszRCxhQUFULEVBQXdCO01BQ3BCLEtBQUtBLGFBQUwsR0FBcUIsQ0FBQyxDQUF0QjtNQUNBcEIsWUFBWSxDQUFDNkIsV0FBYixDQUF5QlEsT0FBekIsQ0FBaUNqQyxVQUFVLFdBQVYsQ0FBbUI2QixLQUFwRCxFQUEyRCxLQUFLckIsZUFBaEU7TUFDQWQsYUFBYSxXQUFiLENBQXNCbUUsSUFBdEIsQ0FBMkI5RCxlQUFlLFdBQWYsQ0FBd0IrRCxVQUFuRCxFQUErRGpFLFVBQVUsQ0FBQ2tFLFFBQVgsQ0FBb0JDLElBQW5GO0lBQ0g7RUFDSixDQU5EOztFQU9BOUQsQ0FBQyxDQUFDcUIsU0FBRixDQUFZcUQsYUFBWixHQUE0QixVQUFVMUUsQ0FBVixFQUFhO0lBQ3JDLElBQUlrQyxDQUFDLEdBQUcsS0FBS2pDLFFBQUwsQ0FBY3dELFNBQWQsQ0FBd0IsVUFBVXZCLENBQVYsRUFBYTtNQUN6QyxPQUFPQSxDQUFDLENBQUMzQixFQUFGLEtBQVNQLENBQWhCO0lBQ0gsQ0FGTyxDQUFSO0lBR0EsT0FDSSxDQUFDLENBQUQsS0FBT2tDLENBQVAsS0FDRSxLQUFLakMsUUFBTCxDQUFjaUMsQ0FBZCxFQUFpQnlDLE1BQWpCLEdBQTBCLENBQUMsS0FBSzFFLFFBQUwsQ0FBY2lDLENBQWQsRUFBaUJ5QyxNQUE3QyxFQUNEakYsWUFBWSxDQUFDNkIsV0FBYixDQUF5QlEsT0FBekIsQ0FBaUNqQyxVQUFVLFdBQVYsQ0FBbUIyQixTQUFwRCxFQUErRCxLQUFLeEIsUUFBcEUsQ0FEQyxFQUVELEtBQUtBLFFBQUwsQ0FBY2lDLENBQWQsRUFBaUJ5QyxNQUhqQixDQURKO0VBTUgsQ0FWRDs7RUFXQTNFLENBQUMsQ0FBQ3FCLFNBQUYsQ0FBWXVELFdBQVosR0FBMEIsVUFBVTVFLENBQVYsRUFBYWtDLENBQWIsRUFBZ0I7SUFDdEMsSUFBSUUsQ0FBQyxHQUFHLEtBQUtuQyxRQUFMLENBQWN3RCxTQUFkLENBQXdCLFVBQVV2QixDQUFWLEVBQWE7TUFDekMsT0FBT0EsQ0FBQyxDQUFDM0IsRUFBRixLQUFTUCxDQUFDLENBQUNPLEVBQWxCO0lBQ0gsQ0FGTyxDQUFSO0lBR0EsQ0FBQyxDQUFELEtBQU82QixDQUFQLEdBQ08sS0FBS25DLFFBQUwsQ0FBY21DLENBQWQsRUFBaUJ5QyxHQUFqQixJQUF3QjNDLENBRC9CLEdBRU0sS0FBS2pDLFFBQUwsQ0FBY3lELElBQWQsQ0FBbUI7TUFDZm5ELEVBQUUsRUFBRVAsQ0FBQyxDQUFDTyxFQURTO01BRWZ1RSxJQUFJLEVBQUU5RSxDQUFDLENBQUM4RSxJQUZPO01BR2ZDLEtBQUssRUFBRS9FLENBQUMsQ0FBQ2dGLEtBSE07TUFJZkMsUUFBUSxFQUFFLENBSks7TUFLZkMsS0FBSyxFQUFFLENBQUMsQ0FMTztNQU1mTCxHQUFHLEVBQUUzQyxDQU5VO01BT2Z5QyxNQUFNLEVBQUUsQ0FBQztJQVBNLENBQW5CLENBRk47SUFXQSxLQUFLMUUsUUFBTCxDQUFja0YsSUFBZCxDQUFtQixVQUFVbkYsQ0FBVixFQUFha0MsQ0FBYixFQUFnQjtNQUMvQixPQUFPbEMsQ0FBQyxDQUFDK0UsS0FBRixHQUFVN0MsQ0FBQyxDQUFDNkMsS0FBWixHQUFvQixDQUFDLENBQXJCLEdBQXlCL0UsQ0FBQyxDQUFDK0UsS0FBRixHQUFVN0MsQ0FBQyxDQUFDNkMsS0FBWixHQUFvQixDQUFwQixHQUF3Qi9FLENBQUMsQ0FBQzhFLElBQUYsR0FBUzVDLENBQUMsQ0FBQzRDLElBQVgsR0FBa0IsQ0FBQyxDQUFuQixHQUF1QjlFLENBQUMsQ0FBQzhFLElBQUYsR0FBUzVDLENBQUMsQ0FBQzRDLElBQVgsR0FBa0IsQ0FBbEIsR0FBc0IsQ0FBckc7SUFDSCxDQUZEO0lBR0FwRixZQUFZLENBQUM2QixXQUFiLENBQXlCUSxPQUF6QixDQUFpQ2pDLFVBQVUsV0FBVixDQUFtQjJCLFNBQXBELEVBQStELEtBQUt4QixRQUFwRTtFQUNILENBbkJEOztFQW9CQUQsQ0FBQyxDQUFDcUIsU0FBRixDQUFZK0QsY0FBWixHQUE2QixVQUFVcEYsQ0FBVixFQUFha0MsQ0FBYixFQUFnQjtJQUN6QyxJQUFJRSxDQUFDLEdBQUcsS0FBS25DLFFBQUwsQ0FBY3dELFNBQWQsQ0FBd0IsVUFBVXZCLENBQVYsRUFBYTtNQUN6QyxPQUFPQSxDQUFDLENBQUMzQixFQUFGLEtBQVNQLENBQUMsQ0FBQ08sRUFBbEI7SUFDSCxDQUZPLENBQVI7O0lBR0EsSUFBSSxDQUFDLENBQUQsS0FBTzZCLENBQVgsRUFBYztNQUNWLEtBQUtuQyxRQUFMLENBQWNtQyxDQUFkLEVBQWlCeUMsR0FBakIsSUFBd0IzQyxDQUF4QjtNQUNBLEtBQUtqQyxRQUFMLENBQWNtQyxDQUFkLEVBQWlCNkMsUUFBakI7TUFDQSxLQUFLaEYsUUFBTCxDQUFjbUMsQ0FBZCxFQUFpQjhDLEtBQWpCLEdBQXlCLENBQUMsQ0FBMUI7SUFDSDs7SUFDRHhGLFlBQVksQ0FBQzZCLFdBQWIsQ0FBeUJRLE9BQXpCLENBQWlDakMsVUFBVSxXQUFWLENBQW1CMkIsU0FBcEQsRUFBK0QsS0FBS3hCLFFBQXBFO0VBQ0gsQ0FWRDs7RUFXQUQsQ0FBQyxDQUFDcUIsU0FBRixDQUFZZ0UsV0FBWixHQUEwQixVQUFVckYsQ0FBVixFQUFha0MsQ0FBYixFQUFnQjtJQUN0QyxJQUFJRSxDQUFDLEdBQUcsS0FBS25DLFFBQUwsQ0FBY3dELFNBQWQsQ0FBd0IsVUFBVXZCLENBQVYsRUFBYTtNQUN6QyxPQUFPQSxDQUFDLENBQUMzQixFQUFGLEtBQVNQLENBQWhCO0lBQ0gsQ0FGTyxDQUFSO0lBR0EsS0FBS0MsUUFBTCxDQUFjbUMsQ0FBZCxFQUFpQjZDLFFBQWpCO0lBQ0EsS0FBS2hGLFFBQUwsQ0FBY21DLENBQWQsRUFBaUI4QyxLQUFqQixHQUF5QixDQUFDLENBQTFCOztJQUNBLElBQUksQ0FBQyxDQUFELEtBQU85QyxDQUFYLEVBQWM7TUFDVixLQUFLbkMsUUFBTCxDQUFjbUMsQ0FBZCxFQUFpQnlDLEdBQWpCLElBQXdCM0MsQ0FBeEIsR0FBNkIsS0FBS2pDLFFBQUwsQ0FBY21DLENBQWQsRUFBaUJ5QyxHQUFqQixJQUF3QjNDLENBQXJELEdBQTBELEtBQUtqQyxRQUFMLENBQWNxRixNQUFkLENBQXFCbEQsQ0FBckIsRUFBd0IsQ0FBeEIsQ0FBMUQ7SUFDSDs7SUFDRDFDLFlBQVksQ0FBQzZCLFdBQWIsQ0FBeUJRLE9BQXpCLENBQWlDakMsVUFBVSxXQUFWLENBQW1CMkIsU0FBcEQsRUFBK0QsS0FBS3hCLFFBQXBFO0VBQ0gsQ0FWRDs7RUFXQUQsQ0FBQyxDQUFDcUIsU0FBRixDQUFZa0UsV0FBWixHQUEwQixVQUFVdkYsQ0FBVixFQUFha0MsQ0FBYixFQUFnQjtJQUN0QyxJQUFJRSxDQUFDLEdBQUcsS0FBS25DLFFBQUwsQ0FBY3dELFNBQWQsQ0FBd0IsVUFBVXZCLENBQVYsRUFBYTtNQUN6QyxPQUFPQSxDQUFDLENBQUMzQixFQUFGLEtBQVNQLENBQWhCO0lBQ0gsQ0FGTyxDQUFSOztJQUdBLElBQUksQ0FBQyxDQUFELEtBQU9vQyxDQUFYLEVBQWM7TUFDVixLQUFLbkMsUUFBTCxDQUFjbUMsQ0FBZCxFQUFpQnlDLEdBQWpCLElBQXdCM0MsQ0FBeEI7O01BQ0EsSUFBSSxDQUFDLEtBQUtqQyxRQUFMLENBQWNtQyxDQUFkLEVBQWlCOEMsS0FBbEIsSUFBMkIsS0FBS2pGLFFBQUwsQ0FBY21DLENBQWQsRUFBaUJ5QyxHQUFqQixJQUF3QixDQUF2RCxFQUEwRDtRQUN0RCxLQUFLNUUsUUFBTCxDQUFjcUYsTUFBZCxDQUFxQmxELENBQXJCLEVBQXdCLENBQXhCO01BQ0g7O01BQ0QxQyxZQUFZLENBQUM2QixXQUFiLENBQXlCUSxPQUF6QixDQUFpQ2pDLFVBQVUsV0FBVixDQUFtQjJCLFNBQXBELEVBQStELEtBQUt4QixRQUFwRTtJQUNIO0VBQ0osQ0FYRDs7RUFZQUQsQ0FBQyxDQUFDcUIsU0FBRixDQUFZbUUsV0FBWixHQUEwQixVQUFVeEYsQ0FBVixFQUFhO0lBQ25DLE9BQU8sS0FBS0MsUUFBTCxDQUFjZ0MsSUFBZCxDQUFtQixVQUFVQyxDQUFWLEVBQWE7TUFDbkMsT0FBT0EsQ0FBQyxDQUFDM0IsRUFBRixLQUFTUCxDQUFoQjtJQUNILENBRk0sQ0FBUDtFQUdILENBSkQ7O0VBS0FBLENBQUMsQ0FBQ3FCLFNBQUYsQ0FBWW9FLGdCQUFaLEdBQStCLFlBQVk7SUFDdkMsT0FBTyxLQUFLeEYsUUFBTCxDQUFjbUQsTUFBZCxDQUFxQixVQUFVcEQsQ0FBVixFQUFhO01BQ3JDLE9BQU9BLENBQUMsQ0FBQzZFLEdBQUYsR0FBUSxDQUFmO0lBQ0gsQ0FGTSxDQUFQO0VBR0gsQ0FKRDs7RUFLQTdFLENBQUMsQ0FBQ3FCLFNBQUYsQ0FBWXFFLGVBQVosR0FBOEIsWUFBWTtJQUN0QyxJQUFJMUYsQ0FBQyxHQUFHLENBQVI7SUFDQSxJQUFJa0MsQ0FBQyxHQUFHLEVBQVI7SUFDQSxJQUFJRSxDQUFDLEdBQUcsQ0FBQyxDQUFUOztJQUNBLEtBQUssSUFBSUssQ0FBQyxHQUFHLENBQWIsRUFBZ0JBLENBQUMsR0FBRyxLQUFLeEMsUUFBTCxDQUFjeUMsTUFBbEMsRUFBMENELENBQUMsRUFBM0MsRUFBK0M7TUFDM0MsSUFBSSxFQUFFLEtBQUt4QyxRQUFMLENBQWN3QyxDQUFkLEVBQWlCa0MsTUFBakIsSUFBMkIsS0FBSzFFLFFBQUwsQ0FBY3dDLENBQWQsRUFBaUJ3QyxRQUFqQixHQUE0QixDQUF2RCxJQUE0RCxLQUFLaEYsUUFBTCxDQUFjd0MsQ0FBZCxFQUFpQnNDLEtBQWpCLElBQTBCLENBQXhGLENBQUosRUFBZ0c7UUFDNUYsS0FBSyxJQUFJcEMsQ0FBQyxHQUFHLENBQWIsRUFBZ0JBLENBQUMsR0FBRyxLQUFLMUMsUUFBTCxDQUFjd0MsQ0FBZCxFQUFpQm9DLEdBQXJDLEVBQTBDbEMsQ0FBQyxFQUEzQyxFQUErQztVQUMzQyxJQUNLUCxDQUFDLEtBQUssS0FBS25DLFFBQUwsQ0FBY3dDLENBQWQsRUFBaUJzQyxLQUF2QixLQUFrQzNDLENBQUMsR0FBRyxLQUFLbkMsUUFBTCxDQUFjd0MsQ0FBZCxFQUFpQnNDLEtBQXRCLEVBQStCN0MsQ0FBQyxDQUFDUSxNQUFGLEdBQVcsQ0FBMUMsRUFBK0MxQyxDQUFDLEdBQUcsQ0FBcEYsR0FDREEsQ0FBQyxFQURBLEVBRURrQyxDQUFDLENBQUN3QixJQUFGLENBQU8sS0FBS3pELFFBQUwsQ0FBY3dDLENBQWQsRUFBaUJsQyxFQUF4QixDQUZDLEVBR0RQLENBQUMsSUFBSSxDQUpULEVBS0U7WUFDRSxPQUFPLENBQUMsQ0FBUjtVQUNIO1FBQ0o7TUFDSjtJQUNKOztJQUNELE9BQU8sQ0FBQyxDQUFSO0VBQ0gsQ0FuQkQ7O0VBb0JBQSxDQUFDLENBQUNxQixTQUFGLENBQVlzRSxvQkFBWixHQUFtQyxZQUFZO0lBQzNDLElBQUkzRixDQUFDLEdBQUcsRUFBUjtJQUNBLElBQUlrQyxDQUFDLEdBQUcsQ0FBUjtJQUNBLElBQUlFLENBQUMsR0FBRyxFQUFSO0lBQ0EsSUFBSUssQ0FBQyxHQUFHLENBQUMsQ0FBVDs7SUFDQSxLQUFLLElBQUlFLENBQUMsR0FBRyxDQUFiLEVBQWdCQSxDQUFDLEdBQUcsS0FBSzFDLFFBQUwsQ0FBY3lDLE1BQWxDLEVBQTBDQyxDQUFDLEVBQTNDLEVBQStDO01BQzNDLElBQUksRUFBRSxLQUFLMUMsUUFBTCxDQUFjMEMsQ0FBZCxFQUFpQmdDLE1BQWpCLElBQTJCLEtBQUsxRSxRQUFMLENBQWMwQyxDQUFkLEVBQWlCc0MsUUFBakIsR0FBNEIsQ0FBdkQsSUFBNEQsS0FBS2hGLFFBQUwsQ0FBYzBDLENBQWQsRUFBaUJvQyxLQUFqQixJQUEwQixDQUF4RixDQUFKLEVBQWdHO1FBQzVGLEtBQUssSUFBSVQsQ0FBQyxHQUFHLENBQWIsRUFBZ0JBLENBQUMsR0FBRyxLQUFLckUsUUFBTCxDQUFjMEMsQ0FBZCxFQUFpQmtDLEdBQXJDLEVBQTBDUCxDQUFDLEVBQTNDLEVBQStDO1VBQzNDN0IsQ0FBQyxLQUFLLEtBQUt4QyxRQUFMLENBQWMwQyxDQUFkLEVBQWlCb0MsS0FBdkIsS0FBa0N0QyxDQUFDLEdBQUcsS0FBS3hDLFFBQUwsQ0FBYzBDLENBQWQsRUFBaUJvQyxLQUF0QixFQUErQjNDLENBQUMsQ0FBQ00sTUFBRixHQUFXLENBQTFDLEVBQStDUixDQUFDLEdBQUcsQ0FBcEY7VUFDQUEsQ0FBQztVQUNERSxDQUFDLENBQUNzQixJQUFGLENBQU8sS0FBS3pELFFBQUwsQ0FBYzBDLENBQWQsRUFBaUJwQyxFQUF4QjtVQUNBMkIsQ0FBQyxJQUFJLENBQUwsS0FBWWxDLENBQUMsR0FBR0EsQ0FBQyxDQUFDNEYsTUFBRixDQUFTeEQsQ0FBVCxDQUFMLEVBQW9CQSxDQUFDLENBQUNNLE1BQUYsR0FBVyxDQUEvQixFQUFvQ1IsQ0FBQyxHQUFHLENBQW5EO1FBQ0g7TUFDSjtJQUNKOztJQUNELE9BQU9sQyxDQUFQO0VBQ0gsQ0FoQkQ7O0VBaUJBQSxDQUFDLENBQUNxQixTQUFGLENBQVl3RSxJQUFaLEdBQW1CLFlBQVk7SUFDM0JuRyxZQUFZLENBQUM2QixXQUFiLENBQXlCUSxPQUF6QixDQUFpQ2pDLFVBQVUsV0FBVixDQUFtQjJCLFNBQXBELEVBQStELEtBQUt4QixRQUFwRTtFQUNILENBRkQ7O0VBR0FELENBQUMsQ0FBQ2tCLElBQUYsR0FBUyxJQUFUO0VBQ0EsT0FBT2xCLENBQVA7QUFDSCxDQTlYTyxFQUFSOztBQStYQThGLE9BQU8sV0FBUCxHQUFrQi9GLENBQWxCIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgJGV2ZW50TWFuYWdlciA9IHJlcXVpcmUoXCIuL0V2ZW50TWFuYWdlclwiKTtcclxudmFyICRzdG9yYWdlVXRpbCA9IHJlcXVpcmUoXCIuL1N0b3JhZ2VVdGlsXCIpO1xyXG52YXIgJHN0YXJ0VmlldyA9IHJlcXVpcmUoXCIuL1N0YXJ0Vmlld1wiKTtcclxudmFyICRjb25maWdDb250ZXh0ID0gcmVxdWlyZShcIi4vQ29uZmlnQ29udGV4dFwiKTtcclxudmFyICRsb2NhbEV2ZW50TmFtZSA9IHJlcXVpcmUoXCIuL0xvY2FsRXZlbnROYW1lXCIpO1xyXG52YXIgJGxvY2FsTmFtZSA9IHJlcXVpcmUoXCIuL0xvY2FsTmFtZVwiKTtcclxudmFyIGMgPSAoZnVuY3Rpb24gKCkge1xyXG4gICAgZnVuY3Rpb24gdCgpIHtcclxuICAgICAgICB0aGlzLnBhY2tMaXN0ID0gW107XHJcbiAgICAgICAgdGhpcy5jdXJyU2tpbkluZm8gPSB7XHJcbiAgICAgICAgICAgIHNraW46IDEsXHJcbiAgICAgICAgICAgIGd1bjogMSxcclxuICAgICAgICAgICAgcm9ib3Q6IDFcclxuICAgICAgICB9O1xyXG4gICAgICAgIHRoaXMucGxheWVyc2tpblBhY2tzID0gW1xyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBpZDogMSxcclxuICAgICAgICAgICAgICAgIGlzSGF2ZTogITAsXHJcbiAgICAgICAgICAgICAgICBzaGFyZDogMFxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgXTtcclxuICAgICAgICB0aGlzLmd1blNraW5QYWNrcyA9IFtcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgaWQ6IDEsXHJcbiAgICAgICAgICAgICAgICBpc0hhdmU6ICEwLFxyXG4gICAgICAgICAgICAgICAgc2hhcmQ6IDBcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIF07XHJcbiAgICAgICAgdGhpcy5yb2JvdFNraW5QYWNrcyA9IFtcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgaWQ6IDEsXHJcbiAgICAgICAgICAgICAgICBpc0hhdmU6ICEwLFxyXG4gICAgICAgICAgICAgICAgc2hhcmQ6IDBcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIF07XHJcbiAgICAgICAgdGhpcy5ndW5DYWNoZSA9ICExO1xyXG4gICAgICAgIHRoaXMucm9ib3RDYWNoZSA9ICExO1xyXG4gICAgICAgIHRoaXMuaXNQbGF5ZXJDYWNoZSA9ICExO1xyXG4gICAgfVxyXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIFwiaW5zXCIsIHtcclxuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgaWYgKCF0Ll9pbnMpIHtcclxuICAgICAgICAgICAgICAgIHQuX2lucyA9IG5ldyB0KCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIHQuX2lucztcclxuICAgICAgICB9LFxyXG4gICAgICAgIGVudW1lcmFibGU6ICExLFxyXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogITBcclxuICAgIH0pO1xyXG4gICAgdC5wcm90b3R5cGUuaW5pdCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB0aGlzLnBhY2tMaXN0ID0gJHN0b3JhZ2VVdGlsLlN0b3JhZ2VVdGlsLmdldEl0ZW0oJGxvY2FsTmFtZS5kZWZhdWx0LlBBQ0tfSU5GTywgdGhpcy5wYWNrTGlzdCk7XHJcbiAgICAgICAgdGhpcy5jdXJyU2tpbkluZm8gPSAkc3RvcmFnZVV0aWwuU3RvcmFnZVV0aWwuZ2V0SXRlbSgkbG9jYWxOYW1lLmRlZmF1bHQuU0tJTl9JTkZPLCB0aGlzLmN1cnJTa2luSW5mbyk7XHJcbiAgICAgICAgdGhpcy5wbGF5ZXJza2luUGFja3MgPSAkc3RvcmFnZVV0aWwuU3RvcmFnZVV0aWwuZ2V0SXRlbSgkbG9jYWxOYW1lLmRlZmF1bHQuU0tJTlMsIHRoaXMucGxheWVyc2tpblBhY2tzKTtcclxuICAgICAgICB0aGlzLmd1blNraW5QYWNrcyA9ICRzdG9yYWdlVXRpbC5TdG9yYWdlVXRpbC5nZXRJdGVtKCRsb2NhbE5hbWUuZGVmYXVsdC5HVU5fU0tJTlMsIHRoaXMuZ3VuU2tpblBhY2tzKTtcclxuICAgICAgICB0aGlzLnJvYm90U2tpblBhY2tzID0gJHN0b3JhZ2VVdGlsLlN0b3JhZ2VVdGlsLmdldEl0ZW0oJGxvY2FsTmFtZS5kZWZhdWx0LlJPQk9UX1NLSU5TLCB0aGlzLnJvYm90U2tpblBhY2tzKTtcclxuICAgIH07XHJcbiAgICB0LnByb3RvdHlwZS5zZXRDdXJySW5mbyA9IGZ1bmN0aW9uICh0KSB7XHJcbiAgICAgICAgdGhpcy5jdXJyU2tpbkluZm8gPSB0O1xyXG4gICAgICAgICRzdG9yYWdlVXRpbC5TdG9yYWdlVXRpbC5zZXRJdGVtKCRsb2NhbE5hbWUuZGVmYXVsdC5TS0lOX0lORk8sIHRoaXMuY3VyclNraW5JbmZvKTtcclxuICAgIH07XHJcbiAgICB0LnByb3RvdHlwZS5nZXRQbGF5ZXJTa2luSW5mbyA9IGZ1bmN0aW9uICh0KSB7XHJcbiAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgICAgdGhpcy5wbGF5ZXJza2luUGFja3MuZmluZChmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGUuaWQgPT09IHQ7XHJcbiAgICAgICAgICAgIH0pIHx8IHtcclxuICAgICAgICAgICAgICAgIGlkOiB0LFxyXG4gICAgICAgICAgICAgICAgaXNIYXZlOiAhMSxcclxuICAgICAgICAgICAgICAgIHNoYXJkOiAwXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICApO1xyXG4gICAgfTtcclxuICAgIHQucHJvdG90eXBlLmhhc1BsYXllclNraW5Eb3QgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIHQgPSB0aGlzO1xyXG4gICAgICAgIHZhciBlID0gZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICAgICAgaWYgKFxyXG4gICAgICAgICAgICAgICAgIWkucGxheWVyc2tpblBhY2tzW2VdLmlzSGF2ZSAmJlxyXG4gICAgICAgICAgICAgICAgaS5wbGF5ZXJza2luUGFja3NbZV0uc2hhcmQgPiAwICYmXHJcbiAgICAgICAgICAgICAgICAkY29uZmlnQ29udGV4dC5kZWZhdWx0Lmluc3RhbmNlLnBsYXllclNraW5Db25maWdzLmZpbmQoZnVuY3Rpb24gKGkpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gaS5pZCA9PT0gdC5wbGF5ZXJza2luUGFja3NbZV0uaWQ7XHJcbiAgICAgICAgICAgICAgICB9KS5zaGFyZF9udW0gPD0gaS5wbGF5ZXJza2luUGFja3NbZV0uc2hhcmRcclxuICAgICAgICAgICAgKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiAhMFxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgdmFyIGkgPSB0aGlzO1xyXG4gICAgICAgIGZvciAodmFyIG8gPSAwOyBvIDwgdGhpcy5wbGF5ZXJza2luUGFja3MubGVuZ3RoOyBvKyspIHtcclxuICAgICAgICAgICAgdmFyIG4gPSBlKG8pO1xyXG4gICAgICAgICAgICBpZiAoXCJvYmplY3RcIiA9PSB0eXBlb2Ygbikge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG4udmFsdWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuICExO1xyXG4gICAgfTtcclxuICAgIHQucHJvdG90eXBlLmdldEd1blNraW5JbmZvID0gZnVuY3Rpb24gKHQpIHtcclxuICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgICB0aGlzLmd1blNraW5QYWNrcy5maW5kKGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZS5pZCA9PT0gdDtcclxuICAgICAgICAgICAgfSkgfHwge1xyXG4gICAgICAgICAgICAgICAgaWQ6IHQsXHJcbiAgICAgICAgICAgICAgICBpc0hhdmU6ICExLFxyXG4gICAgICAgICAgICAgICAgc2hhcmQ6IDBcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICk7XHJcbiAgICB9O1xyXG4gICAgdC5wcm90b3R5cGUuaGFzR3VuU2tpbkRvdCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgdCA9IHRoaXM7XHJcbiAgICAgICAgdmFyIGUgPSBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgICAgICBpZiAoXHJcbiAgICAgICAgICAgICAgICAhaS5ndW5Ta2luUGFja3NbZV0uaXNIYXZlICYmXHJcbiAgICAgICAgICAgICAgICBpLmd1blNraW5QYWNrc1tlXS5zaGFyZCA+IDAgJiZcclxuICAgICAgICAgICAgICAgICRjb25maWdDb250ZXh0LmRlZmF1bHQuaW5zdGFuY2UuZ3VuU2tpbkNvbmZpZ3MuZmluZChmdW5jdGlvbiAoaSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBpLmlkID09PSB0Lmd1blNraW5QYWNrc1tlXS5pZDtcclxuICAgICAgICAgICAgICAgIH0pLnNoYXJkX251bSA8PSBpLmd1blNraW5QYWNrc1tlXS5zaGFyZFxyXG4gICAgICAgICAgICApIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU6ICEwXHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgICB2YXIgaSA9IHRoaXM7XHJcbiAgICAgICAgZm9yICh2YXIgbyA9IDA7IG8gPCB0aGlzLmd1blNraW5QYWNrcy5sZW5ndGg7IG8rKykge1xyXG4gICAgICAgICAgICB2YXIgbiA9IGUobyk7XHJcbiAgICAgICAgICAgIGlmIChcIm9iamVjdFwiID09IHR5cGVvZiBuKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbi52YWx1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gITE7XHJcbiAgICB9O1xyXG4gICAgdC5wcm90b3R5cGUuZ2V0Um9ib3RTa2luSW5mbyA9IGZ1bmN0aW9uICh0KSB7XHJcbiAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgICAgdGhpcy5yb2JvdFNraW5QYWNrcy5maW5kKGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZS5pZCA9PT0gdDtcclxuICAgICAgICAgICAgfSkgfHwge1xyXG4gICAgICAgICAgICAgICAgaWQ6IHQsXHJcbiAgICAgICAgICAgICAgICBpc0hhdmU6ICExLFxyXG4gICAgICAgICAgICAgICAgc2hhcmQ6IDBcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICk7XHJcbiAgICB9O1xyXG4gICAgdC5wcm90b3R5cGUuaXNIYXZlUm9ib3QgPSBmdW5jdGlvbiAodCkge1xyXG4gICAgICAgIHZhciBlID0gdGhpcy5nZXRSb2JvdFNraW5JbmZvKHQpO1xyXG4gICAgICAgIGlmIChlICYmIGUuaXNIYXZlKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAhMDtcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIGkgPSAkY29uZmlnQ29udGV4dC5kZWZhdWx0Lmluc3RhbmNlLnJvYm90Q29uZmlncy5maW5kKGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBlLmlkID09PSB0O1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHJldHVybiBlLnNoYXJkID49IGkuc2hhcmRfbnVtO1xyXG4gICAgfTtcclxuICAgIHQucHJvdG90eXBlLmhhc1JvYm90U2tpbkRvdCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgdCA9IHRoaXM7XHJcbiAgICAgICAgdmFyIGUgPSBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgICAgICBpZiAoXHJcbiAgICAgICAgICAgICAgICAhaS5yb2JvdFNraW5QYWNrc1tlXS5pc0hhdmUgJiZcclxuICAgICAgICAgICAgICAgIGkucm9ib3RTa2luUGFja3NbZV0uc2hhcmQgPiAwICYmXHJcbiAgICAgICAgICAgICAgICAkY29uZmlnQ29udGV4dC5kZWZhdWx0Lmluc3RhbmNlLnJvYm90Q29uZmlncy5maW5kKGZ1bmN0aW9uIChpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGkuaWQgPT09IHQucm9ib3RTa2luUGFja3NbZV0uaWQ7XHJcbiAgICAgICAgICAgICAgICB9KS5zaGFyZF9udW0gPD0gaS5yb2JvdFNraW5QYWNrc1tlXS5zaGFyZFxyXG4gICAgICAgICAgICApIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU6ICEwXHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgICB2YXIgaSA9IHRoaXM7XHJcbiAgICAgICAgZm9yICh2YXIgbyA9IDA7IG8gPCB0aGlzLnJvYm90U2tpblBhY2tzLmxlbmd0aDsgbysrKSB7XHJcbiAgICAgICAgICAgIHZhciBuID0gZShvKTtcclxuICAgICAgICAgICAgaWYgKFwib2JqZWN0XCIgPT0gdHlwZW9mIG4pIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBuLnZhbHVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiAhMTtcclxuICAgIH07XHJcbiAgICB0LnByb3RvdHlwZS5nZXRHdW5BbGxBdGtBZGQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIHQgPSB0aGlzLmd1blNraW5QYWNrc1xyXG4gICAgICAgICAgICAuZmlsdGVyKGZ1bmN0aW9uICh0KSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdC5pc0hhdmU7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5tYXAoZnVuY3Rpb24gKHQpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0LmlkO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB2YXIgZSA9ICRjb25maWdDb250ZXh0LmRlZmF1bHQuaW5zdGFuY2UuZ3VuU2tpbkNvbmZpZ3MuZmlsdGVyKGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0LmluY2x1ZGVzKGUuaWQpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHZhciBpID0gMDtcclxuICAgICAgICBmb3IgKHZhciBvID0gMDsgbyA8IGUubGVuZ3RoOyBvKyspIHtcclxuICAgICAgICAgICAgaSArPSBlW29dLkd1bnNraW5fYWRkX2F0dHJpYnV0ZVswXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGk7XHJcbiAgICB9O1xyXG4gICAgdC5wcm90b3R5cGUuc2V0R3VuU2tpbkluZm8gPSBmdW5jdGlvbiAodCwgZSkge1xyXG4gICAgICAgIGlmICh2b2lkIDAgPT09IGUpIHtcclxuICAgICAgICAgICAgZSA9ICEwO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgaSA9IHRoaXMuZ3VuU2tpblBhY2tzLmZpbmRJbmRleChmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgICAgICByZXR1cm4gZS5pZCA9PT0gdC5pZDtcclxuICAgICAgICB9KTtcclxuICAgICAgICAtMSAhPT0gaSA/ICh0aGlzLmd1blNraW5QYWNrc1tpXSA9IHQpIDogdGhpcy5ndW5Ta2luUGFja3MucHVzaCh0KTtcclxuICAgICAgICBlXHJcbiAgICAgICAgICAgID8gKCRzdG9yYWdlVXRpbC5TdG9yYWdlVXRpbC5zZXRJdGVtKCRsb2NhbE5hbWUuZGVmYXVsdC5HVU5fU0tJTlMsIHRoaXMuZ3VuU2tpblBhY2tzKSxcclxuICAgICAgICAgICAgICAkZXZlbnRNYW5hZ2VyLmRlZmF1bHQuc2VuZCgkbG9jYWxFdmVudE5hbWUuZGVmYXVsdC5SRU5ERVJfRE9ULCAkc3RhcnRWaWV3Lk1lbnVUeXBlLlJvbGUpKVxyXG4gICAgICAgICAgICA6ICh0aGlzLmd1bkNhY2hlID0gITApO1xyXG4gICAgfTtcclxuICAgIHQucHJvdG90eXBlLnNhdmVHdW5Ta2luID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGlmICh0aGlzLmd1bkNhY2hlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZ3VuQ2FjaGUgPSAhMTtcclxuICAgICAgICAgICAgJHN0b3JhZ2VVdGlsLlN0b3JhZ2VVdGlsLnNldEl0ZW0oJGxvY2FsTmFtZS5kZWZhdWx0LkdVTl9TS0lOUywgdGhpcy5ndW5Ta2luUGFja3MpO1xyXG4gICAgICAgICAgICAkZXZlbnRNYW5hZ2VyLmRlZmF1bHQuc2VuZCgkbG9jYWxFdmVudE5hbWUuZGVmYXVsdC5SRU5ERVJfRE9ULCAkc3RhcnRWaWV3Lk1lbnVUeXBlLlJvbGUpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICB0LnByb3RvdHlwZS5zZXRSb2JvdFNraW5JbmZvID0gZnVuY3Rpb24gKHQsIGUpIHtcclxuICAgICAgICBpZiAodm9pZCAwID09PSBlKSB7XHJcbiAgICAgICAgICAgIGUgPSAhMDtcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIGkgPSB0aGlzLnJvYm90U2tpblBhY2tzLmZpbmRJbmRleChmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgICAgICByZXR1cm4gZS5pZCA9PT0gdC5pZDtcclxuICAgICAgICB9KTtcclxuICAgICAgICAtMSAhPT0gaSA/ICh0aGlzLnJvYm90U2tpblBhY2tzW2ldID0gdCkgOiB0aGlzLnJvYm90U2tpblBhY2tzLnB1c2godCk7XHJcbiAgICAgICAgZVxyXG4gICAgICAgICAgICA/ICgkc3RvcmFnZVV0aWwuU3RvcmFnZVV0aWwuc2V0SXRlbSgkbG9jYWxOYW1lLmRlZmF1bHQuUk9CT1RfU0tJTlMsIHRoaXMucm9ib3RTa2luUGFja3MpLFxyXG4gICAgICAgICAgICAgICRldmVudE1hbmFnZXIuZGVmYXVsdC5zZW5kKCRsb2NhbEV2ZW50TmFtZS5kZWZhdWx0LlJFTkRFUl9ET1QsICRzdGFydFZpZXcuTWVudVR5cGUuU2tpbGwpKVxyXG4gICAgICAgICAgICA6ICh0aGlzLnJvYm90Q2FjaGUgPSAhMCk7XHJcbiAgICB9O1xyXG4gICAgdC5wcm90b3R5cGUuc2F2ZVJvYm90U2tpbiA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBpZiAodGhpcy5yb2JvdENhY2hlKSB7XHJcbiAgICAgICAgICAgIHRoaXMucm9ib3RDYWNoZSA9ICExO1xyXG4gICAgICAgICAgICAkc3RvcmFnZVV0aWwuU3RvcmFnZVV0aWwuc2V0SXRlbSgkbG9jYWxOYW1lLmRlZmF1bHQuUk9CT1RfU0tJTlMsIHRoaXMucm9ib3RTa2luUGFja3MpO1xyXG4gICAgICAgICAgICAkZXZlbnRNYW5hZ2VyLmRlZmF1bHQuc2VuZCgkbG9jYWxFdmVudE5hbWUuZGVmYXVsdC5SRU5ERVJfRE9ULCAkc3RhcnRWaWV3Lk1lbnVUeXBlLlNraWxsKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgdC5wcm90b3R5cGUuZ2V0Um9ib3RQcm9wcyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgdCA9IHRoaXM7XHJcbiAgICAgICAgaWYgKDEgPT09IHRoaXMuY3VyclNraW5JbmZvLnJvYm90KSB7XHJcbiAgICAgICAgICAgIG5ldyBNYXAoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIGUgPSAkY29uZmlnQ29udGV4dC5kZWZhdWx0Lmluc3RhbmNlLnJvYm90Q29uZmlncy5maW5kKGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBlLmlkID09PSB0LmN1cnJTa2luSW5mby5yb2JvdDtcclxuICAgICAgICB9KTtcclxuICAgICAgICB2YXIgaSA9IG5ldyBNYXAoKTtcclxuICAgICAgICBpZiAoMCA9PT0gZS5QZXRzc2tpbl9hZGRfYXR0cmlidXRlLmxlbmd0aCkge1xyXG4gICAgICAgICAgICByZXR1cm4gaTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZm9yICh2YXIgbyA9IDA7IG8gPCBlLlBldHNza2luX2FkZF9hdHRyaWJ1dGVbMF0ubGVuZ3RoOyBvKyspIHtcclxuICAgICAgICAgICAgdmFyIG4gPSBlLlBldHNza2luX2FkZF9hdHRyaWJ1dGVbMF1bb107XHJcbiAgICAgICAgICAgIHZhciBzID0gZS5QZXRzc2tpbl9hZGRfYXR0cmlidXRlWzFdW29dO1xyXG4gICAgICAgICAgICBpLnNldChzLCBbbl0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gaTtcclxuICAgIH07XHJcbiAgICB0LnByb3RvdHlwZS5zZXRQbGF5ZXJTS2luSW5mbyA9IGZ1bmN0aW9uICh0LCBlKSB7XHJcbiAgICAgICAgaWYgKHZvaWQgMCA9PT0gZSkge1xyXG4gICAgICAgICAgICBlID0gITA7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBpID0gdGhpcy5wbGF5ZXJza2luUGFja3MuZmluZEluZGV4KGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBlLmlkID09PSB0LmlkO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIC0xICE9PSBpID8gKHRoaXMucGxheWVyc2tpblBhY2tzW2ldID0gdCkgOiB0aGlzLnBsYXllcnNraW5QYWNrcy5wdXNoKHQpO1xyXG4gICAgICAgIGVcclxuICAgICAgICAgICAgPyAoJHN0b3JhZ2VVdGlsLlN0b3JhZ2VVdGlsLnNldEl0ZW0oJGxvY2FsTmFtZS5kZWZhdWx0LlNLSU5TLCB0aGlzLnBsYXllcnNraW5QYWNrcyksXHJcbiAgICAgICAgICAgICAgJGV2ZW50TWFuYWdlci5kZWZhdWx0LnNlbmQoJGxvY2FsRXZlbnROYW1lLmRlZmF1bHQuUkVOREVSX0RPVCwgJHN0YXJ0Vmlldy5NZW51VHlwZS5Sb2xlKSlcclxuICAgICAgICAgICAgOiAodGhpcy5pc1BsYXllckNhY2hlID0gITApO1xyXG4gICAgfTtcclxuICAgIHQucHJvdG90eXBlLnNhdmVQbGF5ZXJTa2luID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGlmICh0aGlzLmlzUGxheWVyQ2FjaGUpIHtcclxuICAgICAgICAgICAgdGhpcy5pc1BsYXllckNhY2hlID0gITE7XHJcbiAgICAgICAgICAgICRzdG9yYWdlVXRpbC5TdG9yYWdlVXRpbC5zZXRJdGVtKCRsb2NhbE5hbWUuZGVmYXVsdC5TS0lOUywgdGhpcy5wbGF5ZXJza2luUGFja3MpO1xyXG4gICAgICAgICAgICAkZXZlbnRNYW5hZ2VyLmRlZmF1bHQuc2VuZCgkbG9jYWxFdmVudE5hbWUuZGVmYXVsdC5SRU5ERVJfRE9ULCAkc3RhcnRWaWV3Lk1lbnVUeXBlLlJvbGUpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICB0LnByb3RvdHlwZS5sb2NrQW5kVW5sb2NrID0gZnVuY3Rpb24gKHQpIHtcclxuICAgICAgICB2YXIgZSA9IHRoaXMucGFja0xpc3QuZmluZEluZGV4KGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBlLmlkID09PSB0O1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHJldHVybiAoXHJcbiAgICAgICAgICAgIC0xICE9PSBlICYmXHJcbiAgICAgICAgICAgICgodGhpcy5wYWNrTGlzdFtlXS5pc0xvY2sgPSAhdGhpcy5wYWNrTGlzdFtlXS5pc0xvY2spLFxyXG4gICAgICAgICAgICAkc3RvcmFnZVV0aWwuU3RvcmFnZVV0aWwuc2V0SXRlbSgkbG9jYWxOYW1lLmRlZmF1bHQuUEFDS19JTkZPLCB0aGlzLnBhY2tMaXN0KSxcclxuICAgICAgICAgICAgdGhpcy5wYWNrTGlzdFtlXS5pc0xvY2spXHJcbiAgICAgICAgKTtcclxuICAgIH07XHJcbiAgICB0LnByb3RvdHlwZS5hZGRQYWNrSXRlbSA9IGZ1bmN0aW9uICh0LCBlKSB7XHJcbiAgICAgICAgdmFyIGkgPSB0aGlzLnBhY2tMaXN0LmZpbmRJbmRleChmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgICAgICByZXR1cm4gZS5pZCA9PT0gdC5pZDtcclxuICAgICAgICB9KTtcclxuICAgICAgICAtMSAhPT0gaVxyXG4gICAgICAgICAgICA/ICh0aGlzLnBhY2tMaXN0W2ldLm51bSArPSBlKVxyXG4gICAgICAgICAgICA6IHRoaXMucGFja0xpc3QucHVzaCh7XHJcbiAgICAgICAgICAgICAgICAgIGlkOiB0LmlkLFxyXG4gICAgICAgICAgICAgICAgICBwYXJ0OiB0LnBhcnQsXHJcbiAgICAgICAgICAgICAgICAgIGdyYWRlOiB0LkdyYWRlLFxyXG4gICAgICAgICAgICAgICAgICB1c2VDb3VudDogMCxcclxuICAgICAgICAgICAgICAgICAgaXNVc2U6ICExLFxyXG4gICAgICAgICAgICAgICAgICBudW06IGUsXHJcbiAgICAgICAgICAgICAgICAgIGlzTG9jazogITFcclxuICAgICAgICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLnBhY2tMaXN0LnNvcnQoZnVuY3Rpb24gKHQsIGUpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHQuZ3JhZGUgPiBlLmdyYWRlID8gLTEgOiB0LmdyYWRlIDwgZS5ncmFkZSA/IDEgOiB0LnBhcnQgPCBlLnBhcnQgPyAtMSA6IHQucGFydCA+IGUucGFydCA/IDEgOiAwO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgICRzdG9yYWdlVXRpbC5TdG9yYWdlVXRpbC5zZXRJdGVtKCRsb2NhbE5hbWUuZGVmYXVsdC5QQUNLX0lORk8sIHRoaXMucGFja0xpc3QpO1xyXG4gICAgfTtcclxuICAgIHQucHJvdG90eXBlLnJldHVyblBhY2tJdGVtID0gZnVuY3Rpb24gKHQsIGUpIHtcclxuICAgICAgICB2YXIgaSA9IHRoaXMucGFja0xpc3QuZmluZEluZGV4KGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBlLmlkID09PSB0LmlkO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGlmICgtMSAhPT0gaSkge1xyXG4gICAgICAgICAgICB0aGlzLnBhY2tMaXN0W2ldLm51bSArPSBlO1xyXG4gICAgICAgICAgICB0aGlzLnBhY2tMaXN0W2ldLnVzZUNvdW50LS07XHJcbiAgICAgICAgICAgIHRoaXMucGFja0xpc3RbaV0uaXNVc2UgPSAhMTtcclxuICAgICAgICB9XHJcbiAgICAgICAgJHN0b3JhZ2VVdGlsLlN0b3JhZ2VVdGlsLnNldEl0ZW0oJGxvY2FsTmFtZS5kZWZhdWx0LlBBQ0tfSU5GTywgdGhpcy5wYWNrTGlzdCk7XHJcbiAgICB9O1xyXG4gICAgdC5wcm90b3R5cGUudXNlUGFja0l0ZW0gPSBmdW5jdGlvbiAodCwgZSkge1xyXG4gICAgICAgIHZhciBpID0gdGhpcy5wYWNrTGlzdC5maW5kSW5kZXgoZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGUuaWQgPT09IHQ7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5wYWNrTGlzdFtpXS51c2VDb3VudCsrO1xyXG4gICAgICAgIHRoaXMucGFja0xpc3RbaV0uaXNVc2UgPSAhMDtcclxuICAgICAgICBpZiAoLTEgIT09IGkpIHtcclxuICAgICAgICAgICAgdGhpcy5wYWNrTGlzdFtpXS5udW0gPj0gZSA/ICh0aGlzLnBhY2tMaXN0W2ldLm51bSAtPSBlKSA6IHRoaXMucGFja0xpc3Quc3BsaWNlKGksIDEpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAkc3RvcmFnZVV0aWwuU3RvcmFnZVV0aWwuc2V0SXRlbSgkbG9jYWxOYW1lLmRlZmF1bHQuUEFDS19JTkZPLCB0aGlzLnBhY2tMaXN0KTtcclxuICAgIH07XHJcbiAgICB0LnByb3RvdHlwZS5kZWxQYWNrSXRlbSA9IGZ1bmN0aW9uICh0LCBlKSB7XHJcbiAgICAgICAgdmFyIGkgPSB0aGlzLnBhY2tMaXN0LmZpbmRJbmRleChmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgICAgICByZXR1cm4gZS5pZCA9PT0gdDtcclxuICAgICAgICB9KTtcclxuICAgICAgICBpZiAoLTEgIT09IGkpIHtcclxuICAgICAgICAgICAgdGhpcy5wYWNrTGlzdFtpXS5udW0gLT0gZTtcclxuICAgICAgICAgICAgaWYgKCF0aGlzLnBhY2tMaXN0W2ldLmlzVXNlICYmIHRoaXMucGFja0xpc3RbaV0ubnVtIDw9IDApIHtcclxuICAgICAgICAgICAgICAgIHRoaXMucGFja0xpc3Quc3BsaWNlKGksIDEpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICRzdG9yYWdlVXRpbC5TdG9yYWdlVXRpbC5zZXRJdGVtKCRsb2NhbE5hbWUuZGVmYXVsdC5QQUNLX0lORk8sIHRoaXMucGFja0xpc3QpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICB0LnByb3RvdHlwZS5nZXRQYWNrSW5mbyA9IGZ1bmN0aW9uICh0KSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMucGFja0xpc3QuZmluZChmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgICAgICByZXR1cm4gZS5pZCA9PT0gdDtcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbiAgICB0LnByb3RvdHlwZS5zaG93UGFja0luZm9MaXN0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnBhY2tMaXN0LmZpbHRlcihmdW5jdGlvbiAodCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdC5udW0gPiAwO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIHQucHJvdG90eXBlLmlzQ2FuQ29tcG9zZUdlbSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgdCA9IDA7XHJcbiAgICAgICAgdmFyIGUgPSBbXTtcclxuICAgICAgICB2YXIgaSA9IC0xO1xyXG4gICAgICAgIGZvciAodmFyIG8gPSAwOyBvIDwgdGhpcy5wYWNrTGlzdC5sZW5ndGg7IG8rKykge1xyXG4gICAgICAgICAgICBpZiAoISh0aGlzLnBhY2tMaXN0W29dLmlzTG9jayB8fCB0aGlzLnBhY2tMaXN0W29dLnVzZUNvdW50ID4gMCB8fCB0aGlzLnBhY2tMaXN0W29dLmdyYWRlID49IDcpKSB7XHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBuID0gMDsgbiA8IHRoaXMucGFja0xpc3Rbb10ubnVtOyBuKyspIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIChpICE9PSB0aGlzLnBhY2tMaXN0W29dLmdyYWRlICYmICgoaSA9IHRoaXMucGFja0xpc3Rbb10uZ3JhZGUpLCAoZS5sZW5ndGggPSAwKSwgKHQgPSAwKSksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHQrKyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgZS5wdXNoKHRoaXMucGFja0xpc3Rbb10uaWQpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0ID49IDUpXHJcbiAgICAgICAgICAgICAgICAgICAgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAhMDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuICExO1xyXG4gICAgfTtcclxuICAgIHQucHJvdG90eXBlLmdldENhbkNvbXBvc2VHZW1MaXN0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciB0ID0gW107XHJcbiAgICAgICAgdmFyIGUgPSAwO1xyXG4gICAgICAgIHZhciBpID0gW107XHJcbiAgICAgICAgdmFyIG8gPSAtMTtcclxuICAgICAgICBmb3IgKHZhciBuID0gMDsgbiA8IHRoaXMucGFja0xpc3QubGVuZ3RoOyBuKyspIHtcclxuICAgICAgICAgICAgaWYgKCEodGhpcy5wYWNrTGlzdFtuXS5pc0xvY2sgfHwgdGhpcy5wYWNrTGlzdFtuXS51c2VDb3VudCA+IDAgfHwgdGhpcy5wYWNrTGlzdFtuXS5ncmFkZSA+PSA3KSkge1xyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgcyA9IDA7IHMgPCB0aGlzLnBhY2tMaXN0W25dLm51bTsgcysrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbyAhPT0gdGhpcy5wYWNrTGlzdFtuXS5ncmFkZSAmJiAoKG8gPSB0aGlzLnBhY2tMaXN0W25dLmdyYWRlKSwgKGkubGVuZ3RoID0gMCksIChlID0gMCkpO1xyXG4gICAgICAgICAgICAgICAgICAgIGUrKztcclxuICAgICAgICAgICAgICAgICAgICBpLnB1c2godGhpcy5wYWNrTGlzdFtuXS5pZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgZSA+PSA1ICYmICgodCA9IHQuY29uY2F0KGkpKSwgKGkubGVuZ3RoID0gMCksIChlID0gMCkpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0O1xyXG4gICAgfTtcclxuICAgIHQucHJvdG90eXBlLnNhdmUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgJHN0b3JhZ2VVdGlsLlN0b3JhZ2VVdGlsLnNldEl0ZW0oJGxvY2FsTmFtZS5kZWZhdWx0LlBBQ0tfSU5GTywgdGhpcy5wYWNrTGlzdCk7XHJcbiAgICB9O1xyXG4gICAgdC5faW5zID0gbnVsbDtcclxuICAgIHJldHVybiB0O1xyXG59KSgpO1xyXG5leHBvcnRzLmRlZmF1bHQgPSBjO1xyXG4iXX0=