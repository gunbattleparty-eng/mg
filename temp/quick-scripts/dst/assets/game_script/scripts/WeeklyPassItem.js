
                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/game_script/scripts/WeeklyPassItem.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '854df3LKZBN56/GTQAtrWqx', 'WeeklyPassItem');
// game_script/scripts/WeeklyPassItem.js

"use strict";

var o;

var $assetsLoader = require("./AssetsLoader");

var $assetsMap = require("./AssetsMap");

var $resUtil = require("./ResUtil");

var $popupManager = require("./PopupManager");

var $platform = require("./Platform");

var $seedUtil = require("./SeedUtil");

var $util = require("./Util");

var $aD = require("./AD");

var $adService = require("./AdService");

var $configContext = require("./ConfigContext");

var $roleContext = require("./RoleContext");

var $skillContext = require("./SkillContext");

var $userDataContext = require("./UserDataContext");

var $weekCardService = require("./WeekCardService");

var v = cc._decorator;
var b = v.ccclass;
var w = v.property;

var A = function (t) {
  function e() {
    var e = null !== t && t.apply(this, arguments) || this;
    e.tipLabel = null;
    e.items = [];
    e.btnGain = null;
    e.config = null;
    return e;
  }

  __extends(e, t);

  e.prototype.start = function () {
    this.btnGain.on("click", this.clickAd, this);
  };

  e.prototype.render = function (t) {
    this.config = t;
    this.tipLabel.string = t.tips;

    for (var e = 0; e < this.config.rewardtpye.length; e++) {
      this.renderIcon(this.items[e], this.config.rewardtpye[e], this.config.num[e]);
    }

    this.refreshBtn();
  };

  e.prototype.refreshBtn = function () {
    var t = !1;
    var e = $weekCardService["default"].Ins.weekCardInfo.day;

    if ($weekCardService["default"].Ins.isSign()) {
      e -= 1;
    }

    this.config.id < e || $weekCardService["default"].Ins.isSign() && this.config.id === e ? (this.btnGain.getComponentInChildren(cc.Label).string = "已领取", $util["default"].updateMaterialState(this.btnGain, !0), this.btnGain.getComponent(cc.Button).interactable = !1) : this.config.id === e ? (t = !0, this.btnGain.getComponentInChildren(cc.Label).string = "领取", $util["default"].updateMaterialState(this.btnGain, !1), this.btnGain.getComponent(cc.Button).interactable = !0) : this.config.id > e && (this.btnGain.getComponentInChildren(cc.Label).string = "暂不可领", $util["default"].updateMaterialState(this.btnGain, !0), this.btnGain.getComponent(cc.Button).interactable = !1);
    this.btnGain.children[1].active = t && 1 === this.config.gittype;
  };

  e.prototype.clickAd = function () {
    var t = this;
    0 === this.config.gittype ? this.gain() : $adService["default"].Ins.showRewardedVideo(function () {
      t.gain();
    });
  };

  e.prototype.gain = function () {
    var t = this;

    if ($platform.Platform.currPlatForm === $platform.PlatformEnum.TOU_TIAO) {
      $aD["default"].toutiao.report("days_7", {
        day: this.config.id,
        type: this.config.gittype
      });
    }

    var e = [];

    for (var i = 0; i < this.config.rewardtpye.length; i++) {
      var o = this.config.rewardtpye[i];
      var n = this.config.num[i];

      if (1 === o) {
        var s = $seedUtil["default"].randomFrom(1, 2);
        s = Math.min(s, n);
        var r = $seedUtil["default"].randomCount(1, 6, s);
        var l = $seedUtil["default"].splitNumber(n, s);

        for (var p = 0; p < s; p++) {
          e.push({
            type: 3,
            ext: r[p],
            num: l[p]
          });
          $userDataContext["default"].Ins.opearEquipBook(r[p], l[p]);
        }
      } else {
        if (2 === o) {
          var h = $seedUtil["default"].randomFrom(1, 4);
          var v = $skillContext["default"].Ins.getUseSkillIds();
          h = Math.min(v.length, h);
          v = $seedUtil["default"].randomArr(v, h);
          var b = $seedUtil["default"].splitNumber(n, h);

          for (var w = 0; w < h; w++) {
            e.push({
              type: 4,
              ext: v[w],
              num: b[w]
            });
            $userDataContext["default"].Ins.opearSkillBook(v[w], b[w]);
          }
        } else {
          if (3 === o) {
            e.push({
              type: 7,
              ext: 0,
              num: n
            });
            $userDataContext["default"].Ins.opearUpgradeStone(n);
          } else {
            if (4 === o) {
              e.push({
                type: 1,
                ext: 0,
                num: n
              });
              $userDataContext["default"].Ins.opearCoin(n);
            } else {
              if (5 === o) {
                e.push({
                  type: 8,
                  ext: 0,
                  num: n
                });
                $userDataContext["default"].Ins.opearPower(n);
              } else {
                if (6 === o) {
                  e.push({
                    type: 9,
                    ext: this.config.ext,
                    num: n
                  });
                  (A = $roleContext["default"].ins.getPlayerSkinInfo(this.config.ext)).shard += n;
                  $roleContext["default"].ins.setPlayerSKinInfo(A);
                } else {
                  if (7 === o) {
                    e.push({
                      type: 11,
                      ext: this.config.ext,
                      num: n
                    });
                    (A = $roleContext["default"].ins.getRobotSkinInfo(this.config.ext)).shard += n;
                    $roleContext["default"].ins.setRobotSkinInfo(A);
                  } else {
                    if (8 === o) {
                      var A;
                      e.push({
                        type: 10,
                        ext: this.config.ext,
                        num: n
                      });
                      (A = $roleContext["default"].ins.getGunSkinInfo(this.config.ext)).shard += n;
                      $roleContext["default"].ins.setGunSkinInfo(A);
                    } else {
                      if (9 === o) {
                        e.push({
                          type: 12,
                          ext: 0,
                          num: n
                        });
                        $userDataContext["default"].Ins.opearAdCoin(n);
                      } else {
                        if (10 === o) {
                          var S = $configContext["default"].instance.gemConfigs.filter(function (e) {
                            return e.Grade === t.config.ext;
                          });
                          var C = S[$seedUtil["default"].randomFrom(0, S.length - 1)];
                          $roleContext["default"].ins.addPackItem(C, n);
                          e.push({
                            type: 5,
                            ext: C.id,
                            num: n
                          });
                        } else {
                          if (11 === o) {
                            $userDataContext["default"].Ins.opearDiamond(n);
                            e.push({
                              type: 6,
                              ext: 0,
                              num: n
                            });
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    }

    $popupManager.PopupManager.instance.open($assetsMap.AssetsMap.PopUpBundles.prefabs.assetsList.RewardView, {
      infos: e
    });
    $weekCardService["default"].Ins.sign();
    this.refreshBtn();
  };

  e.prototype.renderIcon = function (t, e, i) {
    var o = this;
    t.children[1].getComponent(cc.Label).string = i.toString();
    1 === e ? $assetsLoader["default"].instance.loadRes($assetsMap.BundleNames.Public_Res, ["/equipment_icon/zb0"], cc.SpriteFrame, null, function (e, i) {
      var n = i[0];

      if (n && cc.isValid(t)) {
        t.children[0].getComponent(cc.Sprite).spriteFrame = $resUtil.ResUtil.assignWith(n, o.node);
      }
    }) : 2 === e ? $assetsLoader["default"].instance.loadRes($assetsMap.BundleNames.Public_Res, ["/skill_book/jn0"], cc.SpriteFrame, null, function (e, i) {
      var n = i[0];

      if (n && cc.isValid(t)) {
        t.children[0].getComponent(cc.Sprite).spriteFrame = $resUtil.ResUtil.assignWith(n, o.node);
      }
    }) : 3 === e ? $assetsLoader["default"].instance.loadRes($assetsMap.BundleNames.Public, ["/textures/gem/upgrade_sone"], cc.SpriteFrame, null, function (e, i) {
      var n = i[0];

      if (n && cc.isValid(t)) {
        t.children[0].getComponent(cc.Sprite).spriteFrame = $resUtil.ResUtil.assignWith(n, o.node);
      }
    }) : 4 === e ? $assetsLoader["default"].instance.loadRes($assetsMap.BundleNames.Public, ["/textures/gem/jinbi"], cc.SpriteFrame, null, function (e, i) {
      var n = i[0];

      if (n && cc.isValid(t)) {
        t.children[0].getComponent(cc.Sprite).spriteFrame = $resUtil.ResUtil.assignWith(n, o.node);
      }
    }) : 5 === e ? $assetsLoader["default"].instance.loadRes($assetsMap.BundleNames.Public, ["/textures/gem/tili"], cc.SpriteFrame, null, function (e, i) {
      var n = i[0];

      if (n && cc.isValid(t)) {
        t.children[0].getComponent(cc.Sprite).spriteFrame = $resUtil.ResUtil.assignWith(n, o.node);
      }
    }) : 6 === e ? $assetsLoader["default"].instance.loadRes($assetsMap.BundleNames.Public_Res, ["/role_shard/sp1"], cc.SpriteFrame, null, function (e, i) {
      var n = i[0];

      if (n && cc.isValid(t)) {
        t.children[0].getComponent(cc.Sprite).spriteFrame = $resUtil.ResUtil.assignWith(n, o.node);
      }
    }) : 7 === e ? $assetsLoader["default"].instance.loadRes($assetsMap.BundleNames.Public_Res, ["/robot_shard/sp1"], cc.SpriteFrame, null, function (e, i) {
      var n = i[0];

      if (n && cc.isValid(t)) {
        t.children[0].getComponent(cc.Sprite).spriteFrame = $resUtil.ResUtil.assignWith(n, o.node);
      }
    }) : 8 === e ? $assetsLoader["default"].instance.loadRes($assetsMap.BundleNames.Public_Res, ["/gun_shard/sp1"], cc.SpriteFrame, null, function (e, i) {
      var n = i[0];

      if (n && cc.isValid(t)) {
        t.children[0].getComponent(cc.Sprite).spriteFrame = $resUtil.ResUtil.assignWith(n, o.node);
      }
    }) : 9 === e ? $assetsLoader["default"].instance.loadRes($assetsMap.BundleNames.Public, ["/textures/gem/quan"], cc.SpriteFrame, null, function (e, i) {
      var n = i[0];

      if (n && cc.isValid(t)) {
        t.children[0].getComponent(cc.Sprite).spriteFrame = $resUtil.ResUtil.assignWith(n, o.node);
      }
    }) : 10 === e ? $assetsLoader["default"].instance.loadRes($assetsMap.BundleNames.Public, ["/textures/gem/wenhao2"], cc.SpriteFrame, null, function (e, i) {
      var n = i[0];

      if (n && cc.isValid(t)) {
        t.children[0].getComponent(cc.Sprite).spriteFrame = $resUtil.ResUtil.assignWith(n, o.node);
      }
    }) : 11 === e && $assetsLoader["default"].instance.loadRes($assetsMap.BundleNames.Public, ["/textures/gem/zuanshi"], cc.SpriteFrame, null, function (e, i) {
      var n = i[0];

      if (n && cc.isValid(t)) {
        t.children[0].getComponent(cc.Sprite).spriteFrame = $resUtil.ResUtil.assignWith(n, o.node);
      }
    });
  };

  __decorate([w(cc.Label)], e.prototype, "tipLabel", void 0);

  __decorate([w([cc.Node])], e.prototype, "items", void 0);

  __decorate([w(cc.Node)], e.prototype, "btnGain", void 0);

  return __decorate([b], e);
}(cc.Component);

exports["default"] = A;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcZ2FtZV9zY3JpcHRcXHNjcmlwdHNcXFdlZWtseVBhc3NJdGVtLmpzIl0sIm5hbWVzIjpbIm8iLCIkYXNzZXRzTG9hZGVyIiwicmVxdWlyZSIsIiRhc3NldHNNYXAiLCIkcmVzVXRpbCIsIiRwb3B1cE1hbmFnZXIiLCIkcGxhdGZvcm0iLCIkc2VlZFV0aWwiLCIkdXRpbCIsIiRhRCIsIiRhZFNlcnZpY2UiLCIkY29uZmlnQ29udGV4dCIsIiRyb2xlQ29udGV4dCIsIiRza2lsbENvbnRleHQiLCIkdXNlckRhdGFDb250ZXh0IiwiJHdlZWtDYXJkU2VydmljZSIsInYiLCJjYyIsIl9kZWNvcmF0b3IiLCJiIiwiY2NjbGFzcyIsInciLCJwcm9wZXJ0eSIsIkEiLCJ0IiwiZSIsImFwcGx5IiwiYXJndW1lbnRzIiwidGlwTGFiZWwiLCJpdGVtcyIsImJ0bkdhaW4iLCJjb25maWciLCJfX2V4dGVuZHMiLCJwcm90b3R5cGUiLCJzdGFydCIsIm9uIiwiY2xpY2tBZCIsInJlbmRlciIsInN0cmluZyIsInRpcHMiLCJyZXdhcmR0cHllIiwibGVuZ3RoIiwicmVuZGVySWNvbiIsIm51bSIsInJlZnJlc2hCdG4iLCJJbnMiLCJ3ZWVrQ2FyZEluZm8iLCJkYXkiLCJpc1NpZ24iLCJpZCIsImdldENvbXBvbmVudEluQ2hpbGRyZW4iLCJMYWJlbCIsInVwZGF0ZU1hdGVyaWFsU3RhdGUiLCJnZXRDb21wb25lbnQiLCJCdXR0b24iLCJpbnRlcmFjdGFibGUiLCJjaGlsZHJlbiIsImFjdGl2ZSIsImdpdHR5cGUiLCJnYWluIiwic2hvd1Jld2FyZGVkVmlkZW8iLCJQbGF0Zm9ybSIsImN1cnJQbGF0Rm9ybSIsIlBsYXRmb3JtRW51bSIsIlRPVV9USUFPIiwidG91dGlhbyIsInJlcG9ydCIsInR5cGUiLCJpIiwibiIsInMiLCJyYW5kb21Gcm9tIiwiTWF0aCIsIm1pbiIsInIiLCJyYW5kb21Db3VudCIsImwiLCJzcGxpdE51bWJlciIsInAiLCJwdXNoIiwiZXh0Iiwib3BlYXJFcXVpcEJvb2siLCJoIiwiZ2V0VXNlU2tpbGxJZHMiLCJyYW5kb21BcnIiLCJvcGVhclNraWxsQm9vayIsIm9wZWFyVXBncmFkZVN0b25lIiwib3BlYXJDb2luIiwib3BlYXJQb3dlciIsImlucyIsImdldFBsYXllclNraW5JbmZvIiwic2hhcmQiLCJzZXRQbGF5ZXJTS2luSW5mbyIsImdldFJvYm90U2tpbkluZm8iLCJzZXRSb2JvdFNraW5JbmZvIiwiZ2V0R3VuU2tpbkluZm8iLCJzZXRHdW5Ta2luSW5mbyIsIm9wZWFyQWRDb2luIiwiUyIsImluc3RhbmNlIiwiZ2VtQ29uZmlncyIsImZpbHRlciIsIkdyYWRlIiwiQyIsImFkZFBhY2tJdGVtIiwib3BlYXJEaWFtb25kIiwiUG9wdXBNYW5hZ2VyIiwib3BlbiIsIkFzc2V0c01hcCIsIlBvcFVwQnVuZGxlcyIsInByZWZhYnMiLCJhc3NldHNMaXN0IiwiUmV3YXJkVmlldyIsImluZm9zIiwic2lnbiIsInRvU3RyaW5nIiwibG9hZFJlcyIsIkJ1bmRsZU5hbWVzIiwiUHVibGljX1JlcyIsIlNwcml0ZUZyYW1lIiwiaXNWYWxpZCIsIlNwcml0ZSIsInNwcml0ZUZyYW1lIiwiUmVzVXRpbCIsImFzc2lnbldpdGgiLCJub2RlIiwiUHVibGljIiwiX19kZWNvcmF0ZSIsIk5vZGUiLCJDb21wb25lbnQiLCJleHBvcnRzIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLElBQUlBLENBQUo7O0FBQ0EsSUFBSUMsYUFBYSxHQUFHQyxPQUFPLENBQUMsZ0JBQUQsQ0FBM0I7O0FBQ0EsSUFBSUMsVUFBVSxHQUFHRCxPQUFPLENBQUMsYUFBRCxDQUF4Qjs7QUFDQSxJQUFJRSxRQUFRLEdBQUdGLE9BQU8sQ0FBQyxXQUFELENBQXRCOztBQUNBLElBQUlHLGFBQWEsR0FBR0gsT0FBTyxDQUFDLGdCQUFELENBQTNCOztBQUNBLElBQUlJLFNBQVMsR0FBR0osT0FBTyxDQUFDLFlBQUQsQ0FBdkI7O0FBQ0EsSUFBSUssU0FBUyxHQUFHTCxPQUFP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QUMsQ0FBQ1EsU0FBbEIsRUFBNkIsVUFBN0IsRUFBeUMsS0FBSyxDQUE5QyxDQUFWOztFQUNBOEYsVUFBVSxDQUFDLENBQUMxRyxDQUFDLENBQUMsQ0FBQ0osRUFBRSxDQUFDK0csSUFBSixDQUFELENBQUYsQ0FBRCxFQUFpQnZHLENBQUMsQ0FBQ1EsU0FBbkIsRUFBOEIsT0FBOUIsRUFBdUMsS0FBSyxDQUE1QyxDQUFWOztFQUNBOEYsVUFBVSxDQUFDLENBQUMxRyxDQUFDLENBQUNKLEVBQUUsQ0FBQytHLElBQUosQ0FBRixDQUFELEVBQWV2RyxDQUFDLENBQUNRLFNBQWpCLEVBQTRCLFNBQTVCLEVBQXVDLEtBQUssQ0FBNUMsQ0FBVjs7RUFDQSxPQUFPOEYsVUFBVSxDQUFDLENBQUM1RyxDQUFELENBQUQsRUFBTU0sQ0FBTixDQUFqQjtBQUNILENBclZPLENBcVZMUixFQUFFLENBQUNnSCxTQXJWRSxDQUFSOztBQXNWQUMsT0FBTyxXQUFQLEdBQWtCM0csQ0FBbEIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbInZhciBvO1xyXG52YXIgJGFzc2V0c0xvYWRlciA9IHJlcXVpcmUoXCIuL0Fzc2V0c0xvYWRlclwiKTtcclxudmFyICRhc3NldHNNYXAgPSByZXF1aXJlKFwiLi9Bc3NldHNNYXBcIik7XHJcbnZhciAkcmVzVXRpbCA9IHJlcXVpcmUoXCIuL1Jlc1V0aWxcIik7XHJcbnZhciAkcG9wdXBNYW5hZ2VyID0gcmVxdWlyZShcIi4vUG9wdXBNYW5hZ2VyXCIpO1xyXG52YXIgJHBsYXRmb3JtID0gcmVxdWlyZShcIi4vUGxhdGZvcm1cIik7XHJcbnZhciAkc2VlZFV0aWwgPSByZXF1aXJlKFwiLi9TZWVkVXRpbFwiKTtcclxudmFyICR1dGlsID0gcmVxdWlyZShcIi4vVXRpbFwiKTtcclxudmFyICRhRCA9IHJlcXVpcmUoXCIuL0FEXCIpO1xyXG52YXIgJGFkU2VydmljZSA9IHJlcXVpcmUoXCIuL0FkU2VydmljZVwiKTtcclxudmFyICRjb25maWdDb250ZXh0ID0gcmVxdWlyZShcIi4vQ29uZmlnQ29udGV4dFwiKTtcclxudmFyICRyb2xlQ29udGV4dCA9IHJlcXVpcmUoXCIuL1JvbGVDb250ZXh0XCIpO1xyXG52YXIgJHNraWxsQ29udGV4dCA9IHJlcXVpcmUoXCIuL1NraWxsQ29udGV4dFwiKTtcclxudmFyICR1c2VyRGF0YUNvbnRleHQgPSByZXF1aXJlKFwiLi9Vc2VyRGF0YUNvbnRleHRcIik7XHJcbnZhciAkd2Vla0NhcmRTZXJ2aWNlID0gcmVxdWlyZShcIi4vV2Vla0NhcmRTZXJ2aWNlXCIpO1xyXG52YXIgdiA9IGNjLl9kZWNvcmF0b3I7XHJcbnZhciBiID0gdi5jY2NsYXNzO1xyXG52YXIgdyA9IHYucHJvcGVydHk7XHJcbnZhciBBID0gKGZ1bmN0aW9uICh0KSB7XHJcbiAgICBmdW5jdGlvbiBlKCkge1xyXG4gICAgICAgIHZhciBlID0gKG51bGwgIT09IHQgJiYgdC5hcHBseSh0aGlzLCBhcmd1bWVudHMpKSB8fCB0aGlzO1xyXG4gICAgICAgIGUudGlwTGFiZWwgPSBudWxsO1xyXG4gICAgICAgIGUuaXRlbXMgPSBbXTtcclxuICAgICAgICBlLmJ0bkdhaW4gPSBudWxsO1xyXG4gICAgICAgIGUuY29uZmlnID0gbnVsbDtcclxuICAgICAgICByZXR1cm4gZTtcclxuICAgIH1cclxuICAgIF9fZXh0ZW5kcyhlLCB0KTtcclxuICAgIGUucHJvdG90eXBlLnN0YXJ0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHRoaXMuYnRuR2Fpbi5vbihcImNsaWNrXCIsIHRoaXMuY2xpY2tBZCwgdGhpcyk7XHJcbiAgICB9O1xyXG4gICAgZS5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gKHQpIHtcclxuICAgICAgICB0aGlzLmNvbmZpZyA9IHQ7XHJcbiAgICAgICAgdGhpcy50aXBMYWJlbC5zdHJpbmcgPSB0LnRpcHM7XHJcbiAgICAgICAgZm9yICh2YXIgZSA9IDA7IGUgPCB0aGlzLmNvbmZpZy5yZXdhcmR0cHllLmxlbmd0aDsgZSsrKSB7XHJcbiAgICAgICAgICAgIHRoaXMucmVuZGVySWNvbih0aGlzLml0ZW1zW2VdLCB0aGlzLmNvbmZpZy5yZXdhcmR0cHllW2VdLCB0aGlzLmNvbmZpZy5udW1bZV0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLnJlZnJlc2hCdG4oKTtcclxuICAgIH07XHJcbiAgICBlLnByb3RvdHlwZS5yZWZyZXNoQnRuID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciB0ID0gITE7XHJcbiAgICAgICAgdmFyIGUgPSAkd2Vla0NhcmRTZXJ2aWNlLmRlZmF1bHQuSW5zLndlZWtDYXJkSW5mby5kYXk7XHJcbiAgICAgICAgaWYgKCR3ZWVrQ2FyZFNlcnZpY2UuZGVmYXVsdC5JbnMuaXNTaWduKCkpIHtcclxuICAgICAgICAgICAgZSAtPSAxO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmNvbmZpZy5pZCA8IGUgfHwgKCR3ZWVrQ2FyZFNlcnZpY2UuZGVmYXVsdC5JbnMuaXNTaWduKCkgJiYgdGhpcy5jb25maWcuaWQgPT09IGUpXHJcbiAgICAgICAgICAgID8gKCh0aGlzLmJ0bkdhaW4uZ2V0Q29tcG9uZW50SW5DaGlsZHJlbihjYy5MYWJlbCkuc3RyaW5nID0gXCLlt7Lpooblj5ZcIiksXHJcbiAgICAgICAgICAgICAgJHV0aWwuZGVmYXVsdC51cGRhdGVNYXRlcmlhbFN0YXRlKHRoaXMuYnRuR2FpbiwgITApLFxyXG4gICAgICAgICAgICAgICh0aGlzLmJ0bkdhaW4uZ2V0Q29tcG9uZW50KGNjLkJ1dHRvbikuaW50ZXJhY3RhYmxlID0gITEpKVxyXG4gICAgICAgICAgICA6IHRoaXMuY29uZmlnLmlkID09PSBlXHJcbiAgICAgICAgICAgID8gKCh0ID0gITApLFxyXG4gICAgICAgICAgICAgICh0aGlzLmJ0bkdhaW4uZ2V0Q29tcG9uZW50SW5DaGlsZHJlbihjYy5MYWJlbCkuc3RyaW5nID0gXCLpooblj5ZcIiksXHJcbiAgICAgICAgICAgICAgJHV0aWwuZGVmYXVsdC51cGRhdGVNYXRlcmlhbFN0YXRlKHRoaXMuYnRuR2FpbiwgITEpLFxyXG4gICAgICAgICAgICAgICh0aGlzLmJ0bkdhaW4uZ2V0Q29tcG9uZW50KGNjLkJ1dHRvbikuaW50ZXJhY3RhYmxlID0gITApKVxyXG4gICAgICAgICAgICA6IHRoaXMuY29uZmlnLmlkID4gZSAmJlxyXG4gICAgICAgICAgICAgICgodGhpcy5idG5HYWluLmdldENvbXBvbmVudEluQ2hpbGRyZW4oY2MuTGFiZWwpLnN0cmluZyA9IFwi5pqC5LiN5Y+v6aKGXCIpLFxyXG4gICAgICAgICAgICAgICR1dGlsLmRlZmF1bHQudXBkYXRlTWF0ZXJpYWxTdGF0ZSh0aGlzLmJ0bkdhaW4sICEwKSxcclxuICAgICAgICAgICAgICAodGhpcy5idG5HYWluLmdldENvbXBvbmVudChjYy5CdXR0b24pLmludGVyYWN0YWJsZSA9ICExKSk7XHJcbiAgICAgICAgdGhpcy5idG5HYWluLmNoaWxkcmVuWzFdLmFjdGl2ZSA9IHQgJiYgMSA9PT0gdGhpcy5jb25maWcuZ2l0dHlwZTtcclxuICAgIH07XHJcbiAgICBlLnByb3RvdHlwZS5jbGlja0FkID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciB0ID0gdGhpcztcclxuICAgICAgICAwID09PSB0aGlzLmNvbmZpZy5naXR0eXBlXHJcbiAgICAgICAgICAgID8gdGhpcy5nYWluKClcclxuICAgICAgICAgICAgOiAkYWRTZXJ2aWNlLmRlZmF1bHQuSW5zLnNob3dSZXdhcmRlZFZpZGVvKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgdC5nYWluKCk7XHJcbiAgICAgICAgICAgICAgfSk7XHJcbiAgICB9O1xyXG4gICAgZS5wcm90b3R5cGUuZ2FpbiA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgdCA9IHRoaXM7XHJcbiAgICAgICAgaWYgKCRwbGF0Zm9ybS5QbGF0Zm9ybS5jdXJyUGxhdEZvcm0gPT09ICRwbGF0Zm9ybS5QbGF0Zm9ybUVudW0uVE9VX1RJQU8pIHtcclxuICAgICAgICAgICAgJGFELmRlZmF1bHQudG91dGlhby5yZXBvcnQoXCJkYXlzXzdcIiwge1xyXG4gICAgICAgICAgICAgICAgZGF5OiB0aGlzLmNvbmZpZy5pZCxcclxuICAgICAgICAgICAgICAgIHR5cGU6IHRoaXMuY29uZmlnLmdpdHR5cGVcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBlID0gW107XHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmNvbmZpZy5yZXdhcmR0cHllLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIHZhciBvID0gdGhpcy5jb25maWcucmV3YXJkdHB5ZVtpXTtcclxuICAgICAgICAgICAgdmFyIG4gPSB0aGlzLmNvbmZpZy5udW1baV07XHJcbiAgICAgICAgICAgIGlmICgxID09PSBvKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgcyA9ICRzZWVkVXRpbC5kZWZhdWx0LnJhbmRvbUZyb20oMSwgMik7XHJcbiAgICAgICAgICAgICAgICBzID0gTWF0aC5taW4ocywgbik7XHJcbiAgICAgICAgICAgICAgICB2YXIgciA9ICRzZWVkVXRpbC5kZWZhdWx0LnJhbmRvbUNvdW50KDEsIDYsIHMpO1xyXG4gICAgICAgICAgICAgICAgdmFyIGwgPSAkc2VlZFV0aWwuZGVmYXVsdC5zcGxpdE51bWJlcihuLCBzKTtcclxuICAgICAgICAgICAgICAgIGZvciAodmFyIHAgPSAwOyBwIDwgczsgcCsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZS5wdXNoKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogMyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgZXh0OiByW3BdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBudW06IGxbcF1cclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAkdXNlckRhdGFDb250ZXh0LmRlZmF1bHQuSW5zLm9wZWFyRXF1aXBCb29rKHJbcF0sIGxbcF0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgaWYgKDIgPT09IG8pIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgaCA9ICRzZWVkVXRpbC5kZWZhdWx0LnJhbmRvbUZyb20oMSwgNCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHYgPSAkc2tpbGxDb250ZXh0LmRlZmF1bHQuSW5zLmdldFVzZVNraWxsSWRzKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgaCA9IE1hdGgubWluKHYubGVuZ3RoLCBoKTtcclxuICAgICAgICAgICAgICAgICAgICB2ID0gJHNlZWRVdGlsLmRlZmF1bHQucmFuZG9tQXJyKHYsIGgpO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBiID0gJHNlZWRVdGlsLmRlZmF1bHQuc3BsaXROdW1iZXIobiwgaCk7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgdyA9IDA7IHcgPCBoOyB3KyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZS5wdXNoKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IDQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBleHQ6IHZbd10sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBudW06IGJbd11cclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICR1c2VyRGF0YUNvbnRleHQuZGVmYXVsdC5JbnMub3BlYXJTa2lsbEJvb2sodlt3XSwgYlt3XSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoMyA9PT0gbykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogNyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV4dDogMCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG51bTogblxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHVzZXJEYXRhQ29udGV4dC5kZWZhdWx0Lklucy5vcGVhclVwZ3JhZGVTdG9uZShuKTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoNCA9PT0gbykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZS5wdXNoKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAxLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV4dDogMCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBudW06IG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHVzZXJEYXRhQ29udGV4dC5kZWZhdWx0Lklucy5vcGVhckNvaW4obik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoNSA9PT0gbykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUucHVzaCh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IDgsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV4dDogMCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbnVtOiBuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHVzZXJEYXRhQ29udGV4dC5kZWZhdWx0Lklucy5vcGVhclBvd2VyKG4pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoNiA9PT0gbykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogOSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV4dDogdGhpcy5jb25maWcuZXh0LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbnVtOiBuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoQSA9ICRyb2xlQ29udGV4dC5kZWZhdWx0Lmlucy5nZXRQbGF5ZXJTa2luSW5mbyh0aGlzLmNvbmZpZy5leHQpKS5zaGFyZCArPSBuO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkcm9sZUNvbnRleHQuZGVmYXVsdC5pbnMuc2V0UGxheWVyU0tpbkluZm8oQSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKDcgPT09IG8pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUucHVzaCh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogMTEsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXh0OiB0aGlzLmNvbmZpZy5leHQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbnVtOiBuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChBID0gJHJvbGVDb250ZXh0LmRlZmF1bHQuaW5zLmdldFJvYm90U2tpbkluZm8odGhpcy5jb25maWcuZXh0KSkuc2hhcmQgKz0gbjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRyb2xlQ29udGV4dC5kZWZhdWx0Lmlucy5zZXRSb2JvdFNraW5JbmZvKEEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKDggPT09IG8pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgQTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAxMCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXh0OiB0aGlzLmNvbmZpZy5leHQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG51bTogblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChBID0gJHJvbGVDb250ZXh0LmRlZmF1bHQuaW5zLmdldEd1blNraW5JbmZvKHRoaXMuY29uZmlnLmV4dCkpLnNoYXJkICs9IG47XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHJvbGVDb250ZXh0LmRlZmF1bHQuaW5zLnNldEd1blNraW5JbmZvKEEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoOSA9PT0gbykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogMTIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBleHQ6IDAsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBudW06IG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICR1c2VyRGF0YUNvbnRleHQuZGVmYXVsdC5JbnMub3BlYXJBZENvaW4obik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKDEwID09PSBvKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgUyA9ICRjb25maWdDb250ZXh0LmRlZmF1bHQuaW5zdGFuY2UuZ2VtQ29uZmlncy5maWx0ZXIoZnVuY3Rpb24gKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBlLkdyYWRlID09PSB0LmNvbmZpZy5leHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBDID0gU1skc2VlZFV0aWwuZGVmYXVsdC5yYW5kb21Gcm9tKDAsIFMubGVuZ3RoIC0gMSldO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHJvbGVDb250ZXh0LmRlZmF1bHQuaW5zLmFkZFBhY2tJdGVtKEMsIG4pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZS5wdXNoKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiA1LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV4dDogQy5pZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBudW06IG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKDExID09PSBvKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHVzZXJEYXRhQ29udGV4dC5kZWZhdWx0Lklucy5vcGVhckRpYW1vbmQobik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZS5wdXNoKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogNixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXh0OiAwLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBudW06IG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICAkcG9wdXBNYW5hZ2VyLlBvcHVwTWFuYWdlci5pbnN0YW5jZS5vcGVuKCRhc3NldHNNYXAuQXNzZXRzTWFwLlBvcFVwQnVuZGxlcy5wcmVmYWJzLmFzc2V0c0xpc3QuUmV3YXJkVmlldywge1xyXG4gICAgICAgICAgICBpbmZvczogZVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgICR3ZWVrQ2FyZFNlcnZpY2UuZGVmYXVsdC5JbnMuc2lnbigpO1xyXG4gICAgICAgIHRoaXMucmVmcmVzaEJ0bigpO1xyXG4gICAgfTtcclxuICAgIGUucHJvdG90eXBlLnJlbmRlckljb24gPSBmdW5jdGlvbiAodCwgZSwgaSkge1xyXG4gICAgICAgIHZhciBvID0gdGhpcztcclxuICAgICAgICB0LmNoaWxkcmVuWzFdLmdldENvbXBvbmVudChjYy5MYWJlbCkuc3RyaW5nID0gaS50b1N0cmluZygpO1xyXG4gICAgICAgIDEgPT09IGVcclxuICAgICAgICAgICAgPyAkYXNzZXRzTG9hZGVyLmRlZmF1bHQuaW5zdGFuY2UubG9hZFJlcyhcclxuICAgICAgICAgICAgICAgICAgJGFzc2V0c01hcC5CdW5kbGVOYW1lcy5QdWJsaWNfUmVzLFxyXG4gICAgICAgICAgICAgICAgICBbXCIvZXF1aXBtZW50X2ljb24vemIwXCJdLFxyXG4gICAgICAgICAgICAgICAgICBjYy5TcHJpdGVGcmFtZSxcclxuICAgICAgICAgICAgICAgICAgbnVsbCxcclxuICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gKGUsIGkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgIHZhciBuID0gaVswXTtcclxuICAgICAgICAgICAgICAgICAgICAgIGlmIChuICYmIGNjLmlzVmFsaWQodCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICB0LmNoaWxkcmVuWzBdLmdldENvbXBvbmVudChjYy5TcHJpdGUpLnNwcml0ZUZyYW1lID0gJHJlc1V0aWwuUmVzVXRpbC5hc3NpZ25XaXRoKG4sIG8ubm9kZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgIDogMiA9PT0gZVxyXG4gICAgICAgICAgICA/ICRhc3NldHNMb2FkZXIuZGVmYXVsdC5pbnN0YW5jZS5sb2FkUmVzKFxyXG4gICAgICAgICAgICAgICAgICAkYXNzZXRzTWFwLkJ1bmRsZU5hbWVzLlB1YmxpY19SZXMsXHJcbiAgICAgICAgICAgICAgICAgIFtcIi9za2lsbF9ib29rL2puMFwiXSxcclxuICAgICAgICAgICAgICAgICAgY2MuU3ByaXRlRnJhbWUsXHJcbiAgICAgICAgICAgICAgICAgIG51bGwsXHJcbiAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uIChlLCBpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICB2YXIgbiA9IGlbMF07XHJcbiAgICAgICAgICAgICAgICAgICAgICBpZiAobiAmJiBjYy5pc1ZhbGlkKHQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgdC5jaGlsZHJlblswXS5nZXRDb21wb25lbnQoY2MuU3ByaXRlKS5zcHJpdGVGcmFtZSA9ICRyZXNVdGlsLlJlc1V0aWwuYXNzaWduV2l0aChuLCBvLm5vZGUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICA6IDMgPT09IGVcclxuICAgICAgICAgICAgPyAkYXNzZXRzTG9hZGVyLmRlZmF1bHQuaW5zdGFuY2UubG9hZFJlcyhcclxuICAgICAgICAgICAgICAgICAgJGFzc2V0c01hcC5CdW5kbGVOYW1lcy5QdWJsaWMsXHJcbiAgICAgICAgICAgICAgICAgIFtcIi90ZXh0dXJlcy9nZW0vdXBncmFkZV9zb25lXCJdLFxyXG4gICAgICAgICAgICAgICAgICBjYy5TcHJpdGVGcmFtZSxcclxuICAgICAgICAgICAgICAgICAgbnVsbCxcclxuICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gKGUsIGkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgIHZhciBuID0gaVswXTtcclxuICAgICAgICAgICAgICAgICAgICAgIGlmIChuICYmIGNjLmlzVmFsaWQodCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICB0LmNoaWxkcmVuWzBdLmdldENvbXBvbmVudChjYy5TcHJpdGUpLnNwcml0ZUZyYW1lID0gJHJlc1V0aWwuUmVzVXRpbC5hc3NpZ25XaXRoKG4sIG8ubm9kZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgIDogNCA9PT0gZVxyXG4gICAgICAgICAgICA/ICRhc3NldHNMb2FkZXIuZGVmYXVsdC5pbnN0YW5jZS5sb2FkUmVzKFxyXG4gICAgICAgICAgICAgICAgICAkYXNzZXRzTWFwLkJ1bmRsZU5hbWVzLlB1YmxpYyxcclxuICAgICAgICAgICAgICAgICAgW1wiL3RleHR1cmVzL2dlbS9qaW5iaVwiXSxcclxuICAgICAgICAgICAgICAgICAgY2MuU3ByaXRlRnJhbWUsXHJcbiAgICAgICAgICAgICAgICAgIG51bGwsXHJcbiAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uIChlLCBpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICB2YXIgbiA9IGlbMF07XHJcbiAgICAgICAgICAgICAgICAgICAgICBpZiAobiAmJiBjYy5pc1ZhbGlkKHQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgdC5jaGlsZHJlblswXS5nZXRDb21wb25lbnQoY2MuU3ByaXRlKS5zcHJpdGVGcmFtZSA9ICRyZXNVdGlsLlJlc1V0aWwuYXNzaWduV2l0aChuLCBvLm5vZGUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICA6IDUgPT09IGVcclxuICAgICAgICAgICAgPyAkYXNzZXRzTG9hZGVyLmRlZmF1bHQuaW5zdGFuY2UubG9hZFJlcyhcclxuICAgICAgICAgICAgICAgICAgJGFzc2V0c01hcC5CdW5kbGVOYW1lcy5QdWJsaWMsXHJcbiAgICAgICAgICAgICAgICAgIFtcIi90ZXh0dXJlcy9nZW0vdGlsaVwiXSxcclxuICAgICAgICAgICAgICAgICAgY2MuU3ByaXRlRnJhbWUsXHJcbiAgICAgICAgICAgICAgICAgIG51bGwsXHJcbiAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uIChlLCBpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICB2YXIgbiA9IGlbMF07XHJcbiAgICAgICAgICAgICAgICAgICAgICBpZiAobiAmJiBjYy5pc1ZhbGlkKHQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgdC5jaGlsZHJlblswXS5nZXRDb21wb25lbnQoY2MuU3ByaXRlKS5zcHJpdGVGcmFtZSA9ICRyZXNVdGlsLlJlc1V0aWwuYXNzaWduV2l0aChuLCBvLm5vZGUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICA6IDYgPT09IGVcclxuICAgICAgICAgICAgPyAkYXNzZXRzTG9hZGVyLmRlZmF1bHQuaW5zdGFuY2UubG9hZFJlcyhcclxuICAgICAgICAgICAgICAgICAgJGFzc2V0c01hcC5CdW5kbGVOYW1lcy5QdWJsaWNfUmVzLFxyXG4gICAgICAgICAgICAgICAgICBbXCIvcm9sZV9zaGFyZC9zcDFcIl0sXHJcbiAgICAgICAgICAgICAgICAgIGNjLlNwcml0ZUZyYW1lLFxyXG4gICAgICAgICAgICAgICAgICBudWxsLFxyXG4gICAgICAgICAgICAgICAgICBmdW5jdGlvbiAoZSwgaSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgdmFyIG4gPSBpWzBdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgaWYgKG4gJiYgY2MuaXNWYWxpZCh0KSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHQuY2hpbGRyZW5bMF0uZ2V0Q29tcG9uZW50KGNjLlNwcml0ZSkuc3ByaXRlRnJhbWUgPSAkcmVzVXRpbC5SZXNVdGlsLmFzc2lnbldpdGgobiwgby5ub2RlKTtcclxuICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIClcclxuICAgICAgICAgICAgOiA3ID09PSBlXHJcbiAgICAgICAgICAgID8gJGFzc2V0c0xvYWRlci5kZWZhdWx0Lmluc3RhbmNlLmxvYWRSZXMoXHJcbiAgICAgICAgICAgICAgICAgICRhc3NldHNNYXAuQnVuZGxlTmFtZXMuUHVibGljX1JlcyxcclxuICAgICAgICAgICAgICAgICAgW1wiL3JvYm90X3NoYXJkL3NwMVwiXSxcclxuICAgICAgICAgICAgICAgICAgY2MuU3ByaXRlRnJhbWUsXHJcbiAgICAgICAgICAgICAgICAgIG51bGwsXHJcbiAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uIChlLCBpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICB2YXIgbiA9IGlbMF07XHJcbiAgICAgICAgICAgICAgICAgICAgICBpZiAobiAmJiBjYy5pc1ZhbGlkKHQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgdC5jaGlsZHJlblswXS5nZXRDb21wb25lbnQoY2MuU3ByaXRlKS5zcHJpdGVGcmFtZSA9ICRyZXNVdGlsLlJlc1V0aWwuYXNzaWduV2l0aChuLCBvLm5vZGUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICA6IDggPT09IGVcclxuICAgICAgICAgICAgPyAkYXNzZXRzTG9hZGVyLmRlZmF1bHQuaW5zdGFuY2UubG9hZFJlcyhcclxuICAgICAgICAgICAgICAgICAgJGFzc2V0c01hcC5CdW5kbGVOYW1lcy5QdWJsaWNfUmVzLFxyXG4gICAgICAgICAgICAgICAgICBbXCIvZ3VuX3NoYXJkL3NwMVwiXSxcclxuICAgICAgICAgICAgICAgICAgY2MuU3ByaXRlRnJhbWUsXHJcbiAgICAgICAgICAgICAgICAgIG51bGwsXHJcbiAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uIChlLCBpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICB2YXIgbiA9IGlbMF07XHJcbiAgICAgICAgICAgICAgICAgICAgICBpZiAobiAmJiBjYy5pc1ZhbGlkKHQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgdC5jaGlsZHJlblswXS5nZXRDb21wb25lbnQoY2MuU3ByaXRlKS5zcHJpdGVGcmFtZSA9ICRyZXNVdGlsLlJlc1V0aWwuYXNzaWduV2l0aChuLCBvLm5vZGUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICA6IDkgPT09IGVcclxuICAgICAgICAgICAgPyAkYXNzZXRzTG9hZGVyLmRlZmF1bHQuaW5zdGFuY2UubG9hZFJlcyhcclxuICAgICAgICAgICAgICAgICAgJGFzc2V0c01hcC5CdW5kbGVOYW1lcy5QdWJsaWMsXHJcbiAgICAgICAgICAgICAgICAgIFtcIi90ZXh0dXJlcy9nZW0vcXVhblwiXSxcclxuICAgICAgICAgICAgICAgICAgY2MuU3ByaXRlRnJhbWUsXHJcbiAgICAgICAgICAgICAgICAgIG51bGwsXHJcbiAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uIChlLCBpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICB2YXIgbiA9IGlbMF07XHJcbiAgICAgICAgICAgICAgICAgICAgICBpZiAobiAmJiBjYy5pc1ZhbGlkKHQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgdC5jaGlsZHJlblswXS5nZXRDb21wb25lbnQoY2MuU3ByaXRlKS5zcHJpdGVGcmFtZSA9ICRyZXNVdGlsLlJlc1V0aWwuYXNzaWduV2l0aChuLCBvLm5vZGUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICA6IDEwID09PSBlXHJcbiAgICAgICAgICAgID8gJGFzc2V0c0xvYWRlci5kZWZhdWx0Lmluc3RhbmNlLmxvYWRSZXMoXHJcbiAgICAgICAgICAgICAgICAgICRhc3NldHNNYXAuQnVuZGxlTmFtZXMuUHVibGljLFxyXG4gICAgICAgICAgICAgICAgICBbXCIvdGV4dHVyZXMvZ2VtL3dlbmhhbzJcIl0sXHJcbiAgICAgICAgICAgICAgICAgIGNjLlNwcml0ZUZyYW1lLFxyXG4gICAgICAgICAgICAgICAgICBudWxsLFxyXG4gICAgICAgICAgICAgICAgICBmdW5jdGlvbiAoZSwgaSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgdmFyIG4gPSBpWzBdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgaWYgKG4gJiYgY2MuaXNWYWxpZCh0KSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHQuY2hpbGRyZW5bMF0uZ2V0Q29tcG9uZW50KGNjLlNwcml0ZSkuc3ByaXRlRnJhbWUgPSAkcmVzVXRpbC5SZXNVdGlsLmFzc2lnbldpdGgobiwgby5ub2RlKTtcclxuICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIClcclxuICAgICAgICAgICAgOiAxMSA9PT0gZSAmJlxyXG4gICAgICAgICAgICAgICRhc3NldHNMb2FkZXIuZGVmYXVsdC5pbnN0YW5jZS5sb2FkUmVzKFxyXG4gICAgICAgICAgICAgICAgICAkYXNzZXRzTWFwLkJ1bmRsZU5hbWVzLlB1YmxpYyxcclxuICAgICAgICAgICAgICAgICAgW1wiL3RleHR1cmVzL2dlbS96dWFuc2hpXCJdLFxyXG4gICAgICAgICAgICAgICAgICBjYy5TcHJpdGVGcmFtZSxcclxuICAgICAgICAgICAgICAgICAgbnVsbCxcclxuICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gKGUsIGkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgIHZhciBuID0gaVswXTtcclxuICAgICAgICAgICAgICAgICAgICAgIGlmIChuICYmIGNjLmlzVmFsaWQodCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICB0LmNoaWxkcmVuWzBdLmdldENvbXBvbmVudChjYy5TcHJpdGUpLnNwcml0ZUZyYW1lID0gJHJlc1V0aWwuUmVzVXRpbC5hc3NpZ25XaXRoKG4sIG8ubm9kZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICApO1xyXG4gICAgfTtcclxuICAgIF9fZGVjb3JhdGUoW3coY2MuTGFiZWwpXSwgZS5wcm90b3R5cGUsIFwidGlwTGFiZWxcIiwgdm9pZCAwKTtcclxuICAgIF9fZGVjb3JhdGUoW3coW2NjLk5vZGVdKV0sIGUucHJvdG90eXBlLCBcIml0ZW1zXCIsIHZvaWQgMCk7XHJcbiAgICBfX2RlY29yYXRlKFt3KGNjLk5vZGUpXSwgZS5wcm90b3R5cGUsIFwiYnRuR2FpblwiLCB2b2lkIDApO1xyXG4gICAgcmV0dXJuIF9fZGVjb3JhdGUoW2JdLCBlKTtcclxufSkoY2MuQ29tcG9uZW50KTtcclxuZXhwb3J0cy5kZWZhdWx0ID0gQTtcclxuIl19