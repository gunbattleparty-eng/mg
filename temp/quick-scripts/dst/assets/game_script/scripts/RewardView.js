
                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/game_script/scripts/RewardView.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '32825PjkmVG/54PnF3A7VWE', 'RewardView');
// game_script/scripts/RewardView.js

"use strict";

var o;

var $assetsLoader = require("./AssetsLoader");

var $assetsMap = require("./AssetsMap");

var $resUtil = require("./ResUtil");

var $popupView = require("./PopupView");

var $remoteAudio = require("./RemoteAudio");

var $configContext = require("./ConfigContext");

var p = cc._decorator;
var f = p.ccclass;
var h = p.property;

var m = function (t) {
  function e() {
    var e = null !== t && t.apply(this, arguments) || this;
    e.itemNode = null;
    e.anim = null;
    e.itemContent = null;
    e.rewardInfos = [];
    return e;
  }

  __extends(e, t);

  e.prototype.onResetView = function () {
    $remoteAudio["default"].instance.playEffectMusic("reward");
    this.rewardInfos = this.uiParam.param.infos;
    this.renderReward();
    this.anim.playAnimation("kai", 1);
    cc.tween(this.itemContent).to(0.71, {
      opacity: 255
    }).start();
  };

  e.prototype.renderReward = function () {
    var t = this;

    var e = function e(_e) {
      var o = cc.instantiate(i.itemNode);
      o.active = !0;
      var n = i.rewardInfos[_e];

      if (1 === n.type) {
        $assetsLoader["default"].instance.loadRes($assetsMap.BundleNames.Public, ["/textures/gem/jinbi"], cc.SpriteFrame, null, function (e, i) {
          var s = i[0];

          if (s && cc.isValid(o)) {
            o.children[0].getComponent(cc.Sprite).spriteFrame = null;
            o.children[1].getComponent(cc.Sprite).spriteFrame = $resUtil.ResUtil.assignWith(s, t.node);
            o.children[2].getComponent(cc.Label).string = n.num.toString();
          }
        });
      } else {
        if (2 === n.type) {
          $assetsLoader["default"].instance.loadRes($assetsMap.BundleNames.Public, ["/textures/gem/exp"], cc.SpriteFrame, null, function (e, i) {
            var s = i[0];

            if (s && cc.isValid(o)) {
              o.children[0].getComponent(cc.Sprite).spriteFrame = null;
              o.children[1].getComponent(cc.Sprite).spriteFrame = $resUtil.ResUtil.assignWith(s, t.node);
              o.children[2].getComponent(cc.Label).string = n.num.toString();
            }
          });
        } else {
          if (3 === n.type) {
            $assetsLoader["default"].instance.loadRes($assetsMap.BundleNames.Public_Res, ["/equipment_icon/zb" + n.ext], cc.SpriteFrame, null, function (e, i) {
              var s = i[0];

              if (s && cc.isValid(o)) {
                o.children[0].getComponent(cc.Sprite).spriteFrame = null;
                o.children[1].getComponent(cc.Sprite).spriteFrame = $resUtil.ResUtil.assignWith(s, t.node);
                o.children[2].getComponent(cc.Label).string = n.num.toString();
              }
            });
          } else {
            if (4 === n.type) {
              var s = $configContext["default"].instance.skillConfigs.find(function (t) {
                return t.id === n.ext;
              });
              $assetsLoader["default"].instance.loadRes($assetsMap.BundleNames.Public_Res, ["/skill_book/" + s.icon], cc.SpriteFrame, null, function (e, i) {
                var s = i[0];

                if (s && cc.isValid(o)) {
                  o.children[0].getComponent(cc.Sprite).spriteFrame = null;
                  o.children[1].getComponent(cc.Sprite).spriteFrame = $resUtil.ResUtil.assignWith(s, t.node);
                  o.children[2].getComponent(cc.Label).string = n.num.toString();
                }
              });
            } else {
              if (5 === n.type) {
                var c = $configContext["default"].instance.gemConfigs.find(function (t) {
                  return t.id === n.ext;
                });
                $assetsLoader["default"].instance.loadRes($assetsMap.BundleNames.Public, ["/textures/gem/g" + c.part + "_" + c.Grade, "/textures/gem/k" + c.Grade], cc.SpriteFrame, null, function (e, i) {
                  var s = i[0];

                  if (s && cc.isValid(o)) {
                    o.children[0].getComponent(cc.Sprite).spriteFrame = $resUtil.ResUtil.assignWith(i[1], t.node);
                    o.children[1].getComponent(cc.Sprite).spriteFrame = $resUtil.ResUtil.assignWith(s, t.node);
                    o.children[2].getComponent(cc.Label).string = n.num.toString();
                  }
                });
              } else {
                6 === n.type ? $assetsLoader["default"].instance.loadRes($assetsMap.BundleNames.Public, ["/textures/gem/zuanshi"], cc.SpriteFrame, null, function (e, i) {
                  var s = i[0];

                  if (s && cc.isValid(o)) {
                    o.children[1].getComponent(cc.Sprite).spriteFrame = $resUtil.ResUtil.assignWith(s, t.node);
                    o.children[2].getComponent(cc.Label).string = n.num.toString();
                  }
                }) : 7 === n.type ? $assetsLoader["default"].instance.loadRes($assetsMap.BundleNames.Public, ["/textures/gem/upgrade_sone"], cc.SpriteFrame, null, function (e, i) {
                  var s = i[0];

                  if (s && cc.isValid(o)) {
                    o.children[1].getComponent(cc.Sprite).spriteFrame = $resUtil.ResUtil.assignWith(s, t.node);
                    o.children[2].getComponent(cc.Label).string = n.num.toString();
                  }
                }) : 8 === n.type ? $assetsLoader["default"].instance.loadRes($assetsMap.BundleNames.Public, ["/textures/gem/tili"], cc.SpriteFrame, null, function (e, i) {
                  var s = i[0];

                  if (s && cc.isValid(o)) {
                    o.children[1].getComponent(cc.Sprite).spriteFrame = $resUtil.ResUtil.assignWith(s, t.node);
                    o.children[2].getComponent(cc.Label).string = n.num.toString();
                  }
                }) : 9 === n.type ? $assetsLoader["default"].instance.loadRes($assetsMap.BundleNames.Public_Res, ["/role_shard/sp" + n.ext], cc.SpriteFrame, null, function (e, i) {
                  var s = i[0];

                  if (s && cc.isValid(o)) {
                    o.children[1].getComponent(cc.Sprite).spriteFrame = $resUtil.ResUtil.assignWith(s, t.node);
                    o.children[2].getComponent(cc.Label).string = n.num.toString();
                  }
                }) : 10 === n.type ? $assetsLoader["default"].instance.loadRes($assetsMap.BundleNames.Public_Res, ["/gun_shard/sp" + n.ext], cc.SpriteFrame, null, function (e, i) {
                  var s = i[0];

                  if (s && cc.isValid(o)) {
                    o.children[1].getComponent(cc.Sprite).spriteFrame = $resUtil.ResUtil.assignWith(s, t.node);
                    o.children[1].setContentSize(cc.size(80, 80));
                    o.children[2].getComponent(cc.Label).string = n.num.toString();
                  }
                }) : 11 === n.type ? $assetsLoader["default"].instance.loadRes($assetsMap.BundleNames.Public_Res, ["/robot_shard/sp" + n.ext], cc.SpriteFrame, null, function (e, i) {
                  var s = i[0];

                  if (s && cc.isValid(o)) {
                    o.children[1].getComponent(cc.Sprite).spriteFrame = $resUtil.ResUtil.assignWith(s, t.node);
                    o.children[2].getComponent(cc.Label).string = n.num.toString();
                  }
                }) : 12 === n.type && $assetsLoader["default"].instance.loadRes($assetsMap.BundleNames.Public, ["/textures/gem/quan"], cc.SpriteFrame, null, function (e, i) {
                  var s = i[0];

                  if (s && cc.isValid(o)) {
                    o.children[1].getComponent(cc.Sprite).spriteFrame = $resUtil.ResUtil.assignWith(s, t.node);
                    o.children[2].getComponent(cc.Label).string = n.num.toString();
                  }
                });
              }
            }
          }
        }
      }

      i.itemContent.addChild(o);
    };

    var i = this;

    for (var o = 0; o < this.rewardInfos.length; o++) {
      e(o);
    }
  };

  __decorate([h(cc.Node)], e.prototype, "itemNode", void 0);

  __decorate([h(dragonBones.ArmatureDisplay)], e.prototype, "anim", void 0);

  __decorate([h(cc.Node)], e.prototype, "itemContent", void 0);

  return __decorate([f], e);
}($popupView.PopupView);

exports["default"] = m;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcZ2FtZV9zY3JpcHRcXHNjcmlwdHNcXFJld2FyZFZpZXcuanMiXSwibmFtZXMiOlsibyIsIiRhc3NldHNMb2FkZXIiLCJyZXF1aXJlIiwiJGFzc2V0c01hcCIsIiRyZXNVdGlsIiwiJHBvcHVwVmlldyIsIiRyZW1vdGVBdWRpbyIsIiRjb25maWdDb250ZXh0IiwicCIsImNjIiwiX2RlY29yYXRvciIsImYiLCJjY2NsYXNzIiwiaCIsInByb3BlcnR5IiwibSIsInQiLCJlIiwiYXBwbHkiLCJhcmd1bWVudHMiLCJpdGVtTm9kZSIsImFuaW0iLCJpdGVtQ29udGVudCIsInJld2FyZEluZm9zIiwiX19leHRlbmRzIiwicHJvdG90eXBlIiwib25SZXNldFZpZXciLCJpbnN0YW5jZSIsInBsYXlFZmZlY3RNdXNpYyIsInVpUGFyYW0iLCJwYXJhbSIsImluZm9zIiwicmVuZGVyUmV3YXJkIiwicGxheUFuaW1hdGlvbiIsInR3ZWVuIiwidG8iLCJvcGFjaXR5Iiwic3RhcnQiLCJpbnN0YW50aWF0ZSIsImkiLCJhY3RpdmUiLCJuIiwidHlwZSIsImxvYWRSZXMiLCJCdW5kbGVOYW1lcyIsIlB1YmxpYyIsIlNwcml0ZUZyYW1lIiwicyIsImlzVmFsaWQiLCJjaGlsZHJlbiIsImdldENvbXBvbmVudCIsIlNwcml0ZSIsInNwcml0ZUZyYW1lIiwiUmVzVXRpbCIsImFzc2lnbldpdGgiLCJub2RlIiwiTGFiZWwiLCJzdHJpbmciLCJudW0iLCJ0b1N0cmluZyIsIlB1YmxpY19SZXMiLCJleHQiLCJza2lsbENvbmZpZ3MiLCJmaW5kIiwiaWQiLCJpY29uIiwiYyIsImdlbUNvbmZpZ3MiLCJwYXJ0IiwiR3JhZGUiLCJzZXRDb250ZW50U2l6ZSIsInNpemUiLCJhZGRDaGlsZCIsImxlbmd0aCIsIl9fZGVjb3JhdGUiLCJOb2RlIiwiZHJhZ29uQm9uZXMiLCJBcm1hdHVyZURpc3BsYXkiLCJQb3B1cFZpZXciLCJleHBvcnRzIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7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QUMsQ0FBQy9ELENBQUQsQ0FBRCxFQUFNTSxDQUFOLENBQWpCO0FBQ0gsQ0F0UE8sQ0FzUExaLFVBQVUsQ0FBQ3lFLFNBdFBOLENBQVI7O0FBdVBBQyxPQUFPLFdBQVAsR0FBa0JoRSxDQUFsQiIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsidmFyIG87XHJcbnZhciAkYXNzZXRzTG9hZGVyID0gcmVxdWlyZShcIi4vQXNzZXRzTG9hZGVyXCIpO1xyXG52YXIgJGFzc2V0c01hcCA9IHJlcXVpcmUoXCIuL0Fzc2V0c01hcFwiKTtcclxudmFyICRyZXNVdGlsID0gcmVxdWlyZShcIi4vUmVzVXRpbFwiKTtcclxudmFyICRwb3B1cFZpZXcgPSByZXF1aXJlKFwiLi9Qb3B1cFZpZXdcIik7XHJcbnZhciAkcmVtb3RlQXVkaW8gPSByZXF1aXJlKFwiLi9SZW1vdGVBdWRpb1wiKTtcclxudmFyICRjb25maWdDb250ZXh0ID0gcmVxdWlyZShcIi4vQ29uZmlnQ29udGV4dFwiKTtcclxudmFyIHAgPSBjYy5fZGVjb3JhdG9yO1xyXG52YXIgZiA9IHAuY2NjbGFzcztcclxudmFyIGggPSBwLnByb3BlcnR5O1xyXG52YXIgbSA9IChmdW5jdGlvbiAodCkge1xyXG4gICAgZnVuY3Rpb24gZSgpIHtcclxuICAgICAgICB2YXIgZSA9IChudWxsICE9PSB0ICYmIHQuYXBwbHkodGhpcywgYXJndW1lbnRzKSkgfHwgdGhpcztcclxuICAgICAgICBlLml0ZW1Ob2RlID0gbnVsbDtcclxuICAgICAgICBlLmFuaW0gPSBudWxsO1xyXG4gICAgICAgIGUuaXRlbUNvbnRlbnQgPSBudWxsO1xyXG4gICAgICAgIGUucmV3YXJkSW5mb3MgPSBbXTtcclxuICAgICAgICByZXR1cm4gZTtcclxuICAgIH1cclxuICAgIF9fZXh0ZW5kcyhlLCB0KTtcclxuICAgIGUucHJvdG90eXBlLm9uUmVzZXRWaWV3ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICRyZW1vdGVBdWRpby5kZWZhdWx0Lmluc3RhbmNlLnBsYXlFZmZlY3RNdXNpYyhcInJld2FyZFwiKTtcclxuICAgICAgICB0aGlzLnJld2FyZEluZm9zID0gdGhpcy51aVBhcmFtLnBhcmFtLmluZm9zO1xyXG4gICAgICAgIHRoaXMucmVuZGVyUmV3YXJkKCk7XHJcbiAgICAgICAgdGhpcy5hbmltLnBsYXlBbmltYXRpb24oXCJrYWlcIiwgMSk7XHJcbiAgICAgICAgY2MudHdlZW4odGhpcy5pdGVtQ29udGVudClcclxuICAgICAgICAgICAgLnRvKDAuNzEsIHtcclxuICAgICAgICAgICAgICAgIG9wYWNpdHk6IDI1NVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAuc3RhcnQoKTtcclxuICAgIH07XHJcbiAgICBlLnByb3RvdHlwZS5yZW5kZXJSZXdhcmQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIHQgPSB0aGlzO1xyXG4gICAgICAgIHZhciBlID0gZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICAgICAgdmFyIG8gPSBjYy5pbnN0YW50aWF0ZShpLml0ZW1Ob2RlKTtcclxuICAgICAgICAgICAgby5hY3RpdmUgPSAhMDtcclxuICAgICAgICAgICAgdmFyIG4gPSBpLnJld2FyZEluZm9zW2VdO1xyXG4gICAgICAgICAgICBpZiAoMSA9PT0gbi50eXBlKSB7XHJcbiAgICAgICAgICAgICAgICAkYXNzZXRzTG9hZGVyLmRlZmF1bHQuaW5zdGFuY2UubG9hZFJlcyhcclxuICAgICAgICAgICAgICAgICAgICAkYXNzZXRzTWFwLkJ1bmRsZU5hbWVzLlB1YmxpYyxcclxuICAgICAgICAgICAgICAgICAgICBbXCIvdGV4dHVyZXMvZ2VtL2ppbmJpXCJdLFxyXG4gICAgICAgICAgICAgICAgICAgIGNjLlNwcml0ZUZyYW1lLFxyXG4gICAgICAgICAgICAgICAgICAgIG51bGwsXHJcbiAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gKGUsIGkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHMgPSBpWzBdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocyAmJiBjYy5pc1ZhbGlkKG8pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvLmNoaWxkcmVuWzBdLmdldENvbXBvbmVudChjYy5TcHJpdGUpLnNwcml0ZUZyYW1lID0gbnVsbDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG8uY2hpbGRyZW5bMV0uZ2V0Q29tcG9uZW50KGNjLlNwcml0ZSkuc3ByaXRlRnJhbWUgPSAkcmVzVXRpbC5SZXNVdGlsLmFzc2lnbldpdGgocywgdC5ub2RlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG8uY2hpbGRyZW5bMl0uZ2V0Q29tcG9uZW50KGNjLkxhYmVsKS5zdHJpbmcgPSBuLm51bS50b1N0cmluZygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGlmICgyID09PSBuLnR5cGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAkYXNzZXRzTG9hZGVyLmRlZmF1bHQuaW5zdGFuY2UubG9hZFJlcyhcclxuICAgICAgICAgICAgICAgICAgICAgICAgJGFzc2V0c01hcC5CdW5kbGVOYW1lcy5QdWJsaWMsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFtcIi90ZXh0dXJlcy9nZW0vZXhwXCJdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYy5TcHJpdGVGcmFtZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgbnVsbCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gKGUsIGkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzID0gaVswXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzICYmIGNjLmlzVmFsaWQobykpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvLmNoaWxkcmVuWzBdLmdldENvbXBvbmVudChjYy5TcHJpdGUpLnNwcml0ZUZyYW1lID0gbnVsbDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvLmNoaWxkcmVuWzFdLmdldENvbXBvbmVudChjYy5TcHJpdGUpLnNwcml0ZUZyYW1lID0gJHJlc1V0aWwuUmVzVXRpbC5hc3NpZ25XaXRoKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0Lm5vZGVcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG8uY2hpbGRyZW5bMl0uZ2V0Q29tcG9uZW50KGNjLkxhYmVsKS5zdHJpbmcgPSBuLm51bS50b1N0cmluZygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKDMgPT09IG4udHlwZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkYXNzZXRzTG9hZGVyLmRlZmF1bHQuaW5zdGFuY2UubG9hZFJlcyhcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRhc3NldHNNYXAuQnVuZGxlTmFtZXMuUHVibGljX1JlcyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFtcIi9lcXVpcG1lbnRfaWNvbi96YlwiICsgbi5leHRdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2MuU3ByaXRlRnJhbWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBudWxsLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gKGUsIGkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcyA9IGlbMF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHMgJiYgY2MuaXNWYWxpZChvKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvLmNoaWxkcmVuWzBdLmdldENvbXBvbmVudChjYy5TcHJpdGUpLnNwcml0ZUZyYW1lID0gbnVsbDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgby5jaGlsZHJlblsxXS5nZXRDb21wb25lbnQoY2MuU3ByaXRlKS5zcHJpdGVGcmFtZSA9ICRyZXNVdGlsLlJlc1V0aWwuYXNzaWduV2l0aChcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHMsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0Lm5vZGVcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgby5jaGlsZHJlblsyXS5nZXRDb21wb25lbnQoY2MuTGFiZWwpLnN0cmluZyA9IG4ubnVtLnRvU3RyaW5nKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICg0ID09PSBuLnR5cGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzID0gJGNvbmZpZ0NvbnRleHQuZGVmYXVsdC5pbnN0YW5jZS5za2lsbENvbmZpZ3MuZmluZChmdW5jdGlvbiAodCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0LmlkID09PSBuLmV4dDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJGFzc2V0c0xvYWRlci5kZWZhdWx0Lmluc3RhbmNlLmxvYWRSZXMoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJGFzc2V0c01hcC5CdW5kbGVOYW1lcy5QdWJsaWNfUmVzLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFtcIi9za2lsbF9ib29rL1wiICsgcy5pY29uXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYy5TcHJpdGVGcmFtZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBudWxsLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uIChlLCBpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzID0gaVswXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHMgJiYgY2MuaXNWYWxpZChvKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgby5jaGlsZHJlblswXS5nZXRDb21wb25lbnQoY2MuU3ByaXRlKS5zcHJpdGVGcmFtZSA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvLmNoaWxkcmVuWzFdLmdldENvbXBvbmVudChjYy5TcHJpdGUpLnNwcml0ZUZyYW1lID0gJHJlc1V0aWwuUmVzVXRpbC5hc3NpZ25XaXRoKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHMsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdC5ub2RlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgby5jaGlsZHJlblsyXS5nZXRDb21wb25lbnQoY2MuTGFiZWwpLnN0cmluZyA9IG4ubnVtLnRvU3RyaW5nKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKDUgPT09IG4udHlwZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjID0gJGNvbmZpZ0NvbnRleHQuZGVmYXVsdC5pbnN0YW5jZS5nZW1Db25maWdzLmZpbmQoZnVuY3Rpb24gKHQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHQuaWQgPT09IG4uZXh0O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRhc3NldHNMb2FkZXIuZGVmYXVsdC5pbnN0YW5jZS5sb2FkUmVzKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkYXNzZXRzTWFwLkJ1bmRsZU5hbWVzLlB1YmxpYyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgW1wiL3RleHR1cmVzL2dlbS9nXCIgKyBjLnBhcnQgKyBcIl9cIiArIGMuR3JhZGUsIFwiL3RleHR1cmVzL2dlbS9rXCIgKyBjLkdyYWRlXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2MuU3ByaXRlRnJhbWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG51bGwsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uIChlLCBpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcyA9IGlbMF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocyAmJiBjYy5pc1ZhbGlkKG8pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgby5jaGlsZHJlblswXS5nZXRDb21wb25lbnQoY2MuU3ByaXRlKS5zcHJpdGVGcmFtZSA9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRyZXNVdGlsLlJlc1V0aWwuYXNzaWduV2l0aChpWzFdLCB0Lm5vZGUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG8uY2hpbGRyZW5bMV0uZ2V0Q29tcG9uZW50KGNjLlNwcml0ZSkuc3ByaXRlRnJhbWUgPVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkcmVzVXRpbC5SZXNVdGlsLmFzc2lnbldpdGgocywgdC5ub2RlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvLmNoaWxkcmVuWzJdLmdldENvbXBvbmVudChjYy5MYWJlbCkuc3RyaW5nID0gbi5udW0udG9TdHJpbmcoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDYgPT09IG4udHlwZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/ICRhc3NldHNMb2FkZXIuZGVmYXVsdC5pbnN0YW5jZS5sb2FkUmVzKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkYXNzZXRzTWFwLkJ1bmRsZU5hbWVzLlB1YmxpYyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgW1wiL3RleHR1cmVzL2dlbS96dWFuc2hpXCJdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYy5TcHJpdGVGcmFtZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbnVsbCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gKGUsIGkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzID0gaVswXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzICYmIGNjLmlzVmFsaWQobykpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvLmNoaWxkcmVuWzFdLmdldENvbXBvbmVudChjYy5TcHJpdGUpLnNwcml0ZUZyYW1lID1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHJlc1V0aWwuUmVzVXRpbC5hc3NpZ25XaXRoKHMsIHQubm9kZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgby5jaGlsZHJlblsyXS5nZXRDb21wb25lbnQoY2MuTGFiZWwpLnN0cmluZyA9IG4ubnVtLnRvU3RyaW5nKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogNyA9PT0gbi50eXBlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gJGFzc2V0c0xvYWRlci5kZWZhdWx0Lmluc3RhbmNlLmxvYWRSZXMoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRhc3NldHNNYXAuQnVuZGxlTmFtZXMuUHVibGljLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBbXCIvdGV4dHVyZXMvZ2VtL3VwZ3JhZGVfc29uZVwiXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2MuU3ByaXRlRnJhbWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG51bGwsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uIChlLCBpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcyA9IGlbMF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocyAmJiBjYy5pc1ZhbGlkKG8pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgby5jaGlsZHJlblsxXS5nZXRDb21wb25lbnQoY2MuU3ByaXRlKS5zcHJpdGVGcmFtZSA9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRyZXNVdGlsLlJlc1V0aWwuYXNzaWduV2l0aChzLCB0Lm5vZGUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG8uY2hpbGRyZW5bMl0uZ2V0Q29tcG9uZW50KGNjLkxhYmVsKS5zdHJpbmcgPSBuLm51bS50b1N0cmluZygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IDggPT09IG4udHlwZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/ICRhc3NldHNMb2FkZXIuZGVmYXVsdC5pbnN0YW5jZS5sb2FkUmVzKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkYXNzZXRzTWFwLkJ1bmRsZU5hbWVzLlB1YmxpYyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgW1wiL3RleHR1cmVzL2dlbS90aWxpXCJdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYy5TcHJpdGVGcmFtZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbnVsbCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gKGUsIGkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzID0gaVswXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzICYmIGNjLmlzVmFsaWQobykpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvLmNoaWxkcmVuWzFdLmdldENvbXBvbmVudChjYy5TcHJpdGUpLnNwcml0ZUZyYW1lID1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHJlc1V0aWwuUmVzVXRpbC5hc3NpZ25XaXRoKHMsIHQubm9kZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgby5jaGlsZHJlblsyXS5nZXRDb21wb25lbnQoY2MuTGFiZWwpLnN0cmluZyA9IG4ubnVtLnRvU3RyaW5nKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogOSA9PT0gbi50eXBlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gJGFzc2V0c0xvYWRlci5kZWZhdWx0Lmluc3RhbmNlLmxvYWRSZXMoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRhc3NldHNNYXAuQnVuZGxlTmFtZXMuUHVibGljX1JlcyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgW1wiL3JvbGVfc2hhcmQvc3BcIiArIG4uZXh0XSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2MuU3ByaXRlRnJhbWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG51bGwsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uIChlLCBpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcyA9IGlbMF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocyAmJiBjYy5pc1ZhbGlkKG8pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgby5jaGlsZHJlblsxXS5nZXRDb21wb25lbnQoY2MuU3ByaXRlKS5zcHJpdGVGcmFtZSA9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRyZXNVdGlsLlJlc1V0aWwuYXNzaWduV2l0aChzLCB0Lm5vZGUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG8uY2hpbGRyZW5bMl0uZ2V0Q29tcG9uZW50KGNjLkxhYmVsKS5zdHJpbmcgPSBuLm51bS50b1N0cmluZygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IDEwID09PSBuLnR5cGVcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyAkYXNzZXRzTG9hZGVyLmRlZmF1bHQuaW5zdGFuY2UubG9hZFJlcyhcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJGFzc2V0c01hcC5CdW5kbGVOYW1lcy5QdWJsaWNfUmVzLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBbXCIvZ3VuX3NoYXJkL3NwXCIgKyBuLmV4dF0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNjLlNwcml0ZUZyYW1lLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBudWxsLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiAoZSwgaSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHMgPSBpWzBdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHMgJiYgY2MuaXNWYWxpZChvKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG8uY2hpbGRyZW5bMV0uZ2V0Q29tcG9uZW50KGNjLlNwcml0ZSkuc3ByaXRlRnJhbWUgPVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkcmVzVXRpbC5SZXNVdGlsLmFzc2lnbldpdGgocywgdC5ub2RlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvLmNoaWxkcmVuWzFdLnNldENvbnRlbnRTaXplKGNjLnNpemUoODAsIDgwKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgby5jaGlsZHJlblsyXS5nZXRDb21wb25lbnQoY2MuTGFiZWwpLnN0cmluZyA9IG4ubnVtLnRvU3RyaW5nKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogMTEgPT09IG4udHlwZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/ICRhc3NldHNMb2FkZXIuZGVmYXVsdC5pbnN0YW5jZS5sb2FkUmVzKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkYXNzZXRzTWFwLkJ1bmRsZU5hbWVzLlB1YmxpY19SZXMsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFtcIi9yb2JvdF9zaGFyZC9zcFwiICsgbi5leHRdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYy5TcHJpdGVGcmFtZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbnVsbCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gKGUsIGkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzID0gaVswXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzICYmIGNjLmlzVmFsaWQobykpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvLmNoaWxkcmVuWzFdLmdldENvbXBvbmVudChjYy5TcHJpdGUpLnNwcml0ZUZyYW1lID1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHJlc1V0aWwuUmVzVXRpbC5hc3NpZ25XaXRoKHMsIHQubm9kZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgby5jaGlsZHJlblsyXS5nZXRDb21wb25lbnQoY2MuTGFiZWwpLnN0cmluZyA9IG4ubnVtLnRvU3RyaW5nKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogMTIgPT09IG4udHlwZSAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRhc3NldHNMb2FkZXIuZGVmYXVsdC5pbnN0YW5jZS5sb2FkUmVzKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkYXNzZXRzTWFwLkJ1bmRsZU5hbWVzLlB1YmxpYyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgW1wiL3RleHR1cmVzL2dlbS9xdWFuXCJdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYy5TcHJpdGVGcmFtZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbnVsbCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gKGUsIGkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzID0gaVswXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzICYmIGNjLmlzVmFsaWQobykpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvLmNoaWxkcmVuWzFdLmdldENvbXBvbmVudChjYy5TcHJpdGUpLnNwcml0ZUZyYW1lID1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHJlc1V0aWwuUmVzVXRpbC5hc3NpZ25XaXRoKHMsIHQubm9kZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgby5jaGlsZHJlblsyXS5nZXRDb21wb25lbnQoY2MuTGFiZWwpLnN0cmluZyA9IG4ubnVtLnRvU3RyaW5nKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGkuaXRlbUNvbnRlbnQuYWRkQ2hpbGQobyk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICB2YXIgaSA9IHRoaXM7XHJcbiAgICAgICAgZm9yICh2YXIgbyA9IDA7IG8gPCB0aGlzLnJld2FyZEluZm9zLmxlbmd0aDsgbysrKSB7XHJcbiAgICAgICAgICAgIGUobyk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIF9fZGVjb3JhdGUoW2goY2MuTm9kZSldLCBlLnByb3RvdHlwZSwgXCJpdGVtTm9kZVwiLCB2b2lkIDApO1xyXG4gICAgX19kZWNvcmF0ZShbaChkcmFnb25Cb25lcy5Bcm1hdHVyZURpc3BsYXkpXSwgZS5wcm90b3R5cGUsIFwiYW5pbVwiLCB2b2lkIDApO1xyXG4gICAgX19kZWNvcmF0ZShbaChjYy5Ob2RlKV0sIGUucHJvdG90eXBlLCBcIml0ZW1Db250ZW50XCIsIHZvaWQgMCk7XHJcbiAgICByZXR1cm4gX19kZWNvcmF0ZShbZl0sIGUpO1xyXG59KSgkcG9wdXBWaWV3LlBvcHVwVmlldyk7XHJcbmV4cG9ydHMuZGVmYXVsdCA9IG07XHJcbiJdfQ==