{"version":3,"sources":["assets\\game_script\\scripts\\ADAssetsManager.js"],"names":["exports","adAssetsMap","prefabs","NativeIcon","NativeInterstitial_HW","o","t","_adBundle","_bundleName","Object","defineProperty","get","_instance","enumerable","configurable","prototype","loadBund","Promise","e","i","cc","isValid","assetManager","loadBundle","onFileProgress","n","console","error","loadRes","load","createNodeByPreloading","log","Prefab","instantiate"],"mappings":"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","sourceRoot":"/","sourcesContent":["exports.adAssetsMap = void 0;\r\nexports.adAssetsMap = {\r\n    prefabs: {\r\n        NativeIcon: \"/prefabs/NativeIcon\",\r\n        NativeInterstitial_HW: \"/prefabs/NativeInterstitial_HW\"\r\n    }\r\n};\r\nvar o = (function () {\r\n    function t() {\r\n        this._adBundle = null;\r\n        this._bundleName = \"ad\";\r\n    }\r\n    Object.defineProperty(t, \"instance\", {\r\n        get: function () {\r\n            if (!t._instance) {\r\n                t._instance = new t();\r\n            }\r\n            return t._instance;\r\n        },\r\n        enumerable: !1,\r\n        configurable: !0\r\n    });\r\n    t.prototype.loadBund = function () {\r\n        var t = this;\r\n        return new Promise(function (e, i) {\r\n            if (cc.isValid(t._adBundle)) {\r\n                return e(t._adBundle);\r\n            }\r\n            cc.assetManager.loadBundle(\r\n                t._bundleName,\r\n                {\r\n                    onFileProgress: function () {}\r\n                },\r\n                function (o, n) {\r\n                    return o ? (console.error(\"ad bundle load fail\", o), i(o)) : ((t._adBundle = n), e(t._adBundle));\r\n                }\r\n            );\r\n        });\r\n    };\r\n    t.prototype.loadRes = function (t, e) {\r\n        var i = this;\r\n        return new Promise(function (o, n) {\r\n            i._adBundle.load(\r\n                t,\r\n                e,\r\n                function () {},\r\n                function (t, e) {\r\n                    t ? n(t) : o(e);\r\n                }\r\n            );\r\n        });\r\n    };\r\n    t.prototype.createNodeByPreloading = function (t) {\r\n        console.log(this._adBundle);\r\n        if (!this._adBundle) {\r\n            console.error(\"UIManager\", \"createNodeByPreloading error,bundle ad_assets unloaded\");\r\n            return null;\r\n        }\r\n        var e = this._adBundle.get(t, cc.Prefab);\r\n        if (!e || null == e) {\r\n            console.error(\"UIManager\", \"createNodeByPreloading error,url: \" + t + \"  unloaded\");\r\n            return null;\r\n        }\r\n        if (!(e instanceof cc.Prefab)) {\r\n            console.error(\"UIManager\", \"createNodeByPreloading error,url: \" + t + \"  not prefab\");\r\n            return null;\r\n        }\r\n        var i = cc.instantiate(e);\r\n        return i && null != i\r\n            ? i\r\n            : (console.error(\"UIManager\", \"createNodeByPreloading fail,url: \" + t + \"  create node is null\"), null);\r\n    };\r\n    t._instance = null;\r\n    return t;\r\n})();\r\nexports.default = o;\r\n"]}