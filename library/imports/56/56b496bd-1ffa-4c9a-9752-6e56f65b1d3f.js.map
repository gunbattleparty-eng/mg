{"version":3,"sources":["assets\\game_script\\scripts\\SettleView.js"],"names":["o","$assetsLoader","require","$assetsMap","$resUtil","$list","$popupManager","$uIManager","$popupView","$platform","$remoteAudio","$seedUtil","$aD","$adService","$battleContext","$configContext","$globalParam","$roleContext","$taskContext","$userDataContext","$gameContext","$rankService","$skillHurtItem","P","cc","_decorator","R","ccclass","B","property","x","t","e","apply","arguments","list","successTitle","failTitle","rewardNode","btnAd","skillIds","rewardInfos","isUpgrade","__extends","prototype","onLoad","ins","hurtRecord","forEach","i","push","length","numItems","onResetView","uiParam","param","isSuccess","active","n","s","r","isPause","Platform","currPlatForm","PlatformEnum","TOU_TIAO","a","hpProccess","toutiao","report","level","Ins","currLevel","lessthan50","morethan50","fall","pass","pause","instance","playEffectMusic","l","getLastRecord","setTaskRecord","setRecord","Math","floor","gameStartTime","min","countLevel","reportRankData","RankTypeEnum","Level","c","getRecord","resBlood","time","settleReward","renderReward","addEvent","on","clickAd","removeEvent","off","children","type","loadRes","BundleNames","Public","SpriteFrame","isValid","getComponent","Sprite","spriteFrame","ResUtil","assignWith","node","Label","string","num","toString","opearCoin","addExp","Public_Res","ext","opearEquipBook","skillConfigs","find","id","icon","opearSkillBook","gemConfigs","part","Grade","addPackItem","u","getPlayerSkinInfo","shard","setPlayerSKinInfo","onClickClose","UIManager","replaceView","AssetsMap","StartBundles","prefabs","assetsList","StartView","showRewardedVideo","randomFrom","splice","PopupManager","open","PopUpBundles","RewardView","infos","renderItem","skillInfo","chooseParentTime","get","skillConfigsMap","skillCount","getChooseParendCount","skillName","basicSkillConfigs","skillmaster_id","name","skillHurt","skillHurtSec","render","__decorate","Node","PopupView","exports"],"mappings":"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","sourceRoot":"/","sourcesContent":["var o;\r\nvar $assetsLoader = require(\"./AssetsLoader\");\r\nvar $assetsMap = require(\"./AssetsMap\");\r\nvar $resUtil = require(\"./ResUtil\");\r\nvar $list = require(\"./List\");\r\nvar $popupManager = require(\"./PopupManager\");\r\nvar $uIManager = require(\"./UIManager\");\r\nvar $popupView = require(\"./PopupView\");\r\nvar $platform = require(\"./Platform\");\r\nvar $remoteAudio = require(\"./RemoteAudio\");\r\nvar $seedUtil = require(\"./SeedUtil\");\r\nvar $aD = require(\"./AD\");\r\nvar $adService = require(\"./AdService\");\r\nvar $battleContext = require(\"./BattleContext\");\r\nvar $configContext = require(\"./ConfigContext\");\r\nvar $globalParam = require(\"./GlobalParam\");\r\nvar $roleContext = require(\"./RoleContext\");\r\nvar $taskContext = require(\"./TaskContext\");\r\nvar $userDataContext = require(\"./UserDataContext\");\r\nvar $gameContext = require(\"./GameContext\");\r\nvar $rankService = require(\"./RankService\");\r\nvar $skillHurtItem = require(\"./SkillHurtItem\");\r\nvar P = cc._decorator;\r\nvar R = P.ccclass;\r\nvar B = P.property;\r\nvar x = (function (t) {\r\n    function e() {\r\n        var e = (null !== t && t.apply(this, arguments)) || this;\r\n        e.list = null;\r\n        e.successTitle = null;\r\n        e.failTitle = null;\r\n        e.rewardNode = null;\r\n        e.btnAd = null;\r\n        e.skillIds = [];\r\n        e.rewardInfos = [];\r\n        e.isUpgrade = !1;\r\n        return e;\r\n    }\r\n    __extends(e, t);\r\n    e.prototype.onLoad = function () {\r\n        var t = this;\r\n        $gameContext.default.ins.hurtRecord.forEach(function (e, i) {\r\n            t.skillIds.push(i);\r\n        });\r\n        if (0 !== this.skillIds.length) {\r\n            this.list.numItems = this.skillIds.length;\r\n        }\r\n    };\r\n    e.prototype.onResetView = function () {\r\n        var t;\r\n        var e = this.uiParam.param.isSuccess;\r\n        this.successTitle.active = e;\r\n        this.failTitle.active = !e;\r\n        var i = 0;\r\n        var o = 0;\r\n        var n = 0;\r\n        var s = 0;\r\n        var r = 0;\r\n        if (null === (t = this.uiParam.param) || void 0 === t ? void 0 : t.isPause) {\r\n            r = 1;\r\n        }\r\n        if ($platform.Platform.currPlatForm === $platform.PlatformEnum.TOU_TIAO) {\r\n            var a = $gameContext.default.ins.hpProccess();\r\n            if (!e) {\r\n                a = 0;\r\n            }\r\n            n = e ? 0 : 1;\r\n            s = a >= 1 ? 1 : 0;\r\n            i = a < 0.5 && a > 0 ? 1 : 0;\r\n            o = a >= 0.5 && a < 1 ? 1 : 0;\r\n            $aD.default.toutiao.report(\"Challenge\", {\r\n                level: $battleContext.default.Ins.currLevel,\r\n                lessthan50: i,\r\n                morethan50: o,\r\n                fall: n,\r\n                pass: s,\r\n                pause: r\r\n            });\r\n        }\r\n        if (e) {\r\n            $remoteAudio.default.instance.playEffectMusic(\"win\");\r\n            var l = $battleContext.default.Ins.getLastRecord();\r\n            if ($gameContext.default.ins.hpProccess() >= 1) {\r\n                $taskContext.default.Ins.setTaskRecord(8, 1);\r\n            }\r\n            $battleContext.default.Ins.setRecord(\r\n                $battleContext.default.Ins.currLevel,\r\n                $gameContext.default.ins.hpProccess(),\r\n                Math.floor($gameContext.default.ins.gameStartTime)\r\n            );\r\n            if (l.level < $battleContext.default.Ins.currLevel) {\r\n                $battleContext.default.Ins.currLevel++;\r\n                $battleContext.default.Ins.currLevel = Math.min(\r\n                    $globalParam.default.countLevel,\r\n                    $battleContext.default.Ins.currLevel\r\n                );\r\n                $rankService.default.instance.reportRankData($rankService.RankTypeEnum.Level);\r\n            }\r\n        } else {\r\n            $remoteAudio.default.instance.playEffectMusic(\"fail\");\r\n            var c = $battleContext.default.Ins.getRecord($battleContext.default.Ins.currLevel);\r\n            if (-1 === c.resBlood && c.time < Math.floor($gameContext.default.ins.gameStartTime)) {\r\n                $battleContext.default.Ins.setRecord(\r\n                    $battleContext.default.Ins.currLevel,\r\n                    -1,\r\n                    Math.floor($gameContext.default.ins.gameStartTime)\r\n                );\r\n            }\r\n        }\r\n        this.rewardInfos = $gameContext.default.ins.settleReward(e);\r\n        this.renderReward();\r\n    };\r\n    e.prototype.addEvent = function () {\r\n        this.btnAd.on(\"click\", this.clickAd, this);\r\n    };\r\n    e.prototype.removeEvent = function () {\r\n        this.btnAd.off(\"click\", this.clickAd, this);\r\n    };\r\n    e.prototype.renderReward = function () {\r\n        var t = this;\r\n        this.rewardNode.children.forEach(function (t) {\r\n            return (t.active = !1);\r\n        });\r\n        var e = function (e) {\r\n            var o = i.rewardNode.children[e];\r\n            o.active = !0;\r\n            var n = i.rewardInfos[e];\r\n            if (1 === n.type) {\r\n                $assetsLoader.default.instance.loadRes(\r\n                    $assetsMap.BundleNames.Public,\r\n                    [\"/textures/gem/jinbi\"],\r\n                    cc.SpriteFrame,\r\n                    null,\r\n                    function (e, i) {\r\n                        var s = i[0];\r\n                        if (s && cc.isValid(o)) {\r\n                            o.children[0].getComponent(cc.Sprite).spriteFrame = null;\r\n                            o.children[1].getComponent(cc.Sprite).spriteFrame = $resUtil.ResUtil.assignWith(s, t.node);\r\n                            o.children[2].getComponent(cc.Label).string = n.num.toString();\r\n                        }\r\n                    }\r\n                );\r\n                $userDataContext.default.Ins.opearCoin(n.num);\r\n            } else {\r\n                if (2 === n.type) {\r\n                    $assetsLoader.default.instance.loadRes(\r\n                        $assetsMap.BundleNames.Public,\r\n                        [\"/textures/gem/exp\"],\r\n                        cc.SpriteFrame,\r\n                        null,\r\n                        function (e, i) {\r\n                            var s = i[0];\r\n                            if (s && cc.isValid(o)) {\r\n                                o.children[0].getComponent(cc.Sprite).spriteFrame = null;\r\n                                o.children[1].getComponent(cc.Sprite).spriteFrame = $resUtil.ResUtil.assignWith(\r\n                                    s,\r\n                                    t.node\r\n                                );\r\n                                o.children[2].getComponent(cc.Label).string = n.num.toString();\r\n                            }\r\n                        }\r\n                    );\r\n                    $userDataContext.default.Ins.addExp(n.num) && (i.isUpgrade = !0);\r\n                } else {\r\n                    if (3 === n.type) {\r\n                        $assetsLoader.default.instance.loadRes(\r\n                            $assetsMap.BundleNames.Public_Res,\r\n                            [\"/equipment_icon/zb\" + n.ext],\r\n                            cc.SpriteFrame,\r\n                            null,\r\n                            function (e, i) {\r\n                                var s = i[0];\r\n                                if (s && cc.isValid(o)) {\r\n                                    o.children[0].getComponent(cc.Sprite).spriteFrame = null;\r\n                                    o.children[1].getComponent(cc.Sprite).spriteFrame = $resUtil.ResUtil.assignWith(\r\n                                        s,\r\n                                        t.node\r\n                                    );\r\n                                    o.children[2].getComponent(cc.Label).string = n.num.toString();\r\n                                }\r\n                            }\r\n                        );\r\n                        $userDataContext.default.Ins.opearEquipBook(n.ext, n.num);\r\n                    } else {\r\n                        if (4 === n.type) {\r\n                            var s = $configContext.default.instance.skillConfigs.find(function (t) {\r\n                                return t.id === n.ext;\r\n                            });\r\n                            $assetsLoader.default.instance.loadRes(\r\n                                $assetsMap.BundleNames.Public_Res,\r\n                                [\"/skill_book/\" + s.icon],\r\n                                cc.SpriteFrame,\r\n                                null,\r\n                                function (e, i) {\r\n                                    var s = i[0];\r\n                                    if (s && cc.isValid(o)) {\r\n                                        o.children[0].getComponent(cc.Sprite).spriteFrame = null;\r\n                                        o.children[1].getComponent(cc.Sprite).spriteFrame = $resUtil.ResUtil.assignWith(\r\n                                            s,\r\n                                            t.node\r\n                                        );\r\n                                        o.children[2].getComponent(cc.Label).string = n.num.toString();\r\n                                    }\r\n                                }\r\n                            );\r\n                            $userDataContext.default.Ins.opearSkillBook(n.ext, n.num);\r\n                        } else {\r\n                            if (5 === n.type) {\r\n                                var c = $configContext.default.instance.gemConfigs.find(function (t) {\r\n                                    return t.id === n.ext;\r\n                                });\r\n                                $assetsLoader.default.instance.loadRes(\r\n                                    $assetsMap.BundleNames.Public,\r\n                                    [\"/textures/gem/g\" + c.part + \"_\" + c.Grade, \"/textures/gem/k\" + c.Grade],\r\n                                    cc.SpriteFrame,\r\n                                    null,\r\n                                    function (e, i) {\r\n                                        var s = i[0];\r\n                                        if (s && cc.isValid(o)) {\r\n                                            o.children[0].getComponent(cc.Sprite).spriteFrame =\r\n                                                $resUtil.ResUtil.assignWith(i[1], t.node);\r\n                                            o.children[1].getComponent(cc.Sprite).spriteFrame =\r\n                                                $resUtil.ResUtil.assignWith(s, t.node);\r\n                                            o.children[2].getComponent(cc.Label).string = n.num.toString();\r\n                                        }\r\n                                    }\r\n                                );\r\n                                $roleContext.default.ins.addPackItem(c, n.num);\r\n                            } else {\r\n                                if (9 === n.type) {\r\n                                    $assetsLoader.default.instance.loadRes(\r\n                                        $assetsMap.BundleNames.Public_Res,\r\n                                        [\"/role_shard/sp\" + n.ext],\r\n                                        cc.SpriteFrame,\r\n                                        null,\r\n                                        function (e, i) {\r\n                                            var s = i[0];\r\n                                            if (s && cc.isValid(o)) {\r\n                                                o.children[1].getComponent(cc.Sprite).spriteFrame =\r\n                                                    $resUtil.ResUtil.assignWith(s, t.node);\r\n                                                o.children[2].getComponent(cc.Label).string = n.num.toString();\r\n                                            }\r\n                                        }\r\n                                    );\r\n                                    var u = $roleContext.default.ins.getPlayerSkinInfo(2);\r\n                                    u.shard += 1;\r\n                                    $roleContext.default.ins.setPlayerSKinInfo(u);\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        };\r\n        var i = this;\r\n        for (var o = 0; o < this.rewardInfos.length; o++) {\r\n            e(o);\r\n        }\r\n    };\r\n    e.prototype.onClickClose = function () {\r\n        $uIManager.UIManager.instance.replaceView($assetsMap.AssetsMap.StartBundles.prefabs.assetsList.StartView, {\r\n            isUpgrade: this.isUpgrade\r\n        });\r\n    };\r\n    e.prototype.clickAd = function () {\r\n        var t = this;\r\n        $adService.default.Ins.showRewardedVideo(function () {\r\n            if ($platform.Platform.currPlatForm === $platform.PlatformEnum.TOU_TIAO) {\r\n                $aD.default.toutiao.report(\"Ending_double\");\r\n            }\r\n            t.btnAd.active = !1;\r\n            var e = $seedUtil.default.randomFrom(2, 3);\r\n            var i = -1;\r\n            var o = function (o) {\r\n                t.rewardInfos[o].num *= e;\r\n                var n = t.rewardInfos[o];\r\n                if (9 === n.type) {\r\n                    i = o;\r\n                } else {\r\n                    if (1 === t.rewardInfos[o].type) {\r\n                        $userDataContext.default.Ins.opearCoin(t.rewardInfos[o].num);\r\n                    } else {\r\n                        if (2 === t.rewardInfos[o].type) {\r\n                            if ($userDataContext.default.Ins.addExp(n.num)) {\r\n                                t.isUpgrade = !0;\r\n                            }\r\n                        } else {\r\n                            if (3 === t.rewardInfos[o].type) {\r\n                                $userDataContext.default.Ins.opearEquipBook(n.ext, n.num);\r\n                            } else {\r\n                                if (4 === t.rewardInfos[o].type) {\r\n                                    $userDataContext.default.Ins.opearSkillBook(n.ext, n.num);\r\n                                } else {\r\n                                    if (5 === t.rewardInfos[o].type) {\r\n                                        var s = $configContext.default.instance.gemConfigs.find(function (t) {\r\n                                            return t.id === n.ext;\r\n                                        });\r\n                                        $roleContext.default.ins.addPackItem(s, n.num);\r\n                                    }\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            };\r\n            for (var n = 0; n < t.rewardInfos.length; n++) {\r\n                o(n);\r\n            }\r\n            if (-1 !== i) {\r\n                t.rewardInfos.splice(i, 1);\r\n            }\r\n            $popupManager.PopupManager.instance.open($assetsMap.AssetsMap.PopUpBundles.prefabs.assetsList.RewardView, {\r\n                infos: t.rewardInfos\r\n            });\r\n        });\r\n    };\r\n    e.prototype.renderItem = function (t, e) {\r\n        var i = this.skillIds[e];\r\n        var o = $gameContext.default.ins.gameStartTime - $gameContext.default.ins.skillInfo.chooseParentTime.get(i);\r\n        var n = {\r\n            icon: 1 === i ? \"jn1_1\" : $configContext.default.instance.skillConfigsMap.get(i).icon,\r\n            skillCount: $gameContext.default.ins.skillInfo.getChooseParendCount(i),\r\n            skillName: $configContext.default.instance.basicSkillConfigs.find(function (t) {\r\n                return t.skillmaster_id === i;\r\n            }).name,\r\n            skillHurt: $gameContext.default.ins.hurtRecord.get(i),\r\n            skillHurtSec: Math.floor($gameContext.default.ins.hurtRecord.get(i) / o)\r\n        };\r\n        t.getComponent($skillHurtItem.default).render(n);\r\n    };\r\n    __decorate([B($list.default)], e.prototype, \"list\", void 0);\r\n    __decorate([B(cc.Node)], e.prototype, \"successTitle\", void 0);\r\n    __decorate([B(cc.Node)], e.prototype, \"failTitle\", void 0);\r\n    __decorate([B(cc.Node)], e.prototype, \"rewardNode\", void 0);\r\n    __decorate([B(cc.Node)], e.prototype, \"btnAd\", void 0);\r\n    return __decorate([R], e);\r\n})($popupView.PopupView);\r\nexports.default = x;\r\n"]}