{"version":3,"sources":["assets\\game_script\\scripts\\GemStatsView.js"],"names":["o","$list","require","$popupView","$configContext","$gameGemInfo","u","cc","_decorator","d","ccclass","p","property","f","t","e","apply","arguments","list","skillPoolIds","showTyps","__extends","prototype","onResetView","instance","gemSkillConfigs","length","i","id","GameGemInfo","ins","hasGem","push","show_type","scheduleOnce","numItems","renderItem","getComponentInChildren","Label","string","getGemDesc2","_forceUpdateRenderData","Layout","updateLayout","height","children","__decorate","PopupView","exports"],"mappings":";;;;;;AAAA,IAAIA,CAAJ;;AACA,IAAIC,KAAK,GAAGC,OAAO,CAAC,QAAD,CAAnB;;AACA,IAAIC,UAAU,GAAGD,OAAO,CAAC,aAAD,CAAxB;;AACA,IAAIE,cAAc,GAAGF,OAAO,CAAC,iBAAD,CAA5B;;AACA,IAAIG,YAAY,GAAGH,OAAO,CAAC,eAAD,CAA1B;;AACA,IAAII,CAAC,GAAGC,EAAE,CAACC,UAAX;AACA,IAAIC,CAAC,GAAGH,CAAC,CAACI,OAAV;AACA,IAAIC,CAAC,GAAGL,CAAC,CAACM,QAAV;;AACA,IAAIC,CAAC,GAAI,UAAUC,CAAV,EAAa;EAClB,SAASC,CAAT,GAAa;IACT,IAAIA,CAAC,GAAI,SAASD,CAAT,IAAcA,CAAC,CAACE,KAAF,CAAQ,IAAR,EAAcC,SAAd,CAAf,IAA4C,IAApD;IACAF,CAAC,CAACG,IAAF,GAAS,IAAT;IACAH,CAAC,CAACI,YAAF,GAAiB,EAAjB;IACAJ,CAAC,CAACK,QAAF,GAAa,EAAb;IACA,OAAOL,CAAP;EACH;;EACDM,SAAS,CAACN,CAAD,EAAID,CAAJ,CAAT;;EACAC,CAAC,CAACO,SAAF,CAAYC,WAAZ,GAA0B,YAAY;IAClC,IAAIT,CAAC,GAAG,IAAR;;IACA,KAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGX,cAAc,WAAd,CAAuBoB,QAAvB,CAAgCC,eAAhC,CAAgDC,MAApE,EAA4EX,CAAC,EAA7E,EAAiF;MAC7E,IAAIY,CAAC,GAAGvB,cAAc,WAAd,CAAuBoB,QAAvB,CAAgCC,eAAhC,CAAgDV,CAAhD,EAAmDa,EAA3D;;MACA,IAAIvB,YAAY,CAACwB,WAAb,CAAyBC,GAAzB,CAA6BC,MAA7B,CAAoCJ,CAApC,CAAJ,EAA4C;QACxC,KAAKR,YAAL,CAAkBa,IAAlB,CAAuBL,CAAvB;QACA,KAAKP,QAAL,CAAcY,IAAd,CAAmB5B,cAAc,WAAd,CAAuBoB,QAAvB,CAAgCC,eAAhC,CAAgDV,CAAhD,EAAmDkB,SAAtE;MACH;IACJ;;IACD,KAAKC,YAAL,CAAkB,YAAY;MAC1BpB,CAAC,CAACI,IAAF,CAAOiB,QAAP,GAAkBrB,CAAC,CAACK,YAAF,CAAeO,MAAjC;IACH,CAFD;EAGH,CAZD;;EAaAX,CAAC,CAACO,SAAF,CAAYc,UAAZ,GAAyB,UAAUtB,CAAV,EAAaC,CAAb,EAAgB;IACrC,IAAIY,CAAC,GAAGb,CAAC,CAACuB,sBAAF,CAAyB9B,EAAE,CAAC+B,KAA5B,CAAR;IACAX,CAAC,CAACY,MAAF,GAAWlC,YAAY,CAACwB,WAAb,CAAyBC,GAAzB,CAA6BU,WAA7B,CAAyC,KAAKrB,YAAL,CAAkBJ,CAAlB,CAAzC,EAA+D,KAAKK,QAAL,CAAcL,CAAd,CAA/D,CAAX;;IACAY,CAAC,CAACc,sBAAF;;IACA3B,CAAC,CAACuB,sBAAF,CAAyB9B,EAAE,CAACmC,MAA5B,EAAoCC,YAApC;IACA7B,CAAC,CAAC8B,MAAF,GAAW9B,CAAC,CAAC+B,QAAF,CAAW,CAAX,EAAcD,MAAzB;EACH,CAND;;EAOAE,UAAU,CAAC,CAACnC,CAAC,CAACV,KAAK,WAAN,CAAF,CAAD,EAAqBc,CAAC,CAACO,SAAvB,EAAkC,MAAlC,EAA0C,KAAK,CAA/C,CAAV;;EACA,OAAOwB,UAAU,CAAC,CAACrC,CAAD,CAAD,EAAMM,CAAN,CAAjB;AACH,CA/BO,CA+BLZ,UAAU,CAAC4C,SA/BN,CAAR;;AAgCAC,OAAO,WAAP,GAAkBnC,CAAlB","sourceRoot":"/","sourcesContent":["var o;\r\nvar $list = require(\"./List\");\r\nvar $popupView = require(\"./PopupView\");\r\nvar $configContext = require(\"./ConfigContext\");\r\nvar $gameGemInfo = require(\"./GameGemInfo\");\r\nvar u = cc._decorator;\r\nvar d = u.ccclass;\r\nvar p = u.property;\r\nvar f = (function (t) {\r\n    function e() {\r\n        var e = (null !== t && t.apply(this, arguments)) || this;\r\n        e.list = null;\r\n        e.skillPoolIds = [];\r\n        e.showTyps = [];\r\n        return e;\r\n    }\r\n    __extends(e, t);\r\n    e.prototype.onResetView = function () {\r\n        var t = this;\r\n        for (var e = 0; e < $configContext.default.instance.gemSkillConfigs.length; e++) {\r\n            var i = $configContext.default.instance.gemSkillConfigs[e].id;\r\n            if ($gameGemInfo.GameGemInfo.ins.hasGem(i)) {\r\n                this.skillPoolIds.push(i);\r\n                this.showTyps.push($configContext.default.instance.gemSkillConfigs[e].show_type);\r\n            }\r\n        }\r\n        this.scheduleOnce(function () {\r\n            t.list.numItems = t.skillPoolIds.length;\r\n        });\r\n    };\r\n    e.prototype.renderItem = function (t, e) {\r\n        var i = t.getComponentInChildren(cc.Label);\r\n        i.string = $gameGemInfo.GameGemInfo.ins.getGemDesc2(this.skillPoolIds[e], this.showTyps[e]);\r\n        i._forceUpdateRenderData();\r\n        t.getComponentInChildren(cc.Layout).updateLayout();\r\n        t.height = t.children[0].height;\r\n    };\r\n    __decorate([p($list.default)], e.prototype, \"list\", void 0);\r\n    return __decorate([d], e);\r\n})($popupView.PopupView);\r\nexports.default = f;\r\n"]}