
                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/game_script/scripts/RankService.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '2293fqxxrJN0plN5szCb9JS', 'RankService');
// game_script/scripts/RankService.js

"use strict";

exports.RankTypeEnum = void 0;
var s;
var r;

var $login = require("./Login");

var $mD5 = require("./MD5");

var $crypto_ts = require("./crypto-ts");

var $platform = require("./Platform");

var $countDownUtil = require("./CountDownUtil");

var $storageUtil = require("./StorageUtil");

var $util = require("./Util");

var $battleContext = require("./BattleContext");

var $globalParam = require("./GlobalParam");

var $localName = require("./LocalName");

var $switchContext = require("./SwitchContext");

var $userDataContext = require("./UserDataContext");

(r = s = exports.RankTypeEnum || (exports.RankTypeEnum = {}))[r.Level = 1] = "Level";

var k = function () {
  function t() {
    this.rankIdMap = new Map();
    this.rankListMap = new Map();
    this.selfRankMap = new Map();
    this.rankCheckRecord = {
      lastTime: 0,
      level: 0
    };
    this.isTestEvn = !1;
    this.lastWeight = 0;
  }

  t.prototype.initData = function () {
    if (!this.isTestEvn) {
      this.rankCheckRecord = $storageUtil.StorageUtil.getItem($localName["default"].RANK_DATA, this.rankCheckRecord);
      this.rankIdMap.set(s.Level, $switchContext.SwitchContext.rankId);
      this.requestRankList(s.Level);
      this.requestSelfRank(s.Level);
    }
  };

  t.prototype.requestRankID = function (t, e, i, o, n) {
    var s = this;
    v.requestRankID({
      gameCode: e,
      platformCode: i,
      systemCode: o,
      serverId: n,
      rankType: t
    }).then(function (e) {
      s.rankIdMap.set(t, e.data);
      s.requestRankList(t);
      s.requestSelfRank(t);
    })["catch"](function (t) {
      console.error(t);
    });
  };

  t.prototype.refreshAllRankList = function (t) {
    if (!this.isTestEvn) {
      var e = 0;

      for (var i = 1; i <= 1; i++) {
        this.requestRankList(i).then(function () {
          if (++e >= 2 && t) {
            t();
          }
        })["catch"](function (i) {
          console.error(i);

          if (++e >= 2 && t) {
            t();
          }
        });
        this.requestSelfRank(i).then(function () {
          if (++e >= 2 && t) {
            t();
          }
        })["catch"](function (i) {
          console.error(i);

          if (++e >= 2 && t) {
            t();
          }
        });
      }
    }
  };

  t.prototype.requestRankList = function (t) {
    return __awaiter(this, void 0, void 0, function () {
      var e;
      return __generator(this, function (i) {
        switch (i.label) {
          case 0:
            return this.rankIdMap.has(t) ? [4, v.requestRankList({
              rankId: this.rankIdMap.get(t),
              start: 0,
              end: 100
            })] : [2, null];

          case 1:
            if ((e = i.sent()) && e.data) {
              this.rankListMap.set(t, e.data);
            }

            return [2, e];
        }
      });
    });
  };

  t.prototype.requestSelfRank = function (t) {
    return __awaiter(this, void 0, void 0, function () {
      var e;
      return __generator(this, function (i) {
        switch (i.label) {
          case 0:
            return this.rankIdMap.has(t) ? [4, v.requestSelfRank({
              rankId: this.rankIdMap.get(t),
              id: $userDataContext["default"].Ins.openId
            })] : [2];

          case 1:
            if ((e = i.sent()) && e.data) {
              this.selfRankMap.set(t, e.data);
            }

            return [2, e];
        }
      });
    });
  };

  t.prototype.testData = function () {
    var t = [];

    for (var e = 0; e < 100; e++) {
      t.push({
        id: "10018929397",
        weight: 1,
        extendParams: "un=用户7725208510891,l=" + e + ",g=4,h=2"
      });
    }

    return t;
  };

  t.prototype.reportRankData = function (t) {
    var e = this;
    var i = $battleContext["default"].Ins.getLastRecord();

    if (this.check(i)) {
      var o = i.level;

      if (this.lastWeight !== o && this.rankIdMap.has(t) && (this.lastWeight = o, console.log("check success", o), v.isLocal || !($platform.Platform.currPlatForm === $platform.PlatformEnum.BROWSER || "" === $userDataContext["default"].Ins.nickname || $userDataContext["default"].Ins.nickname.indexOf("未命名") > -1))) {
        o = Math.floor(o);
        var n = Date.now();
        var s = $util["default"].objectFormat({
          un: $userDataContext["default"].Ins.nickname,
          l: i.level,
          g: $userDataContext["default"].Ins.gradeInfo.grade,
          h: $userDataContext["default"].Ins.headIndex + 1
        });
        var r = this.getSign(t, n, s);
        var l = {
          rankId: this.rankIdMap.get(t),
          id: $login.Login.instance.info.openId,
          weight: o,
          extendParam: s,
          sign: r,
          time: n
        };
        v.reportRankData(l).then(function (t) {
          t.ifsuccess ? (e.rankCheckRecord.lastTime = $countDownUtil.CountDownUtil.currTime, e.rankCheckRecord.level = i.level, $storageUtil.StorageUtil.setItem($localName["default"].RANK_DATA, e.rankCheckRecord)) : console.log("上传失败：", t, n);
        });
      }
    }
  };

  t.prototype.getSign = function (t, e, i) {
    var o = e.toString();

    if (i && "" !== i) {
      o += i;
    }

    var n = $crypto_ts.enc.Utf8.parse(o);
    var s = $crypto_ts.AES.encrypt(n, $crypto_ts.enc.Utf8.parse($switchContext.SwitchContext.rankKey), {
      iv: $crypto_ts.enc.Utf8.parse($globalParam["default"].rankKeyWords[1]),
      mode: $crypto_ts.mode.CBC,
      padding: $crypto_ts.pad.PKCS7
    });
    return new $mD5.MD5().finalize($login.Login.instance.info.openId + this.rankIdMap.get(t) + s.toString()).toString();
  };

  t.prototype.check = function (t) {
    var e = !1;

    if ($countDownUtil.CountDownUtil.currTime - this.rankCheckRecord.lastTime >= 90 && t.level >= this.rankCheckRecord.level) {
      e = !0;
    }

    return t.level >= 10 && t.level <= $globalParam["default"].countLevel && !this.isTestEvn && e;
  };

  t.prototype.getRankList = function (t) {
    return this.isTestEvn ? this.testData() : this.rankListMap.has(t) ? this.rankListMap.get(t) : [];
  };

  t.prototype.getRankSelf = function (t) {
    if (this.isTestEvn || !this.selfRankMap.has(t) || this.selfRankMap.has(t) && !this.selfRankMap.get(t).rank) {
      var e = $battleContext["default"].Ins.getLastRecord();
      var i = e.level;
      return {
        rank: 999,
        id: $userDataContext["default"].Ins.openId,
        weight: i,
        extendParams: "un=" + $userDataContext["default"].Ins.nickname + ",l=" + e.level + ",g=" + $userDataContext["default"].Ins.gradeInfo.grade + ",h=" + ($userDataContext["default"].Ins.headIndex + 1)
      };
    }

    return this.selfRankMap.get(t);
  };

  t.instance = new t();
  return t;
}();

exports["default"] = k;

var v = function () {
  function t() {}

  Object.defineProperty(t, "url", {
    get: function get() {
      return t.isLocal ? t.urlLocal : t.urlOnline;
    },
    enumerable: !1,
    configurable: !0
  });

  t.requestRankID = function (e) {
    return Promise.resolve(); // return fly.get(t.url + "/rank_id", e);
  };

  t.requestRankList = function (e) {
    return Promise.resolve(); // return fly.get(t.url + "/rank_list", e);
  };

  t.requestSelfRank = function (e) {
    return Promise.resolve(); // return fly.get(t.url + "/self_rank", e);
  };

  t.reportRankData = function (e) {
    return Promise.resolve(); // return fly.post(t.url + "/new_push", e, {
    //     headers: {
    //         "Content-Type": "application/x-www-form-urlencoded"
    //     }
    // });
  };

  t.isLocal = !1;
  t.urlLocal = "http://127.0.0.1:8089/rank";
  t.urlOnline = "https://fkxjl.shenzhendongwei.com/rank";
  return t;
}();

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcZ2FtZV9zY3JpcHRcXHNjcmlwdHNcXFJhbmtTZXJ2aWNlLmpzIl0sIm5hbWVzIjpbImV4cG9ydHMiLCJSYW5rVHlwZUVudW0iLCJzIiwiciIsIiRsb2dpbiIsInJlcXVpcmUiLCIkbUQ1IiwiJGNyeXB0b190cyIsIiRwbGF0Zm9ybSIsIiRjb3VudERvd25VdGlsIiwiJHN0b3JhZ2VVdGlsIiwiJHV0aWwiLCIkYmF0dGxlQ29udGV4dCIsIiRnbG9iYWxQYXJhbSIsIiRsb2NhbE5hbWUiLCIkc3dpdGNoQ29udGV4dCIsIiR1c2VyRGF0YUNvbnRleHQiLCJMZXZlbCIsImsiLCJ0IiwicmFua0lkTWFwIiwiTWFwIiwicmFua0xpc3RNYXAiLCJzZWxmUmFua01hcCIsInJhbmtDaGVja1JlY29yZCIsImxhc3RUaW1lIiwibGV2ZWwiLCJpc1Rlc3RFdm4iLCJsYXN0V2VpZ2h0IiwicHJvdG90eXBlIiwiaW5pdERhdGEiLCJTdG9yYWdlVXRpbCIsImdldEl0ZW0iLCJSQU5LX0RBVEEiLCJzZXQiLCJTd2l0Y2hDb250ZXh0IiwicmFua0lkIiwicmVxdWVzdFJhbmtMaXN0IiwicmVxdWVzdFNlbGZSYW5rIiwicmVxdWVzdFJhbmtJRCIsImUiLCJpIiwibyIsIm4iLCJ2IiwiZ2FtZUNvZGUiLCJwbGF0Zm9ybUNvZGUiLCJzeXN0ZW1Db2RlIiwic2VydmVySWQiLCJyYW5rVHlwZSIsInRoZW4iLCJkYXRhIiwiY29uc29sZSIsImVycm9yIiwicmVmcmVzaEFsbFJhbmtMaXN0IiwiX19hd2FpdGVyIiwiX19nZW5lcmF0b3IiLCJsYWJlbCIsImhhcyIsImdldCIsInN0YXJ0IiwiZW5kIiwic2VudCIsImlkIiwiSW5zIiwib3BlbklkIiwidGVzdERhdGEiLCJwdXNoIiwid2VpZ2h0IiwiZXh0ZW5kUGFyYW1zIiwicmVwb3J0UmFua0RhdGEiLCJnZXRMYXN0UmVjb3JkIiwiY2hlY2siLCJsb2ciLCJpc0xvY2FsIiwiUGxhdGZvcm0iLCJjdXJyUGxhdEZvcm0iLCJQbGF0Zm9ybUVudW0iLCJCUk9XU0VSIiwibmlja25hbWUiLCJpbmRleE9mIiwiTWF0aCIsImZsb29yIiwiRGF0ZSIsIm5vdyIsIm9iamVjdEZvcm1hdCIsInVuIiwibCIsImciLCJncmFkZUluZm8iLCJncmFkZSIsImgiLCJoZWFkSW5kZXgiLCJnZXRTaWduIiwiTG9naW4iLCJpbnN0YW5jZSIsImluZm8iLCJleHRlbmRQYXJhbSIsInNpZ24iLCJ0aW1lIiwiaWZzdWNjZXNzIiwiQ291bnREb3duVXRpbCIsImN1cnJUaW1lIiwic2V0SXRlbSIsInRvU3RyaW5nIiwiZW5jIiwiVXRmOCIsInBhcnNlIiwiQUVTIiwiZW5jcnlwdCIsInJhbmtLZXkiLCJpdiIsInJhbmtLZXlXb3JkcyIsIm1vZGUiLCJDQkMiLCJwYWRkaW5nIiwicGFkIiwiUEtDUzciLCJNRDUiLCJmaW5hbGl6ZSIsImNvdW50TGV2ZWwiLCJnZXRSYW5rTGlzdCIsImdldFJhbmtTZWxmIiwicmFuayIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwidXJsTG9jYWwiLCJ1cmxPbmxpbmUiLCJlbnVtZXJhYmxlIiwiY29uZmlndXJhYmxlIiwiUHJvbWlzZSIsInJlc29sdmUiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUFBLE9BQU8sQ0FBQ0MsWUFBUixHQUF1QixLQUFLLENBQTVCO0FBQ0EsSUFBSUMsQ0FBSjtBQUNBLElBQUlDLENBQUo7O0FBQ0EsSUFBSUMsTUFBTSxHQUFHQyxPQUFPLENBQUMsU0FBRCxDQUFwQjs7QUFDQSxJQUFJQyxJQUFJLEdBQUdELE9BQU8sQ0FBQyxPQUFELENBQWxCOztBQUNBLElBQUlFLFVBQVUsR0FBR0YsT0FBTyxDQUFDLGFBQUQsQ0FBeEI7O0FBQ0EsSUFBSUcsU0FBUyxHQUFHSCxPQUFPLENBQUMsWUFBRCxDQUF2Qjs7QUFDQSxJQUFJSSxjQUFjLEdBQUdKLE9BQU8sQ0FBQyxpQkFBRCxDQUE1Qjs7QUFDQSxJQUFJSyxZQUFZLEdBQUdMLE9BQU8sQ0FBQyxlQUFELENBQTFCOztBQUNBLElB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SUFoSCxDQUFDLENBQUNtRCxjQUFGLEdBQW1CLFVBQVM5QixDQUFULEVBQVk7SUFDM0IsT0FBTzBGLE9BQU8sQ0FBQ0MsT0FBUixFQUFQLENBRDJCLENBRTNCO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7RUFDSCxDQVBEOztFQVFBaEgsQ0FBQyxDQUFDdUQsT0FBRixHQUFZLENBQUMsQ0FBYjtFQUNBdkQsQ0FBQyxDQUFDMkcsUUFBRixHQUFhLDRCQUFiO0VBQ0EzRyxDQUFDLENBQUM0RyxTQUFGLEdBQWMsd0NBQWQ7RUFDQSxPQUFPNUcsQ0FBUDtBQUNILENBakNPLEVBQVIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbImV4cG9ydHMuUmFua1R5cGVFbnVtID0gdm9pZCAwO1xyXG52YXIgcztcclxudmFyIHI7XHJcbnZhciAkbG9naW4gPSByZXF1aXJlKFwiLi9Mb2dpblwiKTtcclxudmFyICRtRDUgPSByZXF1aXJlKFwiLi9NRDVcIik7XHJcbnZhciAkY3J5cHRvX3RzID0gcmVxdWlyZShcIi4vY3J5cHRvLXRzXCIpO1xyXG52YXIgJHBsYXRmb3JtID0gcmVxdWlyZShcIi4vUGxhdGZvcm1cIik7XHJcbnZhciAkY291bnREb3duVXRpbCA9IHJlcXVpcmUoXCIuL0NvdW50RG93blV0aWxcIik7XHJcbnZhciAkc3RvcmFnZVV0aWwgPSByZXF1aXJlKFwiLi9TdG9yYWdlVXRpbFwiKTtcclxudmFyICR1dGlsID0gcmVxdWlyZShcIi4vVXRpbFwiKTtcclxudmFyICRiYXR0bGVDb250ZXh0ID0gcmVxdWlyZShcIi4vQmF0dGxlQ29udGV4dFwiKTtcclxudmFyICRnbG9iYWxQYXJhbSA9IHJlcXVpcmUoXCIuL0dsb2JhbFBhcmFtXCIpO1xyXG52YXIgJGxvY2FsTmFtZSA9IHJlcXVpcmUoXCIuL0xvY2FsTmFtZVwiKTtcclxudmFyICRzd2l0Y2hDb250ZXh0ID0gcmVxdWlyZShcIi4vU3dpdGNoQ29udGV4dFwiKTtcclxudmFyICR1c2VyRGF0YUNvbnRleHQgPSByZXF1aXJlKFwiLi9Vc2VyRGF0YUNvbnRleHRcIik7XHJcbihyID0gcyA9IGV4cG9ydHMuUmFua1R5cGVFbnVtIHx8IChleHBvcnRzLlJhbmtUeXBlRW51bSA9IHt9KSlbKHIuTGV2ZWwgPSAxKV0gPSBcIkxldmVsXCI7XHJcbnZhciBrID0gKGZ1bmN0aW9uKCkge1xyXG4gICAgZnVuY3Rpb24gdCgpIHtcclxuICAgICAgICB0aGlzLnJhbmtJZE1hcCA9IG5ldyBNYXAoKTtcclxuICAgICAgICB0aGlzLnJhbmtMaXN0TWFwID0gbmV3IE1hcCgpO1xyXG4gICAgICAgIHRoaXMuc2VsZlJhbmtNYXAgPSBuZXcgTWFwKCk7XHJcbiAgICAgICAgdGhpcy5yYW5rQ2hlY2tSZWNvcmQgPSB7XHJcbiAgICAgICAgICAgIGxhc3RUaW1lOiAwLFxyXG4gICAgICAgICAgICBsZXZlbDogMFxyXG4gICAgICAgIH07XHJcbiAgICAgICAgdGhpcy5pc1Rlc3RFdm4gPSAhMTtcclxuICAgICAgICB0aGlzLmxhc3RXZWlnaHQgPSAwO1xyXG4gICAgfVxyXG4gICAgdC5wcm90b3R5cGUuaW5pdERhdGEgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICBpZiAoIXRoaXMuaXNUZXN0RXZuKSB7XHJcbiAgICAgICAgICAgIHRoaXMucmFua0NoZWNrUmVjb3JkID0gJHN0b3JhZ2VVdGlsLlN0b3JhZ2VVdGlsLmdldEl0ZW0oJGxvY2FsTmFtZS5kZWZhdWx0LlJBTktfREFUQSwgdGhpcy5yYW5rQ2hlY2tSZWNvcmQpO1xyXG4gICAgICAgICAgICB0aGlzLnJhbmtJZE1hcC5zZXQocy5MZXZlbCwgJHN3aXRjaENvbnRleHQuU3dpdGNoQ29udGV4dC5yYW5rSWQpO1xyXG4gICAgICAgICAgICB0aGlzLnJlcXVlc3RSYW5rTGlzdChzLkxldmVsKTtcclxuICAgICAgICAgICAgdGhpcy5yZXF1ZXN0U2VsZlJhbmsocy5MZXZlbCk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIHQucHJvdG90eXBlLnJlcXVlc3RSYW5rSUQgPSBmdW5jdGlvbih0LCBlLCBpLCBvLCBuKSB7XHJcbiAgICAgICAgdmFyIHMgPSB0aGlzO1xyXG4gICAgICAgIHYucmVxdWVzdFJhbmtJRCh7XHJcbiAgICAgICAgICAgICAgICBnYW1lQ29kZTogZSxcclxuICAgICAgICAgICAgICAgIHBsYXRmb3JtQ29kZTogaSxcclxuICAgICAgICAgICAgICAgIHN5c3RlbUNvZGU6IG8sXHJcbiAgICAgICAgICAgICAgICBzZXJ2ZXJJZDogbixcclxuICAgICAgICAgICAgICAgIHJhbmtUeXBlOiB0XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICAgICAgICAgIHMucmFua0lkTWFwLnNldCh0LCBlLmRhdGEpO1xyXG4gICAgICAgICAgICAgICAgcy5yZXF1ZXN0UmFua0xpc3QodCk7XHJcbiAgICAgICAgICAgICAgICBzLnJlcXVlc3RTZWxmUmFuayh0KTtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLmNhdGNoKGZ1bmN0aW9uKHQpIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IodCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIHQucHJvdG90eXBlLnJlZnJlc2hBbGxSYW5rTGlzdCA9IGZ1bmN0aW9uKHQpIHtcclxuICAgICAgICBpZiAoIXRoaXMuaXNUZXN0RXZuKSB7XHJcbiAgICAgICAgICAgIHZhciBlID0gMDtcclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDE7IGkgPD0gMTsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnJlcXVlc3RSYW5rTGlzdChpKVxyXG4gICAgICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoKytlID49IDIgJiYgdCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICAuY2F0Y2goZnVuY3Rpb24oaSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoKytlID49IDIgJiYgdCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnJlcXVlc3RTZWxmUmFuayhpKVxyXG4gICAgICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoKytlID49IDIgJiYgdCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICAuY2F0Y2goZnVuY3Rpb24oaSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoKytlID49IDIgJiYgdCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgdC5wcm90b3R5cGUucmVxdWVzdFJhbmtMaXN0ID0gZnVuY3Rpb24odCkge1xyXG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICB2YXIgZTtcclxuICAgICAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uKGkpIHtcclxuICAgICAgICAgICAgICAgIHN3aXRjaCAoaS5sYWJlbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMucmFua0lkTWFwLmhhcyh0KSA/IFtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2LnJlcXVlc3RSYW5rTGlzdCh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmFua0lkOiB0aGlzLnJhbmtJZE1hcC5nZXQodCksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnQ6IDAsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kOiAxMDBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF0gOiBbMiwgbnVsbF07XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAxOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoKGUgPSBpLnNlbnQoKSkgJiYgZS5kYXRhKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJhbmtMaXN0TWFwLnNldCh0LCBlLmRhdGEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiwgZV07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIHQucHJvdG90eXBlLnJlcXVlc3RTZWxmUmFuayA9IGZ1bmN0aW9uKHQpIHtcclxuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgdmFyIGU7XHJcbiAgICAgICAgICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbihpKSB7XHJcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKGkubGFiZWwpIHtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDA6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnJhbmtJZE1hcC5oYXModCkgPyBbXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA0LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdi5yZXF1ZXN0U2VsZlJhbmsoe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJhbmtJZDogdGhpcy5yYW5rSWRNYXAuZ2V0KHQpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkOiAkdXNlckRhdGFDb250ZXh0LmRlZmF1bHQuSW5zLm9wZW5JZFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgXSA6IFsyXTtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgoZSA9IGkuc2VudCgpKSAmJiBlLmRhdGEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2VsZlJhbmtNYXAuc2V0KHQsIGUuZGF0YSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyLCBlXTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG4gICAgdC5wcm90b3R5cGUudGVzdERhdGEgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICB2YXIgdCA9IFtdO1xyXG4gICAgICAgIGZvciAodmFyIGUgPSAwOyBlIDwgMTAwOyBlKyspIHtcclxuICAgICAgICAgICAgdC5wdXNoKHtcclxuICAgICAgICAgICAgICAgIGlkOiBcIjEwMDE4OTI5Mzk3XCIsXHJcbiAgICAgICAgICAgICAgICB3ZWlnaHQ6IDEsXHJcbiAgICAgICAgICAgICAgICBleHRlbmRQYXJhbXM6IFwidW4955So5oi3NzcyNTIwODUxMDg5MSxsPVwiICsgZSArIFwiLGc9NCxoPTJcIlxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHQ7XHJcbiAgICB9O1xyXG4gICAgdC5wcm90b3R5cGUucmVwb3J0UmFua0RhdGEgPSBmdW5jdGlvbih0KSB7XHJcbiAgICAgICAgdmFyIGUgPSB0aGlzO1xyXG4gICAgICAgIHZhciBpID0gJGJhdHRsZUNvbnRleHQuZGVmYXVsdC5JbnMuZ2V0TGFzdFJlY29yZCgpO1xyXG4gICAgICAgIGlmICh0aGlzLmNoZWNrKGkpKSB7XHJcbiAgICAgICAgICAgIHZhciBvID0gaS5sZXZlbDtcclxuICAgICAgICAgICAgaWYgKFxyXG4gICAgICAgICAgICAgICAgdGhpcy5sYXN0V2VpZ2h0ICE9PSBvICYmXHJcbiAgICAgICAgICAgICAgICB0aGlzLnJhbmtJZE1hcC5oYXModCkgJiZcclxuICAgICAgICAgICAgICAgICgodGhpcy5sYXN0V2VpZ2h0ID0gbyksXHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJjaGVjayBzdWNjZXNzXCIsIG8pLFxyXG4gICAgICAgICAgICAgICAgICAgIHYuaXNMb2NhbCB8fFxyXG4gICAgICAgICAgICAgICAgICAgICEoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRwbGF0Zm9ybS5QbGF0Zm9ybS5jdXJyUGxhdEZvcm0gPT09ICRwbGF0Zm9ybS5QbGF0Zm9ybUVudW0uQlJPV1NFUiB8fFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBcIlwiID09PSAkdXNlckRhdGFDb250ZXh0LmRlZmF1bHQuSW5zLm5pY2tuYW1lIHx8XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICR1c2VyRGF0YUNvbnRleHQuZGVmYXVsdC5JbnMubmlja25hbWUuaW5kZXhPZihcIuacquWRveWQjVwiKSA+IC0xXHJcbiAgICAgICAgICAgICAgICAgICAgKSlcclxuICAgICAgICAgICAgKSB7XHJcbiAgICAgICAgICAgICAgICBvID0gTWF0aC5mbG9vcihvKTtcclxuICAgICAgICAgICAgICAgIHZhciBuID0gRGF0ZS5ub3coKTtcclxuICAgICAgICAgICAgICAgIHZhciBzID0gJHV0aWwuZGVmYXVsdC5vYmplY3RGb3JtYXQoe1xyXG4gICAgICAgICAgICAgICAgICAgIHVuOiAkdXNlckRhdGFDb250ZXh0LmRlZmF1bHQuSW5zLm5pY2tuYW1lLFxyXG4gICAgICAgICAgICAgICAgICAgIGw6IGkubGV2ZWwsXHJcbiAgICAgICAgICAgICAgICAgICAgZzogJHVzZXJEYXRhQ29udGV4dC5kZWZhdWx0Lklucy5ncmFkZUluZm8uZ3JhZGUsXHJcbiAgICAgICAgICAgICAgICAgICAgaDogJHVzZXJEYXRhQ29udGV4dC5kZWZhdWx0Lklucy5oZWFkSW5kZXggKyAxXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIHZhciByID0gdGhpcy5nZXRTaWduKHQsIG4sIHMpO1xyXG4gICAgICAgICAgICAgICAgdmFyIGwgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmFua0lkOiB0aGlzLnJhbmtJZE1hcC5nZXQodCksXHJcbiAgICAgICAgICAgICAgICAgICAgaWQ6ICRsb2dpbi5Mb2dpbi5pbnN0YW5jZS5pbmZvLm9wZW5JZCxcclxuICAgICAgICAgICAgICAgICAgICB3ZWlnaHQ6IG8sXHJcbiAgICAgICAgICAgICAgICAgICAgZXh0ZW5kUGFyYW06IHMsXHJcbiAgICAgICAgICAgICAgICAgICAgc2lnbjogcixcclxuICAgICAgICAgICAgICAgICAgICB0aW1lOiBuXHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgdi5yZXBvcnRSYW5rRGF0YShsKS50aGVuKGZ1bmN0aW9uKHQpIHtcclxuICAgICAgICAgICAgICAgICAgICB0Lmlmc3VjY2VzcyA/XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICgoZS5yYW5rQ2hlY2tSZWNvcmQubGFzdFRpbWUgPSAkY291bnREb3duVXRpbC5Db3VudERvd25VdGlsLmN1cnJUaW1lKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIChlLnJhbmtDaGVja1JlY29yZC5sZXZlbCA9IGkubGV2ZWwpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHN0b3JhZ2VVdGlsLlN0b3JhZ2VVdGlsLnNldEl0ZW0oJGxvY2FsTmFtZS5kZWZhdWx0LlJBTktfREFUQSwgZS5yYW5rQ2hlY2tSZWNvcmQpKSA6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwi5LiK5Lyg5aSx6LSl77yaXCIsIHQsIG4pO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgdC5wcm90b3R5cGUuZ2V0U2lnbiA9IGZ1bmN0aW9uKHQsIGUsIGkpIHtcclxuICAgICAgICB2YXIgbyA9IGUudG9TdHJpbmcoKTtcclxuICAgICAgICBpZiAoaSAmJiBcIlwiICE9PSBpKSB7XHJcbiAgICAgICAgICAgIG8gKz0gaTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIG4gPSAkY3J5cHRvX3RzLmVuYy5VdGY4LnBhcnNlKG8pO1xyXG4gICAgICAgIHZhciBzID0gJGNyeXB0b190cy5BRVMuZW5jcnlwdChuLCAkY3J5cHRvX3RzLmVuYy5VdGY4LnBhcnNlKCRzd2l0Y2hDb250ZXh0LlN3aXRjaENvbnRleHQucmFua0tleSksIHtcclxuICAgICAgICAgICAgaXY6ICRjcnlwdG9fdHMuZW5jLlV0ZjgucGFyc2UoJGdsb2JhbFBhcmFtLmRlZmF1bHQucmFua0tleVdvcmRzWzFdKSxcclxuICAgICAgICAgICAgbW9kZTogJGNyeXB0b190cy5tb2RlLkNCQyxcclxuICAgICAgICAgICAgcGFkZGluZzogJGNyeXB0b190cy5wYWQuUEtDUzdcclxuICAgICAgICB9KTtcclxuICAgICAgICByZXR1cm4gbmV3ICRtRDUuTUQ1KClcclxuICAgICAgICAgICAgLmZpbmFsaXplKCRsb2dpbi5Mb2dpbi5pbnN0YW5jZS5pbmZvLm9wZW5JZCArIHRoaXMucmFua0lkTWFwLmdldCh0KSArIHMudG9TdHJpbmcoKSlcclxuICAgICAgICAgICAgLnRvU3RyaW5nKCk7XHJcbiAgICB9O1xyXG4gICAgdC5wcm90b3R5cGUuY2hlY2sgPSBmdW5jdGlvbih0KSB7XHJcbiAgICAgICAgdmFyIGUgPSAhMTtcclxuICAgICAgICBpZiAoXHJcbiAgICAgICAgICAgICRjb3VudERvd25VdGlsLkNvdW50RG93blV0aWwuY3VyclRpbWUgLSB0aGlzLnJhbmtDaGVja1JlY29yZC5sYXN0VGltZSA+PSA5MCAmJlxyXG4gICAgICAgICAgICB0LmxldmVsID49IHRoaXMucmFua0NoZWNrUmVjb3JkLmxldmVsXHJcbiAgICAgICAgKSB7XHJcbiAgICAgICAgICAgIGUgPSAhMDtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHQubGV2ZWwgPj0gMTAgJiYgdC5sZXZlbCA8PSAkZ2xvYmFsUGFyYW0uZGVmYXVsdC5jb3VudExldmVsICYmICF0aGlzLmlzVGVzdEV2biAmJiBlO1xyXG4gICAgfTtcclxuICAgIHQucHJvdG90eXBlLmdldFJhbmtMaXN0ID0gZnVuY3Rpb24odCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmlzVGVzdEV2biA/IHRoaXMudGVzdERhdGEoKSA6IHRoaXMucmFua0xpc3RNYXAuaGFzKHQpID8gdGhpcy5yYW5rTGlzdE1hcC5nZXQodCkgOiBbXTtcclxuICAgIH07XHJcbiAgICB0LnByb3RvdHlwZS5nZXRSYW5rU2VsZiA9IGZ1bmN0aW9uKHQpIHtcclxuICAgICAgICBpZiAodGhpcy5pc1Rlc3RFdm4gfHwgIXRoaXMuc2VsZlJhbmtNYXAuaGFzKHQpIHx8ICh0aGlzLnNlbGZSYW5rTWFwLmhhcyh0KSAmJiAhdGhpcy5zZWxmUmFua01hcC5nZXQodCkucmFuaykpIHtcclxuICAgICAgICAgICAgdmFyIGUgPSAkYmF0dGxlQ29udGV4dC5kZWZhdWx0Lklucy5nZXRMYXN0UmVjb3JkKCk7XHJcbiAgICAgICAgICAgIHZhciBpID0gZS5sZXZlbDtcclxuICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgIHJhbms6IDk5OSxcclxuICAgICAgICAgICAgICAgIGlkOiAkdXNlckRhdGFDb250ZXh0LmRlZmF1bHQuSW5zLm9wZW5JZCxcclxuICAgICAgICAgICAgICAgIHdlaWdodDogaSxcclxuICAgICAgICAgICAgICAgIGV4dGVuZFBhcmFtczogXCJ1bj1cIiArXHJcbiAgICAgICAgICAgICAgICAgICAgJHVzZXJEYXRhQ29udGV4dC5kZWZhdWx0Lklucy5uaWNrbmFtZSArXHJcbiAgICAgICAgICAgICAgICAgICAgXCIsbD1cIiArXHJcbiAgICAgICAgICAgICAgICAgICAgZS5sZXZlbCArXHJcbiAgICAgICAgICAgICAgICAgICAgXCIsZz1cIiArXHJcbiAgICAgICAgICAgICAgICAgICAgJHVzZXJEYXRhQ29udGV4dC5kZWZhdWx0Lklucy5ncmFkZUluZm8uZ3JhZGUgK1xyXG4gICAgICAgICAgICAgICAgICAgIFwiLGg9XCIgK1xyXG4gICAgICAgICAgICAgICAgICAgICgkdXNlckRhdGFDb250ZXh0LmRlZmF1bHQuSW5zLmhlYWRJbmRleCArIDEpXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0aGlzLnNlbGZSYW5rTWFwLmdldCh0KTtcclxuICAgIH07XHJcbiAgICB0Lmluc3RhbmNlID0gbmV3IHQoKTtcclxuICAgIHJldHVybiB0O1xyXG59KSgpO1xyXG5leHBvcnRzLmRlZmF1bHQgPSBrO1xyXG52YXIgdiA9IChmdW5jdGlvbigpIHtcclxuICAgIGZ1bmN0aW9uIHQoKSB7fVxyXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIFwidXJsXCIsIHtcclxuICAgICAgICBnZXQ6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdC5pc0xvY2FsID8gdC51cmxMb2NhbCA6IHQudXJsT25saW5lO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZW51bWVyYWJsZTogITEsXHJcbiAgICAgICAgY29uZmlndXJhYmxlOiAhMFxyXG4gICAgfSk7XHJcbiAgICB0LnJlcXVlc3RSYW5rSUQgPSBmdW5jdGlvbihlKSB7XHJcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xyXG4gICAgICAgIC8vIHJldHVybiBmbHkuZ2V0KHQudXJsICsgXCIvcmFua19pZFwiLCBlKTtcclxuICAgIH07XHJcbiAgICB0LnJlcXVlc3RSYW5rTGlzdCA9IGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XHJcbiAgICAgICAgLy8gcmV0dXJuIGZseS5nZXQodC51cmwgKyBcIi9yYW5rX2xpc3RcIiwgZSk7XHJcbiAgICB9O1xyXG4gICAgdC5yZXF1ZXN0U2VsZlJhbmsgPSBmdW5jdGlvbihlKSB7XHJcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xyXG4gICAgICAgIC8vIHJldHVybiBmbHkuZ2V0KHQudXJsICsgXCIvc2VsZl9yYW5rXCIsIGUpO1xyXG4gICAgfTtcclxuICAgIHQucmVwb3J0UmFua0RhdGEgPSBmdW5jdGlvbihlKSB7XHJcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xyXG4gICAgICAgIC8vIHJldHVybiBmbHkucG9zdCh0LnVybCArIFwiL25ld19wdXNoXCIsIGUsIHtcclxuICAgICAgICAvLyAgICAgaGVhZGVyczoge1xyXG4gICAgICAgIC8vICAgICAgICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWRcIlxyXG4gICAgICAgIC8vICAgICB9XHJcbiAgICAgICAgLy8gfSk7XHJcbiAgICB9O1xyXG4gICAgdC5pc0xvY2FsID0gITE7XHJcbiAgICB0LnVybExvY2FsID0gXCJodHRwOi8vMTI3LjAuMC4xOjgwODkvcmFua1wiO1xyXG4gICAgdC51cmxPbmxpbmUgPSBcImh0dHBzOi8vZmt4amwuc2hlbnpoZW5kb25nd2VpLmNvbS9yYW5rXCI7XHJcbiAgICByZXR1cm4gdDtcclxufSkoKTsiXX0=