{"version":3,"sources":["assets\\game_script\\scripts\\RGun_8.js"],"names":["o","$assetsLoader","require","$assetsMap","$resUtil","$configContext","$globalParam","$baseBullet","$gameContext","p","t","e","i","call","ins","skillInfo","robotParam","instance","robotConfigs","find","id","Petsskin_skill_value","timeLeft","__extends","prototype","updateF","isAttacking","isGamePuase","startGun","getRangeRankEnemy","pointNode","createButtle","schedulesOnce","getButtlePool","BulletType","r_bullet_8","getRes","BundleNames","Game","AssetsMap","GameBundles","prefabs","assetsList","RBullet_8","ResUtil","instantiate","robotFlyLayer","parent","getComponent","setPosition","cc","v3","initButtle","insert","exports"],"mappings":"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","sourceRoot":"/","sourcesContent":["var o;\r\nvar $assetsLoader = require(\"./AssetsLoader\");\r\nvar $assetsMap = require(\"./AssetsMap\");\r\nvar $resUtil = require(\"./ResUtil\");\r\nvar $configContext = require(\"./ConfigContext\");\r\nvar $globalParam = require(\"./GlobalParam\");\r\nvar $baseBullet = require(\"./BaseBullet\");\r\nvar $gameContext = require(\"./GameContext\");\r\nvar p = (function (t) {\r\n    function e(e) {\r\n        var i = t.call(this, e) || this;\r\n        $gameContext.default.ins.skillInfo.robotParam = $configContext.default.instance.robotConfigs.find(function (t) {\r\n            return 9 === t.id;\r\n        }).Petsskin_skill_value;\r\n        i.timeLeft = $gameContext.default.ins.skillInfo.robotParam[1];\r\n        return i;\r\n    }\r\n    __extends(e, t);\r\n    e.prototype.updateF = function (e) {\r\n        t.prototype.updateF.call(this, e);\r\n        if (!(this.isAttacking || $globalParam.default.isGamePuase)) {\r\n            this.timeLeft -= e;\r\n            if (this.timeLeft <= 0) {\r\n                this.startGun();\r\n            }\r\n        }\r\n    };\r\n    e.prototype.startGun = function () {\r\n        var t = this;\r\n        if (\r\n            !$gameContext.default.ins.getRangeRankEnemy(\r\n                this.pointNode,\r\n                $gameContext.default.ins.skillInfo.robotParam[2],\r\n                1,\r\n                !0\r\n            )\r\n        ) {\r\n            this.timeLeft = 1;\r\n            return !1;\r\n        }\r\n        this.isAttacking = !0;\r\n        this.createButtle();\r\n        this.schedulesOnce(function () {\r\n            t.timeLeft = $gameContext.default.ins.skillInfo.robotParam[1];\r\n            t.isAttacking = !1;\r\n        }, $gameContext.default.ins.skillInfo.robotParam[5]);\r\n    };\r\n    e.prototype.createButtle = function () {\r\n        var t = $gameContext.default.ins.getButtlePool($baseBullet.BulletType.r_bullet_8);\r\n        if (!t) {\r\n            var e = $assetsLoader.default.instance.getRes(\r\n                $assetsMap.BundleNames.Game,\r\n                $assetsMap.AssetsMap.GameBundles.prefabs.assetsList.RBullet_8\r\n            );\r\n            t = $resUtil.ResUtil.instantiate(e, $gameContext.default.ins.robotFlyLayer.parent).getComponent(\r\n                $baseBullet.default\r\n            );\r\n        }\r\n        t.setPosition(cc.v3(0, -300));\r\n        t.pointNode = this.pointNode;\r\n        t.initButtle(null, null);\r\n        t.insert($gameContext.default.ins.robotFlyLayer);\r\n    };\r\n    return e;\r\n})(require(\"./BaseGun\").default);\r\nexports.default = p;\r\n"]}