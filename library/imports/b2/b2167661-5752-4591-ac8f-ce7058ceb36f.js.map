{"version":3,"sources":["assets\\game_script\\scripts\\Enemy_5.js"],"names":["o","$baseBullet","require","$gameContext","$baseEnemy","$healthBar","u","cc","_decorator","d","ccclass","p","property","f","t","e","apply","arguments","buttleType","BulletType","e_bullet_5","atkPoint","healthBar","bulletPrefab","atkSpeed","__extends","prototype","initEnemy","i","call","statusManager","specialityAtkAdd","set","BulletSpeciality","fire","config","value","thunder","atkRange","init","hp","hp_num","sufferAttack","isDie","render","attackAnim","ins","getButtlePool","instantiate","getComponent","enemyBulletLayer","convertToNodeSpaceAR","convertToWorldSpaceAR","Vec3","ZERO","setPosition","initEButtle","atk","insert","__decorate","Node","Prefab","exports"],"mappings":"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","sourceRoot":"/","sourcesContent":["var o;\r\nvar $baseBullet = require(\"./BaseBullet\");\r\nvar $gameContext = require(\"./GameContext\");\r\nvar $baseEnemy = require(\"./BaseEnemy\");\r\nvar $healthBar = require(\"./HealthBar\");\r\nvar u = cc._decorator;\r\nvar d = u.ccclass;\r\nvar p = u.property;\r\nvar f = (function (t) {\r\n    function e() {\r\n        var e = (null !== t && t.apply(this, arguments)) || this;\r\n        e.buttleType = $baseBullet.BulletType.e_bullet_5;\r\n        e.atkPoint = null;\r\n        e.healthBar = null;\r\n        e.bulletPrefab = null;\r\n        e.atkSpeed = 0;\r\n        return e;\r\n    }\r\n    __extends(e, t);\r\n    e.prototype.initEnemy = function (e, i, o) {\r\n        if (void 0 === o) {\r\n            o = 0;\r\n        }\r\n        t.prototype.initEnemy.call(this, e, i, o);\r\n        this.statusManager.specialityAtkAdd.set($baseBullet.BulletSpeciality.fire, this.config.value[0]);\r\n        this.statusManager.specialityAtkAdd.set($baseBullet.BulletSpeciality.thunder, this.config.value[1]);\r\n        this.atkRange = this.config.value[2];\r\n        this.atkSpeed = this.config.value[3];\r\n        if (this.healthBar) {\r\n            this.healthBar.init(this.statusManager.hp, e.hp_num);\r\n        }\r\n    };\r\n    e.prototype.sufferAttack = function (e, i) {\r\n        if (this.statusManager.isDie) {\r\n            return !1;\r\n        }\r\n        var o = t.prototype.sufferAttack.call(this, e, i);\r\n        if (this.healthBar) {\r\n            this.healthBar.render(this.statusManager.hp);\r\n        }\r\n        return o;\r\n    };\r\n    e.prototype.attackAnim = function () {\r\n        var t = $gameContext.default.ins.getButtlePool(this.buttleType);\r\n        if (!t) {\r\n            t = cc.instantiate(this.bulletPrefab).getComponent($baseBullet.default);\r\n        }\r\n        var e = $gameContext.default.ins.enemyBulletLayer.convertToNodeSpaceAR(\r\n            this.atkPoint.convertToWorldSpaceAR(cc.Vec3.ZERO)\r\n        );\r\n        t.setPosition(e);\r\n        t.initEButtle(this.statusManager.atk, this.atkSpeed);\r\n        t.insert($gameContext.default.ins.enemyBulletLayer);\r\n    };\r\n    __decorate([p(cc.Node)], e.prototype, \"atkPoint\", void 0);\r\n    __decorate([p($healthBar.default)], e.prototype, \"healthBar\", void 0);\r\n    __decorate([p(cc.Prefab)], e.prototype, \"bulletPrefab\", void 0);\r\n    return __decorate([d], e);\r\n})($baseEnemy.default);\r\nexports.default = f;\r\n"]}