{"version":3,"sources":["assets\\game_script\\scripts\\Bullet_9.js"],"names":["o","$assetsLoader","require","$assetsMap","$resUtil","$util","$configContext","$gameContext","$gameSkillInfo","$enemyStatus","$baseBullet","m","cc","_decorator","y","ccclass","g","property","t","e","apply","arguments","buttleType","BulletType","thunder_bullet","targetEnemy","isExtra","targetPos","__extends","prototype","initButtle","i","call","skillId","clearStatus","atk","skillParam","skillAtk","Skill4Param","FINAL","initParam","setAnimation","node","children","getComponent","Animation","getAnimationState","time","ins","gameRatio","play","once","EventType","FINISHED","isValid","attackEnemy","removeSelf","sufferAtk","id","skillSpecialitys","thunderSplitCount","createSplitBullet","thunderBoomRangeAdd","createBoom","createExtra","thunderPierceCount","createPierce","thunderParalysisTime","type","EnemyDebuffType","PARALYSIS","timeLeft","value","sufferDebuff","thunderMatrixRange","createThunderMatrix","getRangeRandomEnemyLayerByPos","thunderPierceRange","getButtlePool","thunder_puncture","instance","getRes","BundleNames","Game","AssetsMap","GameBundles","prefabs","assetsList","Bullet_12","ResUtil","instantiate","buttleLayer","parent","basicSkillConfigMap","get","skill_tpye","setPosition","clone","initBullet12","insert","thunderExtraAtkRange","thunderExtraAtkCount","setTimeout","getRangeRandomEnemyLayer","createButtle","Bullet_9","getPosition","thunder_matrix","Bullet_15","add","v3","floorLayer","thunder_boom","Bullet_11","lowBulletLayer","thunder_split","Bullet_10","n","angleConverDir","updateFrame","__decorate","exports"],"mappings":"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","sourceRoot":"/","sourcesContent":["var o;\r\nvar $assetsLoader = require(\"./AssetsLoader\");\r\nvar $assetsMap = require(\"./AssetsMap\");\r\nvar $resUtil = require(\"./ResUtil\");\r\nvar $util = require(\"./Util\");\r\nvar $configContext = require(\"./ConfigContext\");\r\nvar $gameContext = require(\"./GameContext\");\r\nvar $gameSkillInfo = require(\"./GameSkillInfo\");\r\nvar $enemyStatus = require(\"./EnemyStatus\");\r\nvar $baseBullet = require(\"./BaseBullet\");\r\nvar m = cc._decorator;\r\nvar y = m.ccclass;\r\nvar g =\r\n    (m.property,\r\n    (function (t) {\r\n        function e() {\r\n            var e = (null !== t && t.apply(this, arguments)) || this;\r\n            e.buttleType = $baseBullet.BulletType.thunder_bullet;\r\n            e.targetEnemy = null;\r\n            e.isExtra = !1;\r\n            e.targetPos = null;\r\n            return e;\r\n        }\r\n        __extends(e, t);\r\n        e.prototype.initButtle = function (e, i) {\r\n            t.prototype.initButtle.call(this, e, i);\r\n            this.skillId = i;\r\n            this.clearStatus();\r\n            this.atk = this.skillParam.skillAtk[$gameSkillInfo.Skill4Param.FINAL];\r\n        };\r\n        e.prototype.initParam = function (t) {\r\n            this.atk = t;\r\n        };\r\n        e.prototype.setAnimation = function () {\r\n            var t = this;\r\n            var e = this.node.children[0].getComponent(cc.Animation);\r\n            e.getAnimationState(\"bullet_9\").time = $gameContext.default.ins.gameRatio;\r\n            e.play(\"bullet_9\");\r\n            e.once(\r\n                cc.Animation.EventType.FINISHED,\r\n                function () {\r\n                    if ($util.default.isValid(t.targetEnemy.node)) {\r\n                        t.attackEnemy();\r\n                    }\r\n                    t.removeSelf();\r\n                },\r\n                this\r\n            );\r\n        };\r\n        e.prototype.attackEnemy = function () {\r\n            var t = this.targetEnemy.sufferAtk({\r\n                id: this.skillId,\r\n                skillSpecialitys: this.skillSpecialitys,\r\n                atk: this.atk\r\n            });\r\n            if (this.skillParam.thunderSplitCount > 0) {\r\n                this.createSplitBullet();\r\n            }\r\n            if (this.skillParam.thunderBoomRangeAdd > 0) {\r\n                this.createBoom();\r\n            }\r\n            if (t && !this.isExtra) {\r\n                this.createExtra();\r\n            }\r\n            if (this.skillParam.thunderPierceCount > 0) {\r\n                this.createPierce();\r\n            }\r\n            if (this.skillParam.thunderParalysisTime > 0) {\r\n                var e = {\r\n                    type: $enemyStatus.EnemyDebuffType.PARALYSIS,\r\n                    timeLeft: this.skillParam.thunderParalysisTime,\r\n                    value: 0\r\n                };\r\n                this.targetEnemy.sufferDebuff(e);\r\n            }\r\n            if (this.skillParam.thunderMatrixRange > 0) {\r\n                this.createThunderMatrix();\r\n            }\r\n        };\r\n        e.prototype.createPierce = function () {\r\n            var t = $gameContext.default.ins.getRangeRandomEnemyLayerByPos(\r\n                this.targetPos,\r\n                this.skillParam.thunderPierceRange\r\n            );\r\n            if (t && $util.default.isValid(t.node)) {\r\n                var e = $gameContext.default.ins.getButtlePool($baseBullet.BulletType.thunder_puncture);\r\n                if (!e) {\r\n                    var i = $assetsLoader.default.instance.getRes(\r\n                        $assetsMap.BundleNames.Game,\r\n                        $assetsMap.AssetsMap.GameBundles.prefabs.assetsList.Bullet_12\r\n                    );\r\n                    (e = $resUtil.ResUtil.instantiate(i, $gameContext.default.ins.buttleLayer.parent).getComponent(\r\n                        $baseBullet.default\r\n                    )).skillSpecialitys = $configContext.default.instance.basicSkillConfigMap.get(\r\n                        this.skillId\r\n                    ).skill_tpye;\r\n                }\r\n                e.setPosition(this.targetPos.clone());\r\n                e.initBullet12(t, this.skillId);\r\n                e.initButtle(null, this.skillId);\r\n                e.insert($gameContext.default.ins.buttleLayer);\r\n            }\r\n        };\r\n        e.prototype.createExtra = function () {\r\n            var t = this;\r\n            if (!(this.skillParam.thunderExtraAtkRange <= 0)) {\r\n                for (var e = 0; e < this.skillParam.thunderExtraAtkCount; e++) {\r\n                    setTimeout(function () {\r\n                        if (cc.isValid(t.targetEnemy)) {\r\n                            var e = $gameContext.default.ins.getRangeRandomEnemyLayer(\r\n                                t.targetEnemy.node,\r\n                                t.skillParam.thunderExtraAtkRange\r\n                            );\r\n                            if (!cc.isValid(e)) {\r\n                                return;\r\n                            }\r\n                            t.createButtle(e);\r\n                        }\r\n                    }, 300 * e);\r\n                }\r\n            }\r\n        };\r\n        e.prototype.createButtle = function (t) {\r\n            var e = $gameContext.default.ins.getButtlePool($baseBullet.BulletType.thunder_bullet);\r\n            if (!e) {\r\n                var i = $assetsLoader.default.instance.getRes(\r\n                    $assetsMap.BundleNames.Game,\r\n                    $assetsMap.AssetsMap.GameBundles.prefabs.assetsList.Bullet_9\r\n                );\r\n                (e = $resUtil.ResUtil.instantiate(i, $gameContext.default.ins.buttleLayer.parent).getComponent(\r\n                    $baseBullet.default\r\n                )).skillSpecialitys = $configContext.default.instance.basicSkillConfigMap.get(this.skillId).skill_tpye;\r\n            }\r\n            e.setPosition(t.getPosition().clone());\r\n            e.targetEnemy = t;\r\n            e.isExtra = !0;\r\n            e.initButtle(null, this.skillId);\r\n            e.insert($gameContext.default.ins.buttleLayer);\r\n            e.setAnimation(\"\");\r\n        };\r\n        e.prototype.createThunderMatrix = function () {\r\n            var t = $gameContext.default.ins.getButtlePool($baseBullet.BulletType.thunder_matrix);\r\n            if (!t) {\r\n                var e = $assetsLoader.default.instance.getRes(\r\n                    $assetsMap.BundleNames.Game,\r\n                    $assetsMap.AssetsMap.GameBundles.prefabs.assetsList.Bullet_15\r\n                );\r\n                (t = $resUtil.ResUtil.instantiate(e, $gameContext.default.ins.buttleLayer.parent).getComponent(\r\n                    $baseBullet.default\r\n                )).skillSpecialitys = $configContext.default.instance.basicSkillConfigMap.get(this.skillId).skill_tpye;\r\n            }\r\n            t.setPosition(this.targetPos.add(cc.v3(0, -50)));\r\n            t.initButtle(null, this.skillId);\r\n            t.insert($gameContext.default.ins.floorLayer);\r\n            t.setAnimation(null);\r\n        };\r\n        e.prototype.createBoom = function () {\r\n            var t = $gameContext.default.ins.getButtlePool($baseBullet.BulletType.thunder_boom);\r\n            if (!t) {\r\n                var e = $assetsLoader.default.instance.getRes(\r\n                    $assetsMap.BundleNames.Game,\r\n                    $assetsMap.AssetsMap.GameBundles.prefabs.assetsList.Bullet_11\r\n                );\r\n                t = $resUtil.ResUtil.instantiate(e, $gameContext.default.ins.lowBulletLayer.parent).getComponent(\r\n                    $baseBullet.default\r\n                );\r\n            }\r\n            t.setPosition(this.targetPos.clone());\r\n            t.initButtle(null, this.skillId);\r\n            t.insert($gameContext.default.ins.lowBulletLayer);\r\n            t.setAnimation(null);\r\n        };\r\n        e.prototype.createSplitBullet = function () {\r\n            var t = 0;\r\n            for (var e = 0; e < this.skillParam.thunderSplitCount; e++) {\r\n                var i = $gameContext.default.ins.getButtlePool($baseBullet.BulletType.thunder_split);\r\n                if (!i) {\r\n                    var o = $assetsLoader.default.instance.getRes(\r\n                        $assetsMap.BundleNames.Game,\r\n                        $assetsMap.AssetsMap.GameBundles.prefabs.assetsList.Bullet_10\r\n                    );\r\n                    (i = $resUtil.ResUtil.instantiate(o).getComponent($baseBullet.default)).skillSpecialitys =\r\n                        $configContext.default.instance.basicSkillConfigMap.get(61).skill_tpye;\r\n                }\r\n                i.setPosition(this.targetPos.clone());\r\n                var n = $util.default.angleConverDir(t);\r\n                i.initButtle(n, this.skillId);\r\n                i.targetEnemy = this.targetEnemy;\r\n                i.insert($gameContext.default.ins.buttleLayer);\r\n                t += 360 / this.skillParam.thunderSplitCount;\r\n            }\r\n        };\r\n        e.prototype.updateFrame = function () {};\r\n        return __decorate([y], e);\r\n    })($baseBullet.default));\r\nexports.default = g;\r\n"]}