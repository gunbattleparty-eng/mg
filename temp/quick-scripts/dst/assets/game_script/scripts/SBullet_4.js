
                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/game_script/scripts/SBullet_4.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '197ca7bX4xJ16fGkeGXchiq', 'SBullet_4');
// game_script/scripts/SBullet_4.js

"use strict";

var o;

var $object = require("./Object");

var $gameContext = require("./GameContext");

var $enemyStatus = require("./EnemyStatus");

var $baseBullet = require("./BaseBullet");

var u = cc._decorator;
var d = u.ccclass;
var p = (u.property, new cc.Vec3());

var f = function (t) {
  function e() {
    var e = null !== t && t.apply(this, arguments) || this;
    e.buttleType = $baseBullet.BulletType.s_bullet_4;
    e.time = 0;
    e.currTime = 0;
    e.bulletStatus = 0;
    e.dis = 0;
    e.start2PosY = 0;
    return e;
  }

  __extends(e, t);

  e.prototype.initButtle = function (e) {
    t.prototype.initButtle.call(this, e, null);
    this.bulletStatus = 0;
    this.currTime = 0;
    this.atk = $gameContext["default"].ins.skillInfo.skinAtk;
    this.speed = $gameContext["default"].ins.skillInfo.skinParam[4];
    this.time = $gameContext["default"].ins.skillInfo.skinParam[3] / this.speed;
    this.start2PosY = -350 + $gameContext["default"].ins.skillInfo.skinParam[3];
    this.dis = this.start2PosY + 350;

    if (e) {
      this.velocity.set(e).multiplyScalar(this.speed);
    }
  };

  e.prototype.updateFrame = function (t) {
    if (0 === this.bulletStatus) {
      this.currTime += t;
      this.currTime >= this.time && (this.currTime = this.time, this.bulletStatus = 1);
      p.y = this.easeOutCubic(this.currTime, -350, this.dis, this.time);
      p.x = this.node.x;
      this.setPosition(p);
      this.currTime >= this.time && (this.currTime = 0);
    } else {
      if (1 === this.bulletStatus) {
        this.currTime += t;
        this.currTime >= this.time && (this.currTime = this.time, this.bulletStatus = 2);
        p.y = this.easeInCubic(this.currTime, this.start2PosY, -this.dis, this.time);
        p.x = this.node.x;
        this.setPosition(p);
      } else {
        if (2 === this.bulletStatus) {
          this.bulletStatus = 3;
          return this.removeSelf();
        }
      }
    }
  };

  e.prototype.onTrigger = function (t, e) {
    if (e == $object.Trigger.enter) {
      var i = t.object;
      i.sufferAtk({
        skillSpecialitys: this.skillSpecialitys,
        atk: this.atk
      });

      if (0 === this.bulletStatus) {
        var o = {
          type: $enemyStatus.EnemyDebuffType.BACK,
          timeLeft: -1,
          value: $gameContext["default"].ins.skillInfo.skinParam[5]
        };
        i.sufferDebuff(o);
      }
    }
  };

  e.prototype.easeOutCubic = function (t, e, i, o) {
    return i * ((t = t / o - 1) * t * t + 1) + e;
  };

  e.prototype.easeInCubic = function (t, e, i, o) {
    return i * (t /= o) * t * t + e;
  };

  return __decorate([d], e);
}($baseBullet["default"]);

exports["default"] = f;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcZ2FtZV9zY3JpcHRcXHNjcmlwdHNcXFNCdWxsZXRfNC5qcyJdLCJuYW1lcyI6WyJvIiwiJG9iamVjdCIsInJlcXVpcmUiLCIkZ2FtZUNvbnRleHQiLCIkZW5lbXlTdGF0dXMiLCIkYmFzZUJ1bGxldCIsInUiLCJjYyIsIl9kZWNvcmF0b3IiLCJkIiwiY2NjbGFzcyIsInAiLCJwcm9wZXJ0eSIsIlZlYzMiLCJmIiwidCIsImUiLCJhcHBseSIsImFyZ3VtZW50cyIsImJ1dHRsZVR5cGUiLCJCdWxsZXRUeXBlIiwic19idWxsZXRfNCIsInRpbWUiLCJjdXJyVGltZSIsImJ1bGxldFN0YXR1cyIsImRpcyIsInN0YXJ0MlBvc1kiLCJfX2V4dGVuZHMiLCJwcm90b3R5cGUiLCJpbml0QnV0dGxlIiwiY2FsbCIsImF0ayIsImlucyIsInNraWxsSW5mbyIsInNraW5BdGsiLCJzcGVlZCIsInNraW5QYXJhbSIsInZlbG9jaXR5Iiwic2V0IiwibXVsdGlwbHlTY2FsYXIiLCJ1cGRhdGVGcmFtZSIsInkiLCJlYXNlT3V0Q3ViaWMiLCJ4Iiwibm9kZSIsInNldFBvc2l0aW9uIiwiZWFzZUluQ3ViaWMiLCJyZW1vdmVTZWxmIiwib25UcmlnZ2VyIiwiVHJpZ2dlciIsImVudGVyIiwiaSIsIm9iamVjdCIsInN1ZmZlckF0ayIsInNraWxsU3BlY2lhbGl0eXMiLCJ0eXBlIiwiRW5lbXlEZWJ1ZmZUeXBlIiwiQkFDSyIsInRpbWVMZWZ0IiwidmFsdWUiLCJzdWZmZXJEZWJ1ZmYiLCJfX2RlY29yYXRlIiwiZXhwb3J0cyJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSxJQUFJQSxDQUFKOztBQUNBLElBQUlDLE9BQU8sR0FBR0MsT0FBTyxDQUFDLFVBQUQsQ0FBckI7O0FBQ0EsSUFBSUMsWUFBWSxHQUFHRCxPQUFPLENBQUMsZUFBRCxDQUExQjs7QUFDQSxJQUFJRSxZQUFZLEdBQUdGLE9BQU8sQ0FBQyxlQUFELENBQTFCOztBQUNBLElBQUlHLFdBQVcsR0FBR0gsT0FBTyxDQUFDLGNBQUQsQ0FBekI7O0FBQ0EsSUFBSUksQ0FBQyxHQUFHQyxFQUFFLENBQUNDLFVBQVg7QUFDQSxJQUFJQyxDQUFDLEdBQUdILENBQUMsQ0FBQ0ksT0FBVjtBQUNBLElBQUlDLENBQUMsSUFBSUwsQ0FBQyxDQUFDTSxRQUFGLEVBQVksSUFBSUwsRUFBRSxDQUFDTSxJQUFQLEVBQWhCLENBQUw7O0FBQ0EsSUFBSUMsQ0FBQyxHQUFJLFVBQVVDLENBQVYsRUFBYTtFQUNsQixTQUFTQyxDQUFULEdBQWE7SUFDVCxJQUFJQSxDQUFDLEdBQUksU0FBU0QsQ0FBVCxJQUFjQSxDQUFDLENBQUNFLEtBQUYsQ0FBUSxJQUFSLEVBQWNDLFNBQWQsQ0FBZixJQUE0QyxJQUFwRDtJQUNBRixDQUFDLENBQUNHLFVBQUYsR0FBZWQsV0FBVyxDQUFDZSxVQUFaLENBQXVCQyxVQUF0QztJQUNBTCxDQUFDLENBQUNNLElBQUYsR0FBUyxDQUFUO0lBQ0FOLENBQUMsQ0FBQ08sUUFBRixHQUFhLENBQWI7SUFDQVAsQ0FBQyxDQUFDUSxZQUFGLEdBQWlCLENBQWpCO0lBQ0FSLENBQUMsQ0FBQ1MsR0FBRixHQUFRLENBQVI7SUFDQVQsQ0FBQyxDQUFDVSxVQUFGLEdBQWUsQ0FBZjtJQUNBLE9BQU9WLENBQVA7RUFDSDs7RUFDRFcsU0FBUyxDQUFDWCxDQUFELEVBQUlELENBQUosQ0FBVDs7RUFDQUMsQ0FBQyxDQUFDWSxTQUFGLENBQVlDLFVBQVosR0FBeUIsVUFBVWIsQ0FBVixFQUFhO0lBQ2xDRCxDQUFDLENBQUNhLFNBQUYsQ0FBWUMsVUFBWixDQUF1QkMsSUFBdkIsQ0FBNEIsSUFBNUIsRUFBa0NkLENBQWxDLEVBQXFDLElBQXJDO0lBQ0EsS0FBS1EsWUFBTCxHQUFvQixDQUFwQjtJQUNBLEtBQUtELFFBQUwsR0FBZ0IsQ0FBaEI7SUFDQSxLQUFLUSxHQUFMLEdBQVc1QixZQUFZLFdBQVosQ0FBcUI2QixHQUFyQixDQUF5QkMsU0FBekIsQ0FBbUNDLE9BQTlDO0lBQ0EsS0FBS0MsS0FBTCxHQUFhaEMsWUFBWSxXQUFaLENBQXFCNkIsR0FBckIsQ0FBeUJDLFNBQXpCLENBQW1DRyxTQUFuQyxDQUE2QyxDQUE3QyxDQUFiO0lBQ0EsS0FBS2QsSUFBTCxHQUFZbkIsWUFBWSxXQUFaLENBQXFCNkIsR0FBckIsQ0FBeUJDLFNBQXpCLENBQW1DRyxTQUFuQyxDQUE2QyxDQUE3QyxJQUFrRCxLQUFLRCxLQUFuRTtJQUNBLEtBQUtULFVBQUwsR0FBa0IsQ0FBQyxHQUFELEdBQU92QixZQUFZLFdBQVosQ0FBcUI2QixHQUFyQixDQUF5QkMsU0FBekIsQ0FBbUNHLFNBQW5DLENBQTZDLENBQTdDLENBQXpCO0lBQ0EsS0FBS1gsR0FBTCxHQUFXLEtBQUtDLFVBQUwsR0FBa0IsR0FBN0I7O0lBQ0EsSUFBSVYsQ0FBSixFQUFPO01BQ0gsS0FBS3FCLFFBQUwsQ0FBY0MsR0FBZCxDQUFrQnRCLENBQWxCLEVBQXFCdUIsY0FBckIsQ0FBb0MsS0FBS0osS0FBekM7SUFDSDtFQUNKLENBWkQ7O0VBYUFuQixDQUFDLENBQUNZLFNBQUYsQ0FBWVksV0FBWixHQUEwQixVQUFVekIsQ0FBVixFQUFhO0lBQ25DLElBQUksTUFBTSxLQUFLUyxZQUFmLEVBQTZCO01BQ3pCLEtBQUtELFFBQUwsSUFBaUJSLENBQWpCO01BQ0EsS0FBS1EsUUFBTCxJQUFpQixLQUFLRCxJQUF0QixLQUFnQyxLQUFLQyxRQUFMLEdBQWdCLEtBQUtELElBQXRCLEVBQThCLEtBQUtFLFlBQUwsR0FBb0IsQ0FBakY7TUFDQWIsQ0FBQyxDQUFDOEIsQ0FBRixHQUFNLEtBQUtDLFlBQUwsQ0FBa0IsS0FBS25CLFFBQXZCLEVBQWlDLENBQUMsR0FBbEMsRUFBdUMsS0FBS0UsR0FBNUMsRUFBaUQsS0FBS0gsSUFBdEQsQ0FBTjtNQUNBWCxDQUFDLENBQUNnQyxDQUFGLEdBQU0sS0FBS0MsSUFBTCxDQUFVRCxDQUFoQjtNQUNBLEtBQUtFLFdBQUwsQ0FBaUJsQyxDQUFqQjtNQUNBLEtBQUtZLFFBQUwsSUFBaUIsS0FBS0QsSUFBdEIsS0FBK0IsS0FBS0MsUUFBTCxHQUFnQixDQUEvQztJQUNILENBUEQsTUFPTztNQUNILElBQUksTUFBTSxLQUFLQyxZQUFmLEVBQTZCO1FBQ3pCLEtBQUtELFFBQUwsSUFBaUJSLENBQWpCO1FBQ0EsS0FBS1EsUUFBTCxJQUFpQixLQUFLRCxJQUF0QixLQUFnQyxLQUFLQyxRQUFMLEdBQWdCLEtBQUtELElBQXRCLEVBQThCLEtBQUtFLFlBQUwsR0FBb0IsQ0FBakY7UUFDQWIsQ0FBQyxDQUFDOEIsQ0FBRixHQUFNLEtBQUtLLFdBQUwsQ0FBaUIsS0FBS3ZCLFFBQXRCLEVBQWdDLEtBQUtHLFVBQXJDLEVBQWlELENBQUMsS0FBS0QsR0FBdkQsRUFBNEQsS0FBS0gsSUFBakUsQ0FBTjtRQUNBWCxDQUFDLENBQUNnQyxDQUFGLEdBQU0sS0FBS0MsSUFBTCxDQUFVRCxDQUFoQjtRQUNBLEtBQUtFLFdBQUwsQ0FBaUJsQyxDQUFqQjtNQUNILENBTkQsTUFNTztRQUNILElBQUksTUFBTSxLQUFLYSxZQUFmLEVBQTZCO1VBQ3pCLEtBQUtBLFlBQUwsR0FBb0IsQ0FBcEI7VUFDQSxPQUFPLEtBQUt1QixVQUFMLEVBQVA7UUFDSDtNQUNKO0lBQ0o7RUFDSixDQXRCRDs7RUF1QkEvQixDQUFDLENBQUNZLFNBQUYsQ0FBWW9CLFNBQVosR0FBd0IsVUFBVWpDLENBQVYsRUFBYUMsQ0FBYixFQUFnQjtJQUNwQyxJQUFJQSxDQUFDLElBQUlmLE9BQU8sQ0FBQ2dELE9BQVIsQ0FBZ0JDLEtBQXpCLEVBQWdDO01BQzVCLElBQUlDLENBQUMsR0FBR3BDLENBQUMsQ0FBQ3FDLE1BQVY7TUFDQUQsQ0FBQyxDQUFDRSxTQUFGLENBQVk7UUFDUkMsZ0JBQWdCLEVBQUUsS0FBS0EsZ0JBRGY7UUFFUnZCLEdBQUcsRUFBRSxLQUFLQTtNQUZGLENBQVo7O01BSUEsSUFBSSxNQUFNLEtBQUtQLFlBQWYsRUFBNkI7UUFDekIsSUFBSXhCLENBQUMsR0FBRztVQUNKdUQsSUFBSSxFQUFFbkQsWUFBWSxDQUFDb0QsZUFBYixDQUE2QkMsSUFEL0I7VUFFSkMsUUFBUSxFQUFFLENBQUMsQ0FGUDtVQUdKQyxLQUFLLEVBQUV4RCxZQUFZLFdBQVosQ0FBcUI2QixHQUFyQixDQUF5QkMsU0FBekIsQ0FBbUNHLFNBQW5DLENBQTZDLENBQTdDO1FBSEgsQ0FBUjtRQUtBZSxDQUFDLENBQUNTLFlBQUYsQ0FBZTVELENBQWY7TUFDSDtJQUNKO0VBQ0osQ0FoQkQ7O0VBaUJBZ0IsQ0FBQyxDQUFDWSxTQUFGLENBQVljLFlBQVosR0FBMkIsVUFBVTNCLENBQVYsRUFBYUMsQ0FBYixFQUFnQm1DLENBQWhCLEVBQW1CbkQsQ0FBbkIsRUFBc0I7SUFDN0MsT0FBT21ELENBQUMsSUFBSSxDQUFDcEMsQ0FBQyxHQUFHQSxDQUFDLEdBQUdmLENBQUosR0FBUSxDQUFiLElBQWtCZSxDQUFsQixHQUFzQkEsQ0FBdEIsR0FBMEIsQ0FBOUIsQ0FBRCxHQUFvQ0MsQ0FBM0M7RUFDSCxDQUZEOztFQUdBQSxDQUFDLENBQUNZLFNBQUYsQ0FBWWtCLFdBQVosR0FBMEIsVUFBVS9CLENBQVYsRUFBYUMsQ0FBYixFQUFnQm1DLENBQWhCLEVBQW1CbkQsQ0FBbkIsRUFBc0I7SUFDNUMsT0FBT21ELENBQUMsSUFBSXBDLENBQUMsSUFBSWYsQ0FBVCxDQUFELEdBQWVlLENBQWYsR0FBbUJBLENBQW5CLEdBQXVCQyxDQUE5QjtFQUNILENBRkQ7O0VBR0EsT0FBTzZDLFVBQVUsQ0FBQyxDQUFDcEQsQ0FBRCxDQUFELEVBQU1PLENBQU4sQ0FBakI7QUFDSCxDQXhFTyxDQXdFTFgsV0FBVyxXQXhFTixDQUFSOztBQXlFQXlELE9BQU8sV0FBUCxHQUFrQmhELENBQWxCIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgbztcclxudmFyICRvYmplY3QgPSByZXF1aXJlKFwiLi9PYmplY3RcIik7XHJcbnZhciAkZ2FtZUNvbnRleHQgPSByZXF1aXJlKFwiLi9HYW1lQ29udGV4dFwiKTtcclxudmFyICRlbmVteVN0YXR1cyA9IHJlcXVpcmUoXCIuL0VuZW15U3RhdHVzXCIpO1xyXG52YXIgJGJhc2VCdWxsZXQgPSByZXF1aXJlKFwiLi9CYXNlQnVsbGV0XCIpO1xyXG52YXIgdSA9IGNjLl9kZWNvcmF0b3I7XHJcbnZhciBkID0gdS5jY2NsYXNzO1xyXG52YXIgcCA9ICh1LnByb3BlcnR5LCBuZXcgY2MuVmVjMygpKTtcclxudmFyIGYgPSAoZnVuY3Rpb24gKHQpIHtcclxuICAgIGZ1bmN0aW9uIGUoKSB7XHJcbiAgICAgICAgdmFyIGUgPSAobnVsbCAhPT0gdCAmJiB0LmFwcGx5KHRoaXMsIGFyZ3VtZW50cykpIHx8IHRoaXM7XHJcbiAgICAgICAgZS5idXR0bGVUeXBlID0gJGJhc2VCdWxsZXQuQnVsbGV0VHlwZS5zX2J1bGxldF80O1xyXG4gICAgICAgIGUudGltZSA9IDA7XHJcbiAgICAgICAgZS5jdXJyVGltZSA9IDA7XHJcbiAgICAgICAgZS5idWxsZXRTdGF0dXMgPSAwO1xyXG4gICAgICAgIGUuZGlzID0gMDtcclxuICAgICAgICBlLnN0YXJ0MlBvc1kgPSAwO1xyXG4gICAgICAgIHJldHVybiBlO1xyXG4gICAgfVxyXG4gICAgX19leHRlbmRzKGUsIHQpO1xyXG4gICAgZS5wcm90b3R5cGUuaW5pdEJ1dHRsZSA9IGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgdC5wcm90b3R5cGUuaW5pdEJ1dHRsZS5jYWxsKHRoaXMsIGUsIG51bGwpO1xyXG4gICAgICAgIHRoaXMuYnVsbGV0U3RhdHVzID0gMDtcclxuICAgICAgICB0aGlzLmN1cnJUaW1lID0gMDtcclxuICAgICAgICB0aGlzLmF0ayA9ICRnYW1lQ29udGV4dC5kZWZhdWx0Lmlucy5za2lsbEluZm8uc2tpbkF0aztcclxuICAgICAgICB0aGlzLnNwZWVkID0gJGdhbWVDb250ZXh0LmRlZmF1bHQuaW5zLnNraWxsSW5mby5za2luUGFyYW1bNF07XHJcbiAgICAgICAgdGhpcy50aW1lID0gJGdhbWVDb250ZXh0LmRlZmF1bHQuaW5zLnNraWxsSW5mby5za2luUGFyYW1bM10gLyB0aGlzLnNwZWVkO1xyXG4gICAgICAgIHRoaXMuc3RhcnQyUG9zWSA9IC0zNTAgKyAkZ2FtZUNvbnRleHQuZGVmYXVsdC5pbnMuc2tpbGxJbmZvLnNraW5QYXJhbVszXTtcclxuICAgICAgICB0aGlzLmRpcyA9IHRoaXMuc3RhcnQyUG9zWSArIDM1MDtcclxuICAgICAgICBpZiAoZSkge1xyXG4gICAgICAgICAgICB0aGlzLnZlbG9jaXR5LnNldChlKS5tdWx0aXBseVNjYWxhcih0aGlzLnNwZWVkKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgZS5wcm90b3R5cGUudXBkYXRlRnJhbWUgPSBmdW5jdGlvbiAodCkge1xyXG4gICAgICAgIGlmICgwID09PSB0aGlzLmJ1bGxldFN0YXR1cykge1xyXG4gICAgICAgICAgICB0aGlzLmN1cnJUaW1lICs9IHQ7XHJcbiAgICAgICAgICAgIHRoaXMuY3VyclRpbWUgPj0gdGhpcy50aW1lICYmICgodGhpcy5jdXJyVGltZSA9IHRoaXMudGltZSksICh0aGlzLmJ1bGxldFN0YXR1cyA9IDEpKTtcclxuICAgICAgICAgICAgcC55ID0gdGhpcy5lYXNlT3V0Q3ViaWModGhpcy5jdXJyVGltZSwgLTM1MCwgdGhpcy5kaXMsIHRoaXMudGltZSk7XHJcbiAgICAgICAgICAgIHAueCA9IHRoaXMubm9kZS54O1xyXG4gICAgICAgICAgICB0aGlzLnNldFBvc2l0aW9uKHApO1xyXG4gICAgICAgICAgICB0aGlzLmN1cnJUaW1lID49IHRoaXMudGltZSAmJiAodGhpcy5jdXJyVGltZSA9IDApO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGlmICgxID09PSB0aGlzLmJ1bGxldFN0YXR1cykge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jdXJyVGltZSArPSB0O1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jdXJyVGltZSA+PSB0aGlzLnRpbWUgJiYgKCh0aGlzLmN1cnJUaW1lID0gdGhpcy50aW1lKSwgKHRoaXMuYnVsbGV0U3RhdHVzID0gMikpO1xyXG4gICAgICAgICAgICAgICAgcC55ID0gdGhpcy5lYXNlSW5DdWJpYyh0aGlzLmN1cnJUaW1lLCB0aGlzLnN0YXJ0MlBvc1ksIC10aGlzLmRpcywgdGhpcy50aW1lKTtcclxuICAgICAgICAgICAgICAgIHAueCA9IHRoaXMubm9kZS54O1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZXRQb3NpdGlvbihwKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGlmICgyID09PSB0aGlzLmJ1bGxldFN0YXR1cykge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYnVsbGV0U3RhdHVzID0gMztcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5yZW1vdmVTZWxmKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgZS5wcm90b3R5cGUub25UcmlnZ2VyID0gZnVuY3Rpb24gKHQsIGUpIHtcclxuICAgICAgICBpZiAoZSA9PSAkb2JqZWN0LlRyaWdnZXIuZW50ZXIpIHtcclxuICAgICAgICAgICAgdmFyIGkgPSB0Lm9iamVjdDtcclxuICAgICAgICAgICAgaS5zdWZmZXJBdGsoe1xyXG4gICAgICAgICAgICAgICAgc2tpbGxTcGVjaWFsaXR5czogdGhpcy5za2lsbFNwZWNpYWxpdHlzLFxyXG4gICAgICAgICAgICAgICAgYXRrOiB0aGlzLmF0a1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgaWYgKDAgPT09IHRoaXMuYnVsbGV0U3RhdHVzKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgbyA9IHtcclxuICAgICAgICAgICAgICAgICAgICB0eXBlOiAkZW5lbXlTdGF0dXMuRW5lbXlEZWJ1ZmZUeXBlLkJBQ0ssXHJcbiAgICAgICAgICAgICAgICAgICAgdGltZUxlZnQ6IC0xLFxyXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiAkZ2FtZUNvbnRleHQuZGVmYXVsdC5pbnMuc2tpbGxJbmZvLnNraW5QYXJhbVs1XVxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgIGkuc3VmZmVyRGVidWZmKG8pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIGUucHJvdG90eXBlLmVhc2VPdXRDdWJpYyA9IGZ1bmN0aW9uICh0LCBlLCBpLCBvKSB7XHJcbiAgICAgICAgcmV0dXJuIGkgKiAoKHQgPSB0IC8gbyAtIDEpICogdCAqIHQgKyAxKSArIGU7XHJcbiAgICB9O1xyXG4gICAgZS5wcm90b3R5cGUuZWFzZUluQ3ViaWMgPSBmdW5jdGlvbiAodCwgZSwgaSwgbykge1xyXG4gICAgICAgIHJldHVybiBpICogKHQgLz0gbykgKiB0ICogdCArIGU7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIF9fZGVjb3JhdGUoW2RdLCBlKTtcclxufSkoJGJhc2VCdWxsZXQuZGVmYXVsdCk7XHJcbmV4cG9ydHMuZGVmYXVsdCA9IGY7XHJcbiJdfQ==