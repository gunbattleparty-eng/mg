{"version":3,"sources":["assets\\game_script\\scripts\\Enemy_23.js"],"names":["o","$baseBullet","require","$baseEnemy","$enemyStatus","$healthBar","u","cc","_decorator","d","ccclass","p","property","f","t","e","apply","arguments","healthBar","atkCount","__extends","prototype","initEnemy","i","call","statusManager","specialityAtkAdd","set","BulletSpeciality","thunder","config","value","ice","init","hp","hp_num","sufferDebuff","type","EnemyDebuffType","BURN","STUN","BACK","sufferAttack","isDie","render","attack","isCanAtk","isAttacking","skin","playAnimation","scheduleOnce","attackAnim","once","dragonBones","EventObject","COMPLETE","__decorate","exports"],"mappings":"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","sourceRoot":"/","sourcesContent":["var o;\r\nvar $baseBullet = require(\"./BaseBullet\");\r\nvar $baseEnemy = require(\"./BaseEnemy\");\r\nvar $enemyStatus = require(\"./EnemyStatus\");\r\nvar $healthBar = require(\"./HealthBar\");\r\nvar u = cc._decorator;\r\nvar d = u.ccclass;\r\nvar p = u.property;\r\nvar f = (function (t) {\r\n    function e() {\r\n        var e = (null !== t && t.apply(this, arguments)) || this;\r\n        e.healthBar = null;\r\n        e.atkCount = 0;\r\n        return e;\r\n    }\r\n    __extends(e, t);\r\n    e.prototype.initEnemy = function (e, i, o) {\r\n        if (void 0 === o) {\r\n            o = 0;\r\n        }\r\n        t.prototype.initEnemy.call(this, e, i, o);\r\n        this.atkCount = 0;\r\n        this.statusManager.specialityAtkAdd.set($baseBullet.BulletSpeciality.thunder, this.config.value[0]);\r\n        this.statusManager.specialityAtkAdd.set($baseBullet.BulletSpeciality.ice, this.config.value[1]);\r\n        if (this.healthBar) {\r\n            this.healthBar.init(this.statusManager.hp, e.hp_num);\r\n        }\r\n    };\r\n    e.prototype.sufferDebuff = function (e) {\r\n        if (\r\n            e.type !== $enemyStatus.EnemyDebuffType.BURN &&\r\n            e.type !== $enemyStatus.EnemyDebuffType.STUN &&\r\n            e.type !== $enemyStatus.EnemyDebuffType.BACK\r\n        ) {\r\n            t.prototype.sufferDebuff.call(this, e);\r\n        }\r\n    };\r\n    e.prototype.sufferAttack = function (e, i) {\r\n        if (this.statusManager.isDie) {\r\n            return !1;\r\n        }\r\n        var o = t.prototype.sufferAttack.call(this, e, i);\r\n        if (this.healthBar) {\r\n            this.healthBar.render(this.statusManager.hp);\r\n        }\r\n        return o;\r\n    };\r\n    e.prototype.attack = function () {\r\n        var t = this;\r\n        if (this.isCanAtk) {\r\n            this.isAttacking = !0;\r\n            this.skin.playAnimation(\"hit\", 1);\r\n            this.scheduleOnce(this.attackAnim, 0.066);\r\n            this.skin.once(\r\n                dragonBones.EventObject.COMPLETE,\r\n                function () {\r\n                    t.atkCount++;\r\n                    t.atkCount >= t.config.value[2]\r\n                        ? ((t.atkCount = 0), (t.isAttacking = !1), t.skin.playAnimation(\"stand\", 0))\r\n                        : t.attack();\r\n                },\r\n                this\r\n            );\r\n        }\r\n    };\r\n    __decorate([p($healthBar.default)], e.prototype, \"healthBar\", void 0);\r\n    return __decorate([d], e);\r\n})($baseEnemy.default);\r\nexports.default = f;\r\n"]}