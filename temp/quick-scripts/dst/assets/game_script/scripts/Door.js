
                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/game_script/scripts/Door.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '6f802yCtl1DqrursrdEThbA', 'Door');
// game_script/scripts/Door.js

"use strict";

var o;

var $object = require("./Object");

var $assetsLoader = require("./AssetsLoader");

var $assetsMap = require("./AssetsMap");

var $resUtil = require("./ResUtil");

var $eventManager = require("./EventManager");

var $componentProxy = require("./ComponentProxy");

var $gamePool = require("./GamePool");

var $localEventName = require("./LocalEventName");

var $baseBullet = require("./BaseBullet");

var $gameContext = require("./GameContext");

var $gameGemInfo = require("./GameGemInfo");

var g = cc._decorator;
var _ = g.ccclass;
var k = g.property;
var v = new cc.Vec3();

var b = function (t) {
  function e() {
    var e = null !== t && t.apply(this, arguments) || this;
    e.hpProBar = null;
    e.hpLabel = null;
    e.sendBulletLeftTime = 0;
    e.doorSkin = null;
    e.initHp = 3e3;
    e.defHp = 0;
    e.unitHp = 0;
    e.duration = 0.3;
    e._time = 0;
    e.atkCount = 0;
    e.leftWall1Hp = 0;
    e.leftWall2Hp = 0;
    e.isFristBlood = !1;
    e.invulnerabilityTime = -1;
    e.bloodLine = 0;
    e.addBloodLeftTime = 0;
    e.addBlood = 0;
    e.hurt = null;
    e.nextXs = [];
    return e;
  }

  __extends(e, t);

  e.prototype.start = function () {
    var t = this;
    this.hurt = $gamePool["default"].instance.get($gamePool.PoolKey.HURT);

    if (!this.hurt) {
      $assetsLoader["default"].instance.loadRes($assetsMap.BundleNames.Game, ["/prefabs/debuff/Hurt"], cc.Prefab, null, function (e, i) {
        var o = i[0];

        if (sp && cc.isValid(o)) {
          t.hurt = $resUtil.ResUtil.instantiate(o, t.node);
        }
      });
    }

    $eventManager["default"].on($localEventName["default"].ATK_DOOR, this.atkDoor, this);
    $eventManager["default"].on($localEventName["default"].ADD_HP_DOOR, this.addHp, this);
    this.initHp = $gameContext["default"].ins.doorInitHp;
    this.hpLabel.string = this.initHp.toString();

    if ($gameGemInfo.GameGemInfo.ins.hasGem($gameGemInfo.GemType.WallAdd)) {
      var e = $gameGemInfo.GameGemInfo.ins.get2($gameGemInfo.GemType.WallAdd);
      this.defHp += e[1];
    }

    if ($gameGemInfo.GameGemInfo.ins.hasGem($gameGemInfo.GemType.SecWallBlood)) {
      this.addBlood = $gameGemInfo.GameGemInfo.ins.get1($gameGemInfo.GemType.SecWallBlood);
      this.addBloodLeftTime = 10;
    }

    this.unitHp = this.initHp / 4;
    this.doorSkin = this.node.getComponent(dragonBones.ArmatureDisplay);
    $componentProxy["default"].Ins.pushObj(this);
    this.refreshRenderGem();
  };

  e.prototype.onDestroy = function () {
    t.prototype.onDestroy.call(this);
    $eventManager["default"].off($localEventName["default"].ATK_DOOR, this.atkDoor, this);
    $eventManager["default"].off($localEventName["default"].ADD_HP_DOOR, this.addHp, this);
    $componentProxy["default"].Ins.removeObj(this);
  };

  e.prototype.addHp = function (t) {
    if (!($gameContext["default"].ins.doorLeftHp <= 0 || $gameContext["default"].ins.doorLeftHp >= this.initHp)) {
      $gameContext["default"].ins.doorLeftHp += t;

      if ($gameContext["default"].ins.doorLeftHp > this.initHp) {
        $gameContext["default"].ins.doorLeftHp = this.initHp;
      }

      var e = -this.hpProBar.totalLength / 2 + this.hpProBar.totalLength * this.hpProBar.progress;
      var i = cc.v3(e, -460);
      this.hpProBar.progress = $gameContext["default"].ins.doorLeftHp / this.initHp;
      this.atkAnim(i, "+" + t, 2, 1);
      this.hpLabel.string = $gameContext["default"].ins.doorLeftHp.toString();
    }
  };

  e.prototype.atkDoor = function (t) {
    this.atkCount++;

    if ($gameGemInfo.GameGemInfo.ins.hasGem($gameGemInfo.GemType.WallDefAndEnemyAddHurt) && this.atkCount < $gameGemInfo.GameGemInfo.ins.get2($gameGemInfo.GemType.WallDefAndEnemyAddHurt)[0] || this.isFristBlood && this.invulnerabilityTime > 0) {
      var e = -this.hpProBar.totalLength / 2 + this.hpProBar.totalLength * this.hpProBar.progress;
      var i = cc.v3(e, -460);
      this.atkAnim(i, "免伤", 1, 1);
      return this.atkCount;
    }

    var o = -this.hpProBar.totalLength / 2 + this.hpProBar.totalLength * this.hpProBar.progress;
    var n = cc.v3(o, -460);

    if ((t -= this.defHp) <= 0) {
      this.atkAnim(n, "格挡", 1, 1);
      return this.atkCount;
    }

    if ($gameContext["default"].ins.doorLeftHp <= 0) {
      return 0;
    }

    $gameContext["default"].ins.doorLeftHp -= t;

    if ($gameContext["default"].ins.doorLeftHp < 0) {
      $gameContext["default"].ins.doorLeftHp = 0;
    }

    this.hpLabel.string = $gameContext["default"].ins.doorLeftHp.toString();
    this.hpProBar.progress = $gameContext["default"].ins.doorLeftHp / this.initHp;
    this.atkAnim(n, "-" + t, 1, 1);
    var s = Math.ceil($gameContext["default"].ins.doorLeftHp / this.unitHp);
    var r = "hp" + (5 - (s = 0 === s ? 1 : s));

    if (this.doorSkin.animationName !== r) {
      this.doorSkin.playAnimation(r, 0);
    }

    if (this._time <= 0) {
      this._time = 0.3;
    }

    if ($gameContext["default"].ins.doorLeftHp <= 0) {
      this._time = 0;
      this.doorSkin.node.opacity = 1;
      $eventManager["default"].send($localEventName["default"].GAME_FAIL);
    }

    if (this.bloodLine < $gameContext["default"].ins.doorLeftHp && !this.isFristBlood && $gameGemInfo.GameGemInfo.ins.hasGem($gameGemInfo.GemType.WallBloodDef)) {
      this.isFristBlood = !0;
    }

    this.checkGem(t);
    return this.atkCount;
  };

  e.prototype.checkGem = function (t) {
    this.leftWall1Hp -= t;
    this.leftWall2Hp -= t;

    if (this.leftWall1Hp <= 0 && $gameGemInfo.GameGemInfo.ins.hasGem($gameGemInfo.GemType.WallBloodAtk1)) {
      this.leftWall1Hp = this.initHp * $gameGemInfo.GameGemInfo.ins.get1($gameGemInfo.GemType.WallBloodAtk1);
      this.startGun(1);
    }

    if (this.leftWall2Hp <= 0 && $gameGemInfo.GameGemInfo.ins.hasGem($gameGemInfo.GemType.WallBloodAtk2)) {
      this.leftWall2Hp = this.initHp * $gameGemInfo.GameGemInfo.ins.get2($gameGemInfo.GemType.WallBloodAtk2)[0];
      this.startGun($gameGemInfo.GameGemInfo.ins.get2($gameGemInfo.GemType.WallBloodAtk2)[1]);
    }
  };

  e.prototype.refreshRenderGem = function () {
    if ($gameGemInfo.GameGemInfo.ins.hasGem($gameGemInfo.GemType.WallBloodAtk1)) {
      this.leftWall1Hp = this.initHp * $gameGemInfo.GameGemInfo.ins.get1($gameGemInfo.GemType.WallBloodAtk1);
    }

    if (this.leftWall2Hp <= 0 && $gameGemInfo.GameGemInfo.ins.hasGem($gameGemInfo.GemType.WallBloodAtk2)) {
      this.leftWall2Hp = this.initHp * $gameGemInfo.GameGemInfo.ins.get2($gameGemInfo.GemType.WallBloodAtk2)[0];
    }

    if ($gameGemInfo.GameGemInfo.ins.hasGem($gameGemInfo.GemType.WallBloodDef)) {
      this.bloodLine = $gameGemInfo.GameGemInfo.ins.get2($gameGemInfo.GemType.WallBloodDef)[0] * this.initHp;
      this.invulnerabilityTime = $gameGemInfo.GameGemInfo.ins.get2($gameGemInfo.GemType.WallBloodDef)[1];
    }
  };

  e.prototype.updateFrame = function (t) {
    if (this._time > 0) {
      this._time -= t;

      if (this._time <= 0) {
        this._time = 0;
      }

      this._time = this._time < 0 ? 0 : this._time;
      var e = Math.ceil(255 * this._time / this.duration);

      if (e < 1) {
        e = 1;
      }

      this.doorSkin.node.opacity = e;
    }

    this.sendBulletLeftTime -= t;

    if (this.sendBulletLeftTime <= 0) {
      this.sendBulletLeftTime = 1;
      this.createButtle();
    }

    if (-1 !== this.invulnerabilityTime && this.isFristBlood) {
      this.invulnerabilityTime -= t;

      if (this.invulnerabilityTime < 0) {
        this.invulnerabilityTime = -1;
      }
    }

    if (this.addBlood > 0) {
      this.addBloodLeftTime -= t;

      if (this.addBloodLeftTime <= 0) {
        this.addBloodLeftTime = 10;
        this.addHp(this.addBlood);
      }
    }
  };

  e.prototype.startGun = function (t) {
    $gameContext["default"].ins.skillInfo.hideCreateSkill(81);
    var e = Math.min(t, $gameContext["default"].ins.enemyLayer.children.length);
    var i = !1;

    for (var o = 0; o < e; o++) {
      var n = $gameContext["default"].ins.enemyLayer.children[$gameContext["default"].ins.enemyLayer.children.length - o - 1];
      this.nextXs.push(n.position.x);
      i = !0;
    }

    return i;
  };

  e.prototype.createButtle = function () {
    if (!(this.nextXs.length <= 0)) {
      var t = this.nextXs.shift();
      var e = $gameContext["default"].ins.getButtlePool($baseBullet.BulletType.car);

      if (!e) {
        var i = $assetsLoader["default"].instance.getRes($assetsMap.BundleNames.Game, $assetsMap.AssetsMap.GameBundles.prefabs.assetsList.Bullet_13);
        (e = $resUtil.ResUtil.instantiate(i, $gameContext["default"].ins.lowBulletLayer.parent).getComponent($baseBullet["default"])).skillSpecialitys = [];
      }

      e.isGem = !0;
      e.setPosition(cc.v3(t, -350));
      v.x = 0;
      v.y = 1;
      e.initButtle(v, 81);
      e.insert($gameContext["default"].ins.lowBulletLayer);
    }
  };

  e.prototype.atkAnim = function (t, e, i, o) {
    var n = this;

    if (void 0 === i) {
      i = 0;
    }

    if (void 0 === o) {
      o = 0;
    }

    var s = this.hurt.getComponent(cc.Label);
    s.fontSize = $gameContext["default"].ins.atkSize[o];
    s.string = e;
    this.hurt.color = $gameContext["default"].ins.atkColor[i];
    this.hurt.parent = $gameContext["default"].ins.atkLayer;
    this.hurt.position = t.clone();
    var r = t.add(cc.v3(0, 50));
    cc.Tween.stopAllByTarget(this.hurt);
    this.hurt.opacity = 255;
    cc.tween(this.hurt).to(0.5 / $gameContext["default"].ins.gameRatio, {
      position: r
    }).call(function () {
      n.hurt.opacity = 0;
    }).start();
  };

  __decorate([k(cc.ProgressBar)], e.prototype, "hpProBar", void 0);

  __decorate([k(cc.Label)], e.prototype, "hpLabel", void 0);

  return __decorate([_], e);
}($object.cObject);

exports["default"] = b;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcZ2FtZV9zY3JpcHRcXHNjcmlwdHNcXERvb3IuanMiXSwibmFtZXMiOlsibyIsIiRvYmplY3QiLCJyZXF1aXJlIiwiJGFzc2V0c0xvYWRlciIsIiRhc3NldHNNYXAiLCIkcmVzVXRpbCIsIiRldmVudE1hbmFnZXIiLCIkY29tcG9uZW50UHJveHkiLCIkZ2FtZVBvb2wiLCIkbG9jYWxFdmVudE5hbWUiLCIkYmFzZUJ1bGxldCIsIiRnYW1lQ29udGV4dCIsIiRnYW1lR2VtSW5mbyIsImciLCJjYyIsIl9kZWNvcmF0b3IiLCJfIiwiY2NjbGFzcyIsImsiLCJwcm9wZXJ0eSIsInYiLCJWZWMzIiwiYiIsInQiLCJlIiwiYXBwbHkiLCJhcmd1bWVudHMiLCJocFByb0JhciIsImhwTGFiZWwiLCJzZW5kQnVsbGV0TGVmdFRpbWUiLCJkb29yU2tpbiIsImluaXRIcCIsImRlZkhwIiwidW5pdEhwIiwiZHVyYXRpb24iLCJfdGltZSIsImF0a0NvdW50IiwibGVmdFdhbGwxSHAiLCJsZWZ0V2FsbDJIcCIsImlzRnJpc3RCbG9vZCIsImludnVsbmVyYWJpbGl0eVRpbWUiLCJibG9vZExpbmUiLCJhZGRCbG9vZExlZnRUaW1lIiwiYWRkQmxvb2QiLCJodXJ0IiwibmV4dFhzIiwiX19leHRlbmRzIiwicHJvdG90eXBlIiwic3RhcnQiLCJpbnN0YW5jZSIsImdldCIsIlBvb2xLZXkiLCJIVVJUIiwibG9hZFJlcyIsIkJ1bmRsZU5hbWVzIiwiR2FtZSIsIlByZWZhYiIsImkiLCJzcCIsImlzVmFsaWQiLCJSZXNVdGlsIiwiaW5zdGFudGlhdGUiLCJub2RlIiwib24iLCJBVEtfRE9PUiIsImF0a0Rvb3IiLCJBRERfSFBfRE9PUiIsImFkZEhwIiwiaW5zIiwiZG9vckluaXRIcCIsInN0cmluZyIsInRvU3RyaW5nIiwiR2FtZUdlbUluZm8iLCJoYXNHZW0iLCJHZW1UeXBlIiwiV2FsbEFkZCIsImdldDIiLCJTZWNXYWxsQmxvb2QiLCJnZXQxIiwiZ2V0Q29tcG9uZW50IiwiZHJhZ29uQm9uZXMiLCJBcm1hdHVyZURpc3BsYXkiLCJJbnMiLCJwdXNoT2JqIiwicmVmcmVzaFJlbmRlckdlbSIsIm9uRGVzdHJveSIsImNhbGwiLCJvZmYiLCJyZW1vdmVPYmoiLCJkb29yTGVmdEhwIiwidG90YWxMZW5ndGgiLCJwcm9ncmVzcyIsInYzIiwiYXRrQW5pbSIsIldhbGxEZWZBbmRFbmVteUFkZEh1cnQiLCJuIiwicyIsIk1hdGgiLCJjZWlsIiwiciIsImFuaW1hdGlvbk5hbWUiLCJwbGF5QW5pbWF0aW9uIiwib3BhY2l0eSIsInNlbmQiLCJHQU1FX0ZBSUwiLCJXYWxsQmxvb2REZWYiLCJjaGVja0dlbSIsIldhbGxCbG9vZEF0azEiLCJzdGFydEd1biIsIldhbGxCbG9vZEF0azIiLCJ1cGRhdGVGcmFtZSIsImNyZWF0ZUJ1dHRsZSIsInNraWxsSW5mbyIsImhpZGVDcmVhdGVTa2lsbCIsIm1pbiIsImVuZW15TGF5ZXIiLCJjaGlsZHJlbiIsImxlbmd0aCIsInB1c2giLCJwb3NpdGlvbiIsIngiLCJzaGlmdCIsImdldEJ1dHRsZVBvb2wiLCJCdWxsZXRUeXBlIiwiY2FyIiwiZ2V0UmVzIiwiQXNzZXRzTWFwIiwiR2FtZUJ1bmRsZXMiLCJwcmVmYWJzIiwiYXNzZXRzTGlzdCIsIkJ1bGxldF8xMyIsImxvd0J1bGxldExheWVyIiwicGFyZW50Iiwic2tpbGxTcGVjaWFsaXR5cyIsImlzR2VtIiwic2V0UG9zaXRpb24iLCJ5IiwiaW5pdEJ1dHRsZSIsImluc2VydCIsIkxhYmVsIiwiZm9udFNpemUiLCJhdGtTaXplIiwiY29sb3IiLCJhdGtDb2xvciIsImF0a0xheWVyIiwiY2xvbmUiLCJhZGQiLCJUd2VlbiIsInN0b3BBbGxCeVRhcmdldCIsInR3ZWVuIiwidG8iLCJnYW1lUmF0aW8iLCJfX2RlY29yYXRlIiwiUHJvZ3Jlc3NCYXIiLCJjT2JqZWN0IiwiZXhwb3J0cyJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSxJQUFJQSxDQUFKOztBQUNBLElBQUlDLE9BQU8s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QVY7O0VBQ0EsT0FBT3lHLFVBQVUsQ0FBQyxDQUFDeEksQ0FBRCxDQUFELEVBQU1RLENBQU4sQ0FBakI7QUFDSCxDQXpQTyxDQXlQTHZCLE9BQU8sQ0FBQ3lKLE9BelBILENBQVI7O0FBMFBBQyxPQUFPLFdBQVAsR0FBa0JySSxDQUFsQiIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsidmFyIG87XHJcbnZhciAkb2JqZWN0ID0gcmVxdWlyZShcIi4vT2JqZWN0XCIpO1xyXG52YXIgJGFzc2V0c0xvYWRlciA9IHJlcXVpcmUoXCIuL0Fzc2V0c0xvYWRlclwiKTtcclxudmFyICRhc3NldHNNYXAgPSByZXF1aXJlKFwiLi9Bc3NldHNNYXBcIik7XHJcbnZhciAkcmVzVXRpbCA9IHJlcXVpcmUoXCIuL1Jlc1V0aWxcIik7XHJcbnZhciAkZXZlbnRNYW5hZ2VyID0gcmVxdWlyZShcIi4vRXZlbnRNYW5hZ2VyXCIpO1xyXG52YXIgJGNvbXBvbmVudFByb3h5ID0gcmVxdWlyZShcIi4vQ29tcG9uZW50UHJveHlcIik7XHJcbnZhciAkZ2FtZVBvb2wgPSByZXF1aXJlKFwiLi9HYW1lUG9vbFwiKTtcclxudmFyICRsb2NhbEV2ZW50TmFtZSA9IHJlcXVpcmUoXCIuL0xvY2FsRXZlbnROYW1lXCIpO1xyXG52YXIgJGJhc2VCdWxsZXQgPSByZXF1aXJlKFwiLi9CYXNlQnVsbGV0XCIpO1xyXG52YXIgJGdhbWVDb250ZXh0ID0gcmVxdWlyZShcIi4vR2FtZUNvbnRleHRcIik7XHJcbnZhciAkZ2FtZUdlbUluZm8gPSByZXF1aXJlKFwiLi9HYW1lR2VtSW5mb1wiKTtcclxudmFyIGcgPSBjYy5fZGVjb3JhdG9yO1xyXG52YXIgXyA9IGcuY2NjbGFzcztcclxudmFyIGsgPSBnLnByb3BlcnR5O1xyXG52YXIgdiA9IG5ldyBjYy5WZWMzKCk7XHJcbnZhciBiID0gKGZ1bmN0aW9uICh0KSB7XHJcbiAgICBmdW5jdGlvbiBlKCkge1xyXG4gICAgICAgIHZhciBlID0gKG51bGwgIT09IHQgJiYgdC5hcHBseSh0aGlzLCBhcmd1bWVudHMpKSB8fCB0aGlzO1xyXG4gICAgICAgIGUuaHBQcm9CYXIgPSBudWxsO1xyXG4gICAgICAgIGUuaHBMYWJlbCA9IG51bGw7XHJcbiAgICAgICAgZS5zZW5kQnVsbGV0TGVmdFRpbWUgPSAwO1xyXG4gICAgICAgIGUuZG9vclNraW4gPSBudWxsO1xyXG4gICAgICAgIGUuaW5pdEhwID0gM2UzO1xyXG4gICAgICAgIGUuZGVmSHAgPSAwO1xyXG4gICAgICAgIGUudW5pdEhwID0gMDtcclxuICAgICAgICBlLmR1cmF0aW9uID0gMC4zO1xyXG4gICAgICAgIGUuX3RpbWUgPSAwO1xyXG4gICAgICAgIGUuYXRrQ291bnQgPSAwO1xyXG4gICAgICAgIGUubGVmdFdhbGwxSHAgPSAwO1xyXG4gICAgICAgIGUubGVmdFdhbGwySHAgPSAwO1xyXG4gICAgICAgIGUuaXNGcmlzdEJsb29kID0gITE7XHJcbiAgICAgICAgZS5pbnZ1bG5lcmFiaWxpdHlUaW1lID0gLTE7XHJcbiAgICAgICAgZS5ibG9vZExpbmUgPSAwO1xyXG4gICAgICAgIGUuYWRkQmxvb2RMZWZ0VGltZSA9IDA7XHJcbiAgICAgICAgZS5hZGRCbG9vZCA9IDA7XHJcbiAgICAgICAgZS5odXJ0ID0gbnVsbDtcclxuICAgICAgICBlLm5leHRYcyA9IFtdO1xyXG4gICAgICAgIHJldHVybiBlO1xyXG4gICAgfVxyXG4gICAgX19leHRlbmRzKGUsIHQpO1xyXG4gICAgZS5wcm90b3R5cGUuc3RhcnQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIHQgPSB0aGlzO1xyXG4gICAgICAgIHRoaXMuaHVydCA9ICRnYW1lUG9vbC5kZWZhdWx0Lmluc3RhbmNlLmdldCgkZ2FtZVBvb2wuUG9vbEtleS5IVVJUKTtcclxuICAgICAgICBpZiAoIXRoaXMuaHVydCkge1xyXG4gICAgICAgICAgICAkYXNzZXRzTG9hZGVyLmRlZmF1bHQuaW5zdGFuY2UubG9hZFJlcyhcclxuICAgICAgICAgICAgICAgICRhc3NldHNNYXAuQnVuZGxlTmFtZXMuR2FtZSxcclxuICAgICAgICAgICAgICAgIFtcIi9wcmVmYWJzL2RlYnVmZi9IdXJ0XCJdLFxyXG4gICAgICAgICAgICAgICAgY2MuUHJlZmFiLFxyXG4gICAgICAgICAgICAgICAgbnVsbCxcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIChlLCBpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIG8gPSBpWzBdO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChzcCAmJiBjYy5pc1ZhbGlkKG8pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHQuaHVydCA9ICRyZXNVdGlsLlJlc1V0aWwuaW5zdGFudGlhdGUobywgdC5ub2RlKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgICRldmVudE1hbmFnZXIuZGVmYXVsdC5vbigkbG9jYWxFdmVudE5hbWUuZGVmYXVsdC5BVEtfRE9PUiwgdGhpcy5hdGtEb29yLCB0aGlzKTtcclxuICAgICAgICAkZXZlbnRNYW5hZ2VyLmRlZmF1bHQub24oJGxvY2FsRXZlbnROYW1lLmRlZmF1bHQuQUREX0hQX0RPT1IsIHRoaXMuYWRkSHAsIHRoaXMpO1xyXG4gICAgICAgIHRoaXMuaW5pdEhwID0gJGdhbWVDb250ZXh0LmRlZmF1bHQuaW5zLmRvb3JJbml0SHA7XHJcbiAgICAgICAgdGhpcy5ocExhYmVsLnN0cmluZyA9IHRoaXMuaW5pdEhwLnRvU3RyaW5nKCk7XHJcbiAgICAgICAgaWYgKCRnYW1lR2VtSW5mby5HYW1lR2VtSW5mby5pbnMuaGFzR2VtKCRnYW1lR2VtSW5mby5HZW1UeXBlLldhbGxBZGQpKSB7XHJcbiAgICAgICAgICAgIHZhciBlID0gJGdhbWVHZW1JbmZvLkdhbWVHZW1JbmZvLmlucy5nZXQyKCRnYW1lR2VtSW5mby5HZW1UeXBlLldhbGxBZGQpO1xyXG4gICAgICAgICAgICB0aGlzLmRlZkhwICs9IGVbMV07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICgkZ2FtZUdlbUluZm8uR2FtZUdlbUluZm8uaW5zLmhhc0dlbSgkZ2FtZUdlbUluZm8uR2VtVHlwZS5TZWNXYWxsQmxvb2QpKSB7XHJcbiAgICAgICAgICAgIHRoaXMuYWRkQmxvb2QgPSAkZ2FtZUdlbUluZm8uR2FtZUdlbUluZm8uaW5zLmdldDEoJGdhbWVHZW1JbmZvLkdlbVR5cGUuU2VjV2FsbEJsb29kKTtcclxuICAgICAgICAgICAgdGhpcy5hZGRCbG9vZExlZnRUaW1lID0gMTA7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMudW5pdEhwID0gdGhpcy5pbml0SHAgLyA0O1xyXG4gICAgICAgIHRoaXMuZG9vclNraW4gPSB0aGlzLm5vZGUuZ2V0Q29tcG9uZW50KGRyYWdvbkJvbmVzLkFybWF0dXJlRGlzcGxheSk7XHJcbiAgICAgICAgJGNvbXBvbmVudFByb3h5LmRlZmF1bHQuSW5zLnB1c2hPYmoodGhpcyk7XHJcbiAgICAgICAgdGhpcy5yZWZyZXNoUmVuZGVyR2VtKCk7XHJcbiAgICB9O1xyXG4gICAgZS5wcm90b3R5cGUub25EZXN0cm95ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHQucHJvdG90eXBlLm9uRGVzdHJveS5jYWxsKHRoaXMpO1xyXG4gICAgICAgICRldmVudE1hbmFnZXIuZGVmYXVsdC5vZmYoJGxvY2FsRXZlbnROYW1lLmRlZmF1bHQuQVRLX0RPT1IsIHRoaXMuYXRrRG9vciwgdGhpcyk7XHJcbiAgICAgICAgJGV2ZW50TWFuYWdlci5kZWZhdWx0Lm9mZigkbG9jYWxFdmVudE5hbWUuZGVmYXVsdC5BRERfSFBfRE9PUiwgdGhpcy5hZGRIcCwgdGhpcyk7XHJcbiAgICAgICAgJGNvbXBvbmVudFByb3h5LmRlZmF1bHQuSW5zLnJlbW92ZU9iaih0aGlzKTtcclxuICAgIH07XHJcbiAgICBlLnByb3RvdHlwZS5hZGRIcCA9IGZ1bmN0aW9uICh0KSB7XHJcbiAgICAgICAgaWYgKCEoJGdhbWVDb250ZXh0LmRlZmF1bHQuaW5zLmRvb3JMZWZ0SHAgPD0gMCB8fCAkZ2FtZUNvbnRleHQuZGVmYXVsdC5pbnMuZG9vckxlZnRIcCA+PSB0aGlzLmluaXRIcCkpIHtcclxuICAgICAgICAgICAgJGdhbWVDb250ZXh0LmRlZmF1bHQuaW5zLmRvb3JMZWZ0SHAgKz0gdDtcclxuICAgICAgICAgICAgaWYgKCRnYW1lQ29udGV4dC5kZWZhdWx0Lmlucy5kb29yTGVmdEhwID4gdGhpcy5pbml0SHApIHtcclxuICAgICAgICAgICAgICAgICRnYW1lQ29udGV4dC5kZWZhdWx0Lmlucy5kb29yTGVmdEhwID0gdGhpcy5pbml0SHA7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdmFyIGUgPSAtdGhpcy5ocFByb0Jhci50b3RhbExlbmd0aCAvIDIgKyB0aGlzLmhwUHJvQmFyLnRvdGFsTGVuZ3RoICogdGhpcy5ocFByb0Jhci5wcm9ncmVzcztcclxuICAgICAgICAgICAgdmFyIGkgPSBjYy52MyhlLCAtNDYwKTtcclxuICAgICAgICAgICAgdGhpcy5ocFByb0Jhci5wcm9ncmVzcyA9ICRnYW1lQ29udGV4dC5kZWZhdWx0Lmlucy5kb29yTGVmdEhwIC8gdGhpcy5pbml0SHA7XHJcbiAgICAgICAgICAgIHRoaXMuYXRrQW5pbShpLCBcIitcIiArIHQsIDIsIDEpO1xyXG4gICAgICAgICAgICB0aGlzLmhwTGFiZWwuc3RyaW5nID0gJGdhbWVDb250ZXh0LmRlZmF1bHQuaW5zLmRvb3JMZWZ0SHAudG9TdHJpbmcoKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgZS5wcm90b3R5cGUuYXRrRG9vciA9IGZ1bmN0aW9uICh0KSB7XHJcbiAgICAgICAgdGhpcy5hdGtDb3VudCsrO1xyXG4gICAgICAgIGlmIChcclxuICAgICAgICAgICAgKCRnYW1lR2VtSW5mby5HYW1lR2VtSW5mby5pbnMuaGFzR2VtKCRnYW1lR2VtSW5mby5HZW1UeXBlLldhbGxEZWZBbmRFbmVteUFkZEh1cnQpICYmXHJcbiAgICAgICAgICAgICAgICB0aGlzLmF0a0NvdW50IDwgJGdhbWVHZW1JbmZvLkdhbWVHZW1JbmZvLmlucy5nZXQyKCRnYW1lR2VtSW5mby5HZW1UeXBlLldhbGxEZWZBbmRFbmVteUFkZEh1cnQpWzBdKSB8fFxyXG4gICAgICAgICAgICAodGhpcy5pc0ZyaXN0Qmxvb2QgJiYgdGhpcy5pbnZ1bG5lcmFiaWxpdHlUaW1lID4gMClcclxuICAgICAgICApIHtcclxuICAgICAgICAgICAgdmFyIGUgPSAtdGhpcy5ocFByb0Jhci50b3RhbExlbmd0aCAvIDIgKyB0aGlzLmhwUHJvQmFyLnRvdGFsTGVuZ3RoICogdGhpcy5ocFByb0Jhci5wcm9ncmVzcztcclxuICAgICAgICAgICAgdmFyIGkgPSBjYy52MyhlLCAtNDYwKTtcclxuICAgICAgICAgICAgdGhpcy5hdGtBbmltKGksIFwi5YWN5LykXCIsIDEsIDEpO1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5hdGtDb3VudDtcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIG8gPSAtdGhpcy5ocFByb0Jhci50b3RhbExlbmd0aCAvIDIgKyB0aGlzLmhwUHJvQmFyLnRvdGFsTGVuZ3RoICogdGhpcy5ocFByb0Jhci5wcm9ncmVzcztcclxuICAgICAgICB2YXIgbiA9IGNjLnYzKG8sIC00NjApO1xyXG4gICAgICAgIGlmICgodCAtPSB0aGlzLmRlZkhwKSA8PSAwKSB7XHJcbiAgICAgICAgICAgIHRoaXMuYXRrQW5pbShuLCBcIuagvOaMoVwiLCAxLCAxKTtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuYXRrQ291bnQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICgkZ2FtZUNvbnRleHQuZGVmYXVsdC5pbnMuZG9vckxlZnRIcCA8PSAwKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAwO1xyXG4gICAgICAgIH1cclxuICAgICAgICAkZ2FtZUNvbnRleHQuZGVmYXVsdC5pbnMuZG9vckxlZnRIcCAtPSB0O1xyXG4gICAgICAgIGlmICgkZ2FtZUNvbnRleHQuZGVmYXVsdC5pbnMuZG9vckxlZnRIcCA8IDApIHtcclxuICAgICAgICAgICAgJGdhbWVDb250ZXh0LmRlZmF1bHQuaW5zLmRvb3JMZWZ0SHAgPSAwO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmhwTGFiZWwuc3RyaW5nID0gJGdhbWVDb250ZXh0LmRlZmF1bHQuaW5zLmRvb3JMZWZ0SHAudG9TdHJpbmcoKTtcclxuICAgICAgICB0aGlzLmhwUHJvQmFyLnByb2dyZXNzID0gJGdhbWVDb250ZXh0LmRlZmF1bHQuaW5zLmRvb3JMZWZ0SHAgLyB0aGlzLmluaXRIcDtcclxuICAgICAgICB0aGlzLmF0a0FuaW0obiwgXCItXCIgKyB0LCAxLCAxKTtcclxuICAgICAgICB2YXIgcyA9IE1hdGguY2VpbCgkZ2FtZUNvbnRleHQuZGVmYXVsdC5pbnMuZG9vckxlZnRIcCAvIHRoaXMudW5pdEhwKTtcclxuICAgICAgICB2YXIgciA9IFwiaHBcIiArICg1IC0gKHMgPSAwID09PSBzID8gMSA6IHMpKTtcclxuICAgICAgICBpZiAodGhpcy5kb29yU2tpbi5hbmltYXRpb25OYW1lICE9PSByKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZG9vclNraW4ucGxheUFuaW1hdGlvbihyLCAwKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMuX3RpbWUgPD0gMCkge1xyXG4gICAgICAgICAgICB0aGlzLl90aW1lID0gMC4zO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoJGdhbWVDb250ZXh0LmRlZmF1bHQuaW5zLmRvb3JMZWZ0SHAgPD0gMCkge1xyXG4gICAgICAgICAgICB0aGlzLl90aW1lID0gMDtcclxuICAgICAgICAgICAgdGhpcy5kb29yU2tpbi5ub2RlLm9wYWNpdHkgPSAxO1xyXG4gICAgICAgICAgICAkZXZlbnRNYW5hZ2VyLmRlZmF1bHQuc2VuZCgkbG9jYWxFdmVudE5hbWUuZGVmYXVsdC5HQU1FX0ZBSUwpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoXHJcbiAgICAgICAgICAgIHRoaXMuYmxvb2RMaW5lIDwgJGdhbWVDb250ZXh0LmRlZmF1bHQuaW5zLmRvb3JMZWZ0SHAgJiZcclxuICAgICAgICAgICAgIXRoaXMuaXNGcmlzdEJsb29kICYmXHJcbiAgICAgICAgICAgICRnYW1lR2VtSW5mby5HYW1lR2VtSW5mby5pbnMuaGFzR2VtKCRnYW1lR2VtSW5mby5HZW1UeXBlLldhbGxCbG9vZERlZilcclxuICAgICAgICApIHtcclxuICAgICAgICAgICAgdGhpcy5pc0ZyaXN0Qmxvb2QgPSAhMDtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5jaGVja0dlbSh0KTtcclxuICAgICAgICByZXR1cm4gdGhpcy5hdGtDb3VudDtcclxuICAgIH07XHJcbiAgICBlLnByb3RvdHlwZS5jaGVja0dlbSA9IGZ1bmN0aW9uICh0KSB7XHJcbiAgICAgICAgdGhpcy5sZWZ0V2FsbDFIcCAtPSB0O1xyXG4gICAgICAgIHRoaXMubGVmdFdhbGwySHAgLT0gdDtcclxuICAgICAgICBpZiAodGhpcy5sZWZ0V2FsbDFIcCA8PSAwICYmICRnYW1lR2VtSW5mby5HYW1lR2VtSW5mby5pbnMuaGFzR2VtKCRnYW1lR2VtSW5mby5HZW1UeXBlLldhbGxCbG9vZEF0azEpKSB7XHJcbiAgICAgICAgICAgIHRoaXMubGVmdFdhbGwxSHAgPSB0aGlzLmluaXRIcCAqICRnYW1lR2VtSW5mby5HYW1lR2VtSW5mby5pbnMuZ2V0MSgkZ2FtZUdlbUluZm8uR2VtVHlwZS5XYWxsQmxvb2RBdGsxKTtcclxuICAgICAgICAgICAgdGhpcy5zdGFydEd1bigxKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMubGVmdFdhbGwySHAgPD0gMCAmJiAkZ2FtZUdlbUluZm8uR2FtZUdlbUluZm8uaW5zLmhhc0dlbSgkZ2FtZUdlbUluZm8uR2VtVHlwZS5XYWxsQmxvb2RBdGsyKSkge1xyXG4gICAgICAgICAgICB0aGlzLmxlZnRXYWxsMkhwID0gdGhpcy5pbml0SHAgKiAkZ2FtZUdlbUluZm8uR2FtZUdlbUluZm8uaW5zLmdldDIoJGdhbWVHZW1JbmZvLkdlbVR5cGUuV2FsbEJsb29kQXRrMilbMF07XHJcbiAgICAgICAgICAgIHRoaXMuc3RhcnRHdW4oJGdhbWVHZW1JbmZvLkdhbWVHZW1JbmZvLmlucy5nZXQyKCRnYW1lR2VtSW5mby5HZW1UeXBlLldhbGxCbG9vZEF0azIpWzFdKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgZS5wcm90b3R5cGUucmVmcmVzaFJlbmRlckdlbSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBpZiAoJGdhbWVHZW1JbmZvLkdhbWVHZW1JbmZvLmlucy5oYXNHZW0oJGdhbWVHZW1JbmZvLkdlbVR5cGUuV2FsbEJsb29kQXRrMSkpIHtcclxuICAgICAgICAgICAgdGhpcy5sZWZ0V2FsbDFIcCA9IHRoaXMuaW5pdEhwICogJGdhbWVHZW1JbmZvLkdhbWVHZW1JbmZvLmlucy5nZXQxKCRnYW1lR2VtSW5mby5HZW1UeXBlLldhbGxCbG9vZEF0azEpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5sZWZ0V2FsbDJIcCA8PSAwICYmICRnYW1lR2VtSW5mby5HYW1lR2VtSW5mby5pbnMuaGFzR2VtKCRnYW1lR2VtSW5mby5HZW1UeXBlLldhbGxCbG9vZEF0azIpKSB7XHJcbiAgICAgICAgICAgIHRoaXMubGVmdFdhbGwySHAgPSB0aGlzLmluaXRIcCAqICRnYW1lR2VtSW5mby5HYW1lR2VtSW5mby5pbnMuZ2V0MigkZ2FtZUdlbUluZm8uR2VtVHlwZS5XYWxsQmxvb2RBdGsyKVswXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKCRnYW1lR2VtSW5mby5HYW1lR2VtSW5mby5pbnMuaGFzR2VtKCRnYW1lR2VtSW5mby5HZW1UeXBlLldhbGxCbG9vZERlZikpIHtcclxuICAgICAgICAgICAgdGhpcy5ibG9vZExpbmUgPSAkZ2FtZUdlbUluZm8uR2FtZUdlbUluZm8uaW5zLmdldDIoJGdhbWVHZW1JbmZvLkdlbVR5cGUuV2FsbEJsb29kRGVmKVswXSAqIHRoaXMuaW5pdEhwO1xyXG4gICAgICAgICAgICB0aGlzLmludnVsbmVyYWJpbGl0eVRpbWUgPSAkZ2FtZUdlbUluZm8uR2FtZUdlbUluZm8uaW5zLmdldDIoJGdhbWVHZW1JbmZvLkdlbVR5cGUuV2FsbEJsb29kRGVmKVsxXTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgZS5wcm90b3R5cGUudXBkYXRlRnJhbWUgPSBmdW5jdGlvbiAodCkge1xyXG4gICAgICAgIGlmICh0aGlzLl90aW1lID4gMCkge1xyXG4gICAgICAgICAgICB0aGlzLl90aW1lIC09IHQ7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLl90aW1lIDw9IDApIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX3RpbWUgPSAwO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMuX3RpbWUgPSB0aGlzLl90aW1lIDwgMCA/IDAgOiB0aGlzLl90aW1lO1xyXG4gICAgICAgICAgICB2YXIgZSA9IE1hdGguY2VpbCgoMjU1ICogdGhpcy5fdGltZSkgLyB0aGlzLmR1cmF0aW9uKTtcclxuICAgICAgICAgICAgaWYgKGUgPCAxKSB7XHJcbiAgICAgICAgICAgICAgICBlID0gMTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLmRvb3JTa2luLm5vZGUub3BhY2l0eSA9IGU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuc2VuZEJ1bGxldExlZnRUaW1lIC09IHQ7XHJcbiAgICAgICAgaWYgKHRoaXMuc2VuZEJ1bGxldExlZnRUaW1lIDw9IDApIHtcclxuICAgICAgICAgICAgdGhpcy5zZW5kQnVsbGV0TGVmdFRpbWUgPSAxO1xyXG4gICAgICAgICAgICB0aGlzLmNyZWF0ZUJ1dHRsZSgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoLTEgIT09IHRoaXMuaW52dWxuZXJhYmlsaXR5VGltZSAmJiB0aGlzLmlzRnJpc3RCbG9vZCkge1xyXG4gICAgICAgICAgICB0aGlzLmludnVsbmVyYWJpbGl0eVRpbWUgLT0gdDtcclxuICAgICAgICAgICAgaWYgKHRoaXMuaW52dWxuZXJhYmlsaXR5VGltZSA8IDApIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuaW52dWxuZXJhYmlsaXR5VGltZSA9IC0xO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLmFkZEJsb29kID4gMCkge1xyXG4gICAgICAgICAgICB0aGlzLmFkZEJsb29kTGVmdFRpbWUgLT0gdDtcclxuICAgICAgICAgICAgaWYgKHRoaXMuYWRkQmxvb2RMZWZ0VGltZSA8PSAwKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmFkZEJsb29kTGVmdFRpbWUgPSAxMDtcclxuICAgICAgICAgICAgICAgIHRoaXMuYWRkSHAodGhpcy5hZGRCbG9vZCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgZS5wcm90b3R5cGUuc3RhcnRHdW4gPSBmdW5jdGlvbiAodCkge1xyXG4gICAgICAgICRnYW1lQ29udGV4dC5kZWZhdWx0Lmlucy5za2lsbEluZm8uaGlkZUNyZWF0ZVNraWxsKDgxKTtcclxuICAgICAgICB2YXIgZSA9IE1hdGgubWluKHQsICRnYW1lQ29udGV4dC5kZWZhdWx0Lmlucy5lbmVteUxheWVyLmNoaWxkcmVuLmxlbmd0aCk7XHJcbiAgICAgICAgdmFyIGkgPSAhMTtcclxuICAgICAgICBmb3IgKHZhciBvID0gMDsgbyA8IGU7IG8rKykge1xyXG4gICAgICAgICAgICB2YXIgbiA9XHJcbiAgICAgICAgICAgICAgICAkZ2FtZUNvbnRleHQuZGVmYXVsdC5pbnMuZW5lbXlMYXllci5jaGlsZHJlbltcclxuICAgICAgICAgICAgICAgICAgICAkZ2FtZUNvbnRleHQuZGVmYXVsdC5pbnMuZW5lbXlMYXllci5jaGlsZHJlbi5sZW5ndGggLSBvIC0gMVxyXG4gICAgICAgICAgICAgICAgXTtcclxuICAgICAgICAgICAgdGhpcy5uZXh0WHMucHVzaChuLnBvc2l0aW9uLngpO1xyXG4gICAgICAgICAgICBpID0gITA7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBpO1xyXG4gICAgfTtcclxuICAgIGUucHJvdG90eXBlLmNyZWF0ZUJ1dHRsZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBpZiAoISh0aGlzLm5leHRYcy5sZW5ndGggPD0gMCkpIHtcclxuICAgICAgICAgICAgdmFyIHQgPSB0aGlzLm5leHRYcy5zaGlmdCgpO1xyXG4gICAgICAgICAgICB2YXIgZSA9ICRnYW1lQ29udGV4dC5kZWZhdWx0Lmlucy5nZXRCdXR0bGVQb29sKCRiYXNlQnVsbGV0LkJ1bGxldFR5cGUuY2FyKTtcclxuICAgICAgICAgICAgaWYgKCFlKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgaSA9ICRhc3NldHNMb2FkZXIuZGVmYXVsdC5pbnN0YW5jZS5nZXRSZXMoXHJcbiAgICAgICAgICAgICAgICAgICAgJGFzc2V0c01hcC5CdW5kbGVOYW1lcy5HYW1lLFxyXG4gICAgICAgICAgICAgICAgICAgICRhc3NldHNNYXAuQXNzZXRzTWFwLkdhbWVCdW5kbGVzLnByZWZhYnMuYXNzZXRzTGlzdC5CdWxsZXRfMTNcclxuICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICAoZSA9ICRyZXNVdGlsLlJlc1V0aWwuaW5zdGFudGlhdGUoaSwgJGdhbWVDb250ZXh0LmRlZmF1bHQuaW5zLmxvd0J1bGxldExheWVyLnBhcmVudCkuZ2V0Q29tcG9uZW50KFxyXG4gICAgICAgICAgICAgICAgICAgICRiYXNlQnVsbGV0LmRlZmF1bHRcclxuICAgICAgICAgICAgICAgICkpLnNraWxsU3BlY2lhbGl0eXMgPSBbXTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlLmlzR2VtID0gITA7XHJcbiAgICAgICAgICAgIGUuc2V0UG9zaXRpb24oY2MudjModCwgLTM1MCkpO1xyXG4gICAgICAgICAgICB2LnggPSAwO1xyXG4gICAgICAgICAgICB2LnkgPSAxO1xyXG4gICAgICAgICAgICBlLmluaXRCdXR0bGUodiwgODEpO1xyXG4gICAgICAgICAgICBlLmluc2VydCgkZ2FtZUNvbnRleHQuZGVmYXVsdC5pbnMubG93QnVsbGV0TGF5ZXIpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBlLnByb3RvdHlwZS5hdGtBbmltID0gZnVuY3Rpb24gKHQsIGUsIGksIG8pIHtcclxuICAgICAgICB2YXIgbiA9IHRoaXM7XHJcbiAgICAgICAgaWYgKHZvaWQgMCA9PT0gaSkge1xyXG4gICAgICAgICAgICBpID0gMDtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHZvaWQgMCA9PT0gbykge1xyXG4gICAgICAgICAgICBvID0gMDtcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIHMgPSB0aGlzLmh1cnQuZ2V0Q29tcG9uZW50KGNjLkxhYmVsKTtcclxuICAgICAgICBzLmZvbnRTaXplID0gJGdhbWVDb250ZXh0LmRlZmF1bHQuaW5zLmF0a1NpemVbb107XHJcbiAgICAgICAgcy5zdHJpbmcgPSBlO1xyXG4gICAgICAgIHRoaXMuaHVydC5jb2xvciA9ICRnYW1lQ29udGV4dC5kZWZhdWx0Lmlucy5hdGtDb2xvcltpXTtcclxuICAgICAgICB0aGlzLmh1cnQucGFyZW50ID0gJGdhbWVDb250ZXh0LmRlZmF1bHQuaW5zLmF0a0xheWVyO1xyXG4gICAgICAgIHRoaXMuaHVydC5wb3NpdGlvbiA9IHQuY2xvbmUoKTtcclxuICAgICAgICB2YXIgciA9IHQuYWRkKGNjLnYzKDAsIDUwKSk7XHJcbiAgICAgICAgY2MuVHdlZW4uc3RvcEFsbEJ5VGFyZ2V0KHRoaXMuaHVydCk7XHJcbiAgICAgICAgdGhpcy5odXJ0Lm9wYWNpdHkgPSAyNTU7XHJcbiAgICAgICAgY2MudHdlZW4odGhpcy5odXJ0KVxyXG4gICAgICAgICAgICAudG8oMC41IC8gJGdhbWVDb250ZXh0LmRlZmF1bHQuaW5zLmdhbWVSYXRpbywge1xyXG4gICAgICAgICAgICAgICAgcG9zaXRpb246IHJcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLmNhbGwoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgbi5odXJ0Lm9wYWNpdHkgPSAwO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAuc3RhcnQoKTtcclxuICAgIH07XHJcbiAgICBfX2RlY29yYXRlKFtrKGNjLlByb2dyZXNzQmFyKV0sIGUucHJvdG90eXBlLCBcImhwUHJvQmFyXCIsIHZvaWQgMCk7XHJcbiAgICBfX2RlY29yYXRlKFtrKGNjLkxhYmVsKV0sIGUucHJvdG90eXBlLCBcImhwTGFiZWxcIiwgdm9pZCAwKTtcclxuICAgIHJldHVybiBfX2RlY29yYXRlKFtfXSwgZSk7XHJcbn0pKCRvYmplY3QuY09iamVjdCk7XHJcbmV4cG9ydHMuZGVmYXVsdCA9IGI7XHJcbiJdfQ==