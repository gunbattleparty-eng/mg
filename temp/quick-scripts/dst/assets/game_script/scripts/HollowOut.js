
                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/game_script/scripts/HollowOut.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '7ea7dkcD/BCdZn291V9+8ur', 'HollowOut');
// game_script/scripts/HollowOut.js

"use strict";

var o;
exports.HollowOutShape = void 0;

require("./EditorAsset");

var l;
var c;
var u = cc._decorator;
var d = u.ccclass;
var p = u.property;
var f = u.requireComponent;
var h = u.executeInEditMode;
var m = u.disallowMultiple;
var y = u.executionOrder;
(c = l = exports.HollowOutShape || (exports.HollowOutShape = {}))[c.Rect = 1] = "Rect";
c[c.Circle = 2] = "Circle";

var g = function (t) {
  function e() {
    var e = null !== t && t.apply(this, arguments) || this;
    e._effect = null;
    e._shape = l.Rect;
    e._center = cc.v2();
    e._width = 300;
    e._height = 300;
    e._round = 1;
    e._radius = 200;
    e._feather = 0.5;
    e.isStartInit = !1;
    e.sprite = null;
    e.material = null;
    e.tweenRes = null;
    return e;
  }

  __extends(e, t);

  Object.defineProperty(e.prototype, "effect", {
    get: function get() {
      return this._effect;
    },
    set: function set(t) {
      this._effect = t;
      this.init();
    },
    enumerable: !1,
    configurable: !0
  });
  Object.defineProperty(e.prototype, "shape", {
    get: function get() {
      return this._shape;
    },
    set: function set(t) {
      this._shape = t;
      this.updateProperties();
    },
    enumerable: !1,
    configurable: !0
  });
  Object.defineProperty(e.prototype, "center", {
    get: function get() {
      return this._center;
    },
    set: function set(t) {
      this._center = t;
      this.updateProperties();
    },
    enumerable: !1,
    configurable: !0
  });
  Object.defineProperty(e.prototype, "width", {
    get: function get() {
      return this._width;
    },
    set: function set(t) {
      this._width = t;
      this.updateProperties();
    },
    enumerable: !1,
    configurable: !0
  });
  Object.defineProperty(e.prototype, "height", {
    get: function get() {
      return this._height;
    },
    set: function set(t) {
      this._height = t;
      this.updateProperties();
    },
    enumerable: !1,
    configurable: !0
  });
  Object.defineProperty(e.prototype, "round", {
    get: function get() {
      return this._round;
    },
    set: function set(t) {
      this._round = t;
      this.updateProperties();
    },
    enumerable: !1,
    configurable: !0
  });
  Object.defineProperty(e.prototype, "radius", {
    get: function get() {
      return this._radius;
    },
    set: function set(t) {
      this._radius = t;
      this.updateProperties();
    },
    enumerable: !1,
    configurable: !0
  });
  Object.defineProperty(e.prototype, "feather", {
    get: function get() {
      return this._feather;
    },
    set: function set(t) {
      this._feather = t;
      this.updateProperties();
    },
    enumerable: !1,
    configurable: !0
  });

  e.prototype.onLoad = function () {
    if (this.isStartInit) {
      this.init();
    }

    this.node.zIndex = 999;
  };

  e.prototype.resetInEditor = function () {
    this.init();
  };

  e.prototype.init = function () {
    return __awaiter(this, void 0, void 0, function () {
      var t;
      return __generator(this, function (e) {
        switch (e.label) {
          case 0:
            return [3, 2];

          case 1:
            e.sent();
            e.label = 2;

          case 2:
            return this._effect ? ((t = this.sprite = this.node.getComponent(cc.Sprite)).spriteFrame && (t.spriteFrame.getTexture().packable = !1), this.material = cc.Material.create(this._effect), t.setMaterial(0, this.material), this.updateProperties(), [2]) : [2];
        }
      });
    });
  };

  e.prototype.updateProperties = function () {
    switch (this._shape) {
      case l.Rect:
        this.rect(this._center, this._width, this._height, this._round, this._feather);
        break;

      case l.Circle:
        this.circle(this._center, this._radius, this._feather);
    }
  };

  e.prototype.rect = function (t, e, i, o, n) {
    this._shape = l.Rect;

    if (null != t) {
      this._center = t;
    }

    if (null != e) {
      this._width = e;
    }

    if (null != i) {
      this._height = i;
    }

    if (null != o) {
      this._round = o >= 0 ? o : 0;
      var s = Math.min(this._width / 2, this._height / 2);
      this._round = this._round <= s ? this._round : s;
    }

    if (null != n) {
      this._feather = n >= 0 ? n : 0;
      this._feather = this._feather <= this._round ? this._feather : this._round;
    }

    var r = this.material;
    r.setProperty("size", this.getNodeSize());
    r.setProperty("center", this.getCenter(this._center));
    r.setProperty("width", this.getWidth(this._width));
    r.setProperty("height", this.getHeight(this._height));
    r.setProperty("round", this.getRound(this._round));
    r.setProperty("feather", this.getFeather(this._feather));
  };

  e.prototype.circle = function (t, e, i) {
    this._shape = l.Circle;

    if (null != t) {
      this._center = t;
    }

    if (null != e) {
      this._radius = e;
    }

    if (null != i) {
      this._feather = i >= 0 ? i : 0;
    }

    var o = this.material;
    o.setProperty("size", this.getNodeSize());
    o.setProperty("center", this.getCenter(this._center));
    o.setProperty("width", this.getWidth(2 * this._radius));
    o.setProperty("height", this.getHeight(2 * this._radius));
    o.setProperty("round", this.getRound(this._radius));
    o.setProperty("feather", this.getFeather(this._feather));
  };

  e.prototype.rectTo = function (t, e, i, o, n, s) {
    var r = this;

    if (void 0 === n) {
      n = 0;
    }

    if (void 0 === s) {
      s = 0;
    }

    return new Promise(function (a) {
      r._shape = l.Rect;
      cc.Tween.stopAllByTarget(r);
      r.unscheduleAllCallbacks();

      if (r.tweenRes) {
        r.tweenRes();
      }

      r.tweenRes = a;
      n = Math.min(n, i / 2, o / 2);
      s = Math.min(s, n);
      cc.tween(r).to(t, {
        center: e,
        width: i,
        height: o,
        round: n,
        feather: s
      }).call(function () {
        r.scheduleOnce(function () {
          if (r.tweenRes) {
            r.tweenRes();
            r.tweenRes = null;
          }
        });
      }).start();
    });
  };

  e.prototype.circleTo = function (t, e, i, o) {
    var n = this;

    if (void 0 === o) {
      o = 0;
    }

    return new Promise(function (s) {
      n._shape = l.Circle;
      cc.Tween.stopAllByTarget(n);
      n.unscheduleAllCallbacks();

      if (n.tweenRes) {
        n.tweenRes();
      }

      n.tweenRes = s;
      cc.tween(n).to(t, {
        center: e,
        radius: i,
        feather: o
      }).call(function () {
        n.scheduleOnce(function () {
          if (n.tweenRes) {
            n.tweenRes();
            n.tweenRes = null;
          }
        });
      }).start();
    });
  };

  e.prototype.reset = function () {
    this.rect(cc.v2(), 0, 0, 0, 0);
  };

  e.prototype.setNodeSize = function () {
    var t = this.node;
    var e = t.width;
    var i = t.height;
    this._radius = Math.sqrt(Math.pow(e, 2) + Math.pow(i, 2)) / 2;
    this.rect(t.getPosition(), e, i, 0, 0);
  };

  e.prototype.getCenter = function (t) {
    var e = this.node;
    var i = e.width;
    var o = e.height;
    var n = (t.x + i / 2) / i;
    var s = (-t.y + o / 2) / o;
    return cc.v2(n, s);
  };

  e.prototype.getNodeSize = function () {
    return cc.v2(this.node.width, this.node.height);
  };

  e.prototype.getWidth = function (t) {
    return t / this.node.width;
  };

  e.prototype.getHeight = function (t) {
    return t / this.node.width;
  };

  e.prototype.getRound = function (t) {
    return t / this.node.width;
  };

  e.prototype.getFeather = function (t) {
    return t / this.node.width;
  };

  __decorate([p], e.prototype, "_effect", void 0);

  __decorate([p({
    type: cc.EffectAsset,
    readonly: !0
  })], e.prototype, "effect", null);

  __decorate([p], e.prototype, "_shape", void 0);

  __decorate([p({
    type: cc.Enum(l)
  })], e.prototype, "shape", null);

  __decorate([p], e.prototype, "_center", void 0);

  __decorate([p({})], e.prototype, "center", null);

  __decorate([p], e.prototype, "_width", void 0);

  __decorate([p({
    visible: function visible() {
      return this._shape === l.Rect;
    }
  })], e.prototype, "width", null);

  __decorate([p], e.prototype, "_height", void 0);

  __decorate([p({
    visible: function visible() {
      return this._shape === l.Rect;
    }
  })], e.prototype, "height", null);

  __decorate([p], e.prototype, "_round", void 0);

  __decorate([p({
    visible: function visible() {
      return this._shape === l.Rect;
    }
  })], e.prototype, "round", null);

  __decorate([p], e.prototype, "_radius", void 0);

  __decorate([p({
    visible: function visible() {
      return this._shape === l.Circle;
    }
  })], e.prototype, "radius", null);

  __decorate([p], e.prototype, "_feather", void 0);

  __decorate([p({
    visible: function visible() {
      return this._shape === l.Circle || this.round > 0;
    }
  })], e.prototype, "feather", null);

  __decorate([p], e.prototype, "isStartInit", void 0);

  return __decorate([d, f(cc.Sprite), h, m, y(-20)], e);
}(cc.Component);

exports["default"] = g;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcZ2FtZV9zY3JpcHRcXHNjcmlwdHNcXEhvbGxvd091dC5qcyJdLCJuYW1lcyI6WyJvIiwiZXhwb3J0cyIsIkhvbGxvd091dFNoYXBlIiwicmVxdWlyZSIsImwiLCJjIiwidSIsImNjIiwiX2RlY29yYXRvciIsImQiLCJjY2NsYXNzIiwicCIsInByb3BlcnR5IiwiZiIsInJlcXVpcmVDb21wb25lbnQiLCJoIiwiZXhlY3V0ZUluRWRpdE1vZGUiLCJtIiwiZGlzYWxsb3dNdWx0aXBsZSIsInkiLCJleGVjdXRpb25PcmRlciIsIlJlY3QiLCJDaXJjbGUiLCJnIiwidCIsImUiLCJhcHBseSIsImFyZ3VtZW50cyIsIl9lZmZlY3QiLCJfc2hhcGUiLCJfY2VudGVyIiwidjIiLCJfd2lkdGgiLCJfaGVpZ2h0IiwiX3JvdW5kIiwiX3JhZGl1cyIsIl9mZWF0aGVyIiwiaXNTdGFydEluaXQiLCJzcHJpdGUiLCJtYXRlcmlhbCIsInR3ZWVuUmVzIiwiX19leHRlbmRzIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJwcm90b3R5cGUiLCJnZXQiLCJzZXQiLCJpbml0IiwiZW51bWVyYWJsZSIsImNvbmZpZ3VyYWJsZSIsInVwZGF0ZVByb3BlcnRpZXMiLCJvbkxvYWQiLCJub2RlIiwiekluZGV4IiwicmVzZXRJbkVkaXRvciIsIl9fYXdhaXRlciIsIl9fZ2VuZXJhdG9yIiwibGFiZWwiLCJzZW50IiwiZ2V0Q29tcG9uZW50IiwiU3ByaXRlIiwic3ByaXRlRnJhbWUiLCJnZXRUZXh0dXJlIiwicGFja2FibGUiLCJNYXRlcmlhbCIsImNyZWF0ZSIsInNldE1hdGVyaWFsIiwicmVjdCIsImNpcmNsZSIsImkiLCJuIiwicyIsIk1hdGgiLCJtaW4iLCJyIiwic2V0UHJvcGVydHkiLCJnZXROb2RlU2l6ZSIsImdldENlbnRlciIsImdldFdpZHRoIiwiZ2V0SGVpZ2h0IiwiZ2V0Um91bmQiLCJnZXRGZWF0aGVyIiwicmVjdFRvIiwiUHJvbWlzZSIsImEiLCJUd2VlbiIsInN0b3BBbGxCeVRhcmdldCIsInVuc2NoZWR1bGVBbGxDYWxsYmFja3MiLCJ0d2VlbiIsInRvIiwiY2VudGVyIiwid2lkdGgiLCJoZWlnaHQiLCJyb3VuZCIsImZlYXRoZXIiLCJjYWxsIiwic2NoZWR1bGVPbmNlIiwic3RhcnQiLCJjaXJjbGVUbyIsInJhZGl1cyIsInJlc2V0Iiwic2V0Tm9kZVNpemUiLCJzcXJ0IiwicG93IiwiZ2V0UG9zaXRpb24iLCJ4IiwiX19kZWNvcmF0ZSIsInR5cGUiLCJFZmZlY3RBc3NldCIsInJlYWRvbmx5IiwiRW51bSIsInZpc2libGUiLCJDb21wb25lbnQiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUEsSUFBSUEsQ0FBSjtBQUNBQyxPQUFPLENBQUNDLGNBQVIsR0FBeUIsS0FBSyxDQUE5Qjs7QUFDQUMsT0FBTyxDQUFDLGVBQUQsQ0FBUDs7QUFDQSxJQUFJQyxDQUFKO0FBQ0EsSUFBSUMsQ0FBSjtBQUNBLElBQUlDLENBQUMsR0FBR0MsRUFBRSxDQUFDQyxVQUFYO0FBQ0EsSUFBSUMsQ0FBQyxHQUFHSCxDQUFDLENBQUNJLE9BQVY7QUFDQSxJQUFJQyxDQUFDLEdBQUdMLENBQUMsQ0FBQ00sUUFBVjtBQUNBLElBQUlDLENBQUMsR0FBR1AsQ0FBQyxDQUFDUSxnQkFBVjtBQUNBLElBQUlDLENBQUMsR0FBR1QsQ0FBQyxDQUFDVSxpQkFBVjtBQUNBLElBQUlDLENBQUMsR0FBR1gsQ0FBQyxDQUFDWSxnQkFBVjtBQUNBLElBQUlDLENBQUMsR0FBR2IsQ0FBQyxDQUFDYyxjQUFWO0FBQ0EsQ0FBQ2YsQ0FBQyxHQUFHRCxDQUFDLEdBQUdILE9BQU8sQ0FBQ0MsY0FBUixLQUEyQkQsT0FBTyxDQUFDQyxjQUFSLEdBQXlCLEVBQXBELENBQVQsRUFBbUVHLENBQUMsQ0FBQ2dCLElBQUYsR0FBUyxDQUE1RSxJQUFrRixNQUFsRjtBQUNBaEIsQ0FBQyxDQUFFQSxDQUFDLENBQUNpQixNQUFGLEdBQVcsQ0FBYixDQUFELEdBQW9CLFFBQXBCOztBQUNBLElB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QkFBWTtNQUNqQixPQUFPLEtBQUtsRixNQUFMLEtBQWdCekIsQ0FBQyxDQUFDa0IsTUFBbEIsSUFBNEIsS0FBS3VFLEtBQUwsR0FBYSxDQUFoRDtJQUNIO0VBSEgsQ0FBRCxDQURMLENBRE0sRUFRTnBFLENBQUMsQ0FBQ21CLFNBUkksRUFTTixTQVRNLEVBVU4sSUFWTSxDQUFWOztFQVlBOEQsVUFBVSxDQUFDLENBQUMvRixDQUFELENBQUQsRUFBTWMsQ0FBQyxDQUFDbUIsU0FBUixFQUFtQixhQUFuQixFQUFrQyxLQUFLLENBQXZDLENBQVY7O0VBQ0EsT0FBTzhELFVBQVUsQ0FBQyxDQUFDakcsQ0FBRCxFQUFJSSxDQUFDLENBQUNOLEVBQUUsQ0FBQ3FELE1BQUosQ0FBTCxFQUFrQjdDLENBQWxCLEVBQXFCRSxDQUFyQixFQUF3QkUsQ0FBQyxDQUFDLENBQUMsRUFBRixDQUF6QixDQUFELEVBQWtDTSxDQUFsQyxDQUFqQjtBQUNILENBbFlPLENBa1lMbEIsRUFBRSxDQUFDeUcsU0FsWUUsQ0FBUjs7QUFtWUEvRyxPQUFPLFdBQVAsR0FBa0JzQixDQUFsQiIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsidmFyIG87XHJcbmV4cG9ydHMuSG9sbG93T3V0U2hhcGUgPSB2b2lkIDA7XHJcbnJlcXVpcmUoXCIuL0VkaXRvckFzc2V0XCIpO1xyXG52YXIgbDtcclxudmFyIGM7XHJcbnZhciB1ID0gY2MuX2RlY29yYXRvcjtcclxudmFyIGQgPSB1LmNjY2xhc3M7XHJcbnZhciBwID0gdS5wcm9wZXJ0eTtcclxudmFyIGYgPSB1LnJlcXVpcmVDb21wb25lbnQ7XHJcbnZhciBoID0gdS5leGVjdXRlSW5FZGl0TW9kZTtcclxudmFyIG0gPSB1LmRpc2FsbG93TXVsdGlwbGU7XHJcbnZhciB5ID0gdS5leGVjdXRpb25PcmRlcjtcclxuKGMgPSBsID0gZXhwb3J0cy5Ib2xsb3dPdXRTaGFwZSB8fCAoZXhwb3J0cy5Ib2xsb3dPdXRTaGFwZSA9IHt9KSlbKGMuUmVjdCA9IDEpXSA9IFwiUmVjdFwiO1xyXG5jWyhjLkNpcmNsZSA9IDIpXSA9IFwiQ2lyY2xlXCI7XHJcbnZhciBnID0gKGZ1bmN0aW9uICh0KSB7XHJcbiAgICBmdW5jdGlvbiBlKCkge1xyXG4gICAgICAgIHZhciBlID0gKG51bGwgIT09IHQgJiYgdC5hcHBseSh0aGlzLCBhcmd1bWVudHMpKSB8fCB0aGlzO1xyXG4gICAgICAgIGUuX2VmZmVjdCA9IG51bGw7XHJcbiAgICAgICAgZS5fc2hhcGUgPSBsLlJlY3Q7XHJcbiAgICAgICAgZS5fY2VudGVyID0gY2MudjIoKTtcclxuICAgICAgICBlLl93aWR0aCA9IDMwMDtcclxuICAgICAgICBlLl9oZWlnaHQgPSAzMDA7XHJcbiAgICAgICAgZS5fcm91bmQgPSAxO1xyXG4gICAgICAgIGUuX3JhZGl1cyA9IDIwMDtcclxuICAgICAgICBlLl9mZWF0aGVyID0gMC41O1xyXG4gICAgICAgIGUuaXNTdGFydEluaXQgPSAhMTtcclxuICAgICAgICBlLnNwcml0ZSA9IG51bGw7XHJcbiAgICAgICAgZS5tYXRlcmlhbCA9IG51bGw7XHJcbiAgICAgICAgZS50d2VlblJlcyA9IG51bGw7XHJcbiAgICAgICAgcmV0dXJuIGU7XHJcbiAgICB9XHJcbiAgICBfX2V4dGVuZHMoZSwgdCk7XHJcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsIFwiZWZmZWN0XCIsIHtcclxuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2VmZmVjdDtcclxuICAgICAgICB9LFxyXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHQpIHtcclxuICAgICAgICAgICAgdGhpcy5fZWZmZWN0ID0gdDtcclxuICAgICAgICAgICAgdGhpcy5pbml0KCk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBlbnVtZXJhYmxlOiAhMSxcclxuICAgICAgICBjb25maWd1cmFibGU6ICEwXHJcbiAgICB9KTtcclxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwgXCJzaGFwZVwiLCB7XHJcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9zaGFwZTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHQpIHtcclxuICAgICAgICAgICAgdGhpcy5fc2hhcGUgPSB0O1xyXG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVByb3BlcnRpZXMoKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGVudW1lcmFibGU6ICExLFxyXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogITBcclxuICAgIH0pO1xyXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCBcImNlbnRlclwiLCB7XHJcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9jZW50ZXI7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh0KSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2NlbnRlciA9IHQ7XHJcbiAgICAgICAgICAgIHRoaXMudXBkYXRlUHJvcGVydGllcygpO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZW51bWVyYWJsZTogITEsXHJcbiAgICAgICAgY29uZmlndXJhYmxlOiAhMFxyXG4gICAgfSk7XHJcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsIFwid2lkdGhcIiwge1xyXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fd2lkdGg7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh0KSB7XHJcbiAgICAgICAgICAgIHRoaXMuX3dpZHRoID0gdDtcclxuICAgICAgICAgICAgdGhpcy51cGRhdGVQcm9wZXJ0aWVzKCk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBlbnVtZXJhYmxlOiAhMSxcclxuICAgICAgICBjb25maWd1cmFibGU6ICEwXHJcbiAgICB9KTtcclxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwgXCJoZWlnaHRcIiwge1xyXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5faGVpZ2h0O1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodCkge1xyXG4gICAgICAgICAgICB0aGlzLl9oZWlnaHQgPSB0O1xyXG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVByb3BlcnRpZXMoKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGVudW1lcmFibGU6ICExLFxyXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogITBcclxuICAgIH0pO1xyXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCBcInJvdW5kXCIsIHtcclxuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3JvdW5kO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodCkge1xyXG4gICAgICAgICAgICB0aGlzLl9yb3VuZCA9IHQ7XHJcbiAgICAgICAgICAgIHRoaXMudXBkYXRlUHJvcGVydGllcygpO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZW51bWVyYWJsZTogITEsXHJcbiAgICAgICAgY29uZmlndXJhYmxlOiAhMFxyXG4gICAgfSk7XHJcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsIFwicmFkaXVzXCIsIHtcclxuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3JhZGl1cztcclxuICAgICAgICB9LFxyXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHQpIHtcclxuICAgICAgICAgICAgdGhpcy5fcmFkaXVzID0gdDtcclxuICAgICAgICAgICAgdGhpcy51cGRhdGVQcm9wZXJ0aWVzKCk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBlbnVtZXJhYmxlOiAhMSxcclxuICAgICAgICBjb25maWd1cmFibGU6ICEwXHJcbiAgICB9KTtcclxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwgXCJmZWF0aGVyXCIsIHtcclxuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2ZlYXRoZXI7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh0KSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2ZlYXRoZXIgPSB0O1xyXG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVByb3BlcnRpZXMoKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGVudW1lcmFibGU6ICExLFxyXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogITBcclxuICAgIH0pO1xyXG4gICAgZS5wcm90b3R5cGUub25Mb2FkID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGlmICh0aGlzLmlzU3RhcnRJbml0KSB7XHJcbiAgICAgICAgICAgIHRoaXMuaW5pdCgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLm5vZGUuekluZGV4ID0gOTk5O1xyXG4gICAgfTtcclxuICAgIGUucHJvdG90eXBlLnJlc2V0SW5FZGl0b3IgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdGhpcy5pbml0KCk7XHJcbiAgICB9O1xyXG4gICAgZS5wcm90b3R5cGUuaW5pdCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciB0O1xyXG4gICAgICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICAgICAgICAgIHN3aXRjaCAoZS5sYWJlbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFszLCAyXTtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGUuc2VudCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlLmxhYmVsID0gMjtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDI6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9lZmZlY3RcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gKCh0ID0gdGhpcy5zcHJpdGUgPSB0aGlzLm5vZGUuZ2V0Q29tcG9uZW50KGNjLlNwcml0ZSkpLnNwcml0ZUZyYW1lICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAodC5zcHJpdGVGcmFtZS5nZXRUZXh0dXJlKCkucGFja2FibGUgPSAhMSksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICh0aGlzLm1hdGVyaWFsID0gY2MuTWF0ZXJpYWwuY3JlYXRlKHRoaXMuX2VmZmVjdCkpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0LnNldE1hdGVyaWFsKDAsIHRoaXMubWF0ZXJpYWwpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZVByb3BlcnRpZXMoKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgWzJdKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBbMl07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIGUucHJvdG90eXBlLnVwZGF0ZVByb3BlcnRpZXMgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgc3dpdGNoICh0aGlzLl9zaGFwZSkge1xyXG4gICAgICAgICAgICBjYXNlIGwuUmVjdDpcclxuICAgICAgICAgICAgICAgIHRoaXMucmVjdCh0aGlzLl9jZW50ZXIsIHRoaXMuX3dpZHRoLCB0aGlzLl9oZWlnaHQsIHRoaXMuX3JvdW5kLCB0aGlzLl9mZWF0aGVyKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIGwuQ2lyY2xlOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5jaXJjbGUodGhpcy5fY2VudGVyLCB0aGlzLl9yYWRpdXMsIHRoaXMuX2ZlYXRoZXIpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBlLnByb3RvdHlwZS5yZWN0ID0gZnVuY3Rpb24gKHQsIGUsIGksIG8sIG4pIHtcclxuICAgICAgICB0aGlzLl9zaGFwZSA9IGwuUmVjdDtcclxuICAgICAgICBpZiAobnVsbCAhPSB0KSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2NlbnRlciA9IHQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChudWxsICE9IGUpIHtcclxuICAgICAgICAgICAgdGhpcy5fd2lkdGggPSBlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAobnVsbCAhPSBpKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2hlaWdodCA9IGk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChudWxsICE9IG8pIHtcclxuICAgICAgICAgICAgdGhpcy5fcm91bmQgPSBvID49IDAgPyBvIDogMDtcclxuICAgICAgICAgICAgdmFyIHMgPSBNYXRoLm1pbih0aGlzLl93aWR0aCAvIDIsIHRoaXMuX2hlaWdodCAvIDIpO1xyXG4gICAgICAgICAgICB0aGlzLl9yb3VuZCA9IHRoaXMuX3JvdW5kIDw9IHMgPyB0aGlzLl9yb3VuZCA6IHM7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChudWxsICE9IG4pIHtcclxuICAgICAgICAgICAgdGhpcy5fZmVhdGhlciA9IG4gPj0gMCA/IG4gOiAwO1xyXG4gICAgICAgICAgICB0aGlzLl9mZWF0aGVyID0gdGhpcy5fZmVhdGhlciA8PSB0aGlzLl9yb3VuZCA/IHRoaXMuX2ZlYXRoZXIgOiB0aGlzLl9yb3VuZDtcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIHIgPSB0aGlzLm1hdGVyaWFsO1xyXG4gICAgICAgIHIuc2V0UHJvcGVydHkoXCJzaXplXCIsIHRoaXMuZ2V0Tm9kZVNpemUoKSk7XHJcbiAgICAgICAgci5zZXRQcm9wZXJ0eShcImNlbnRlclwiLCB0aGlzLmdldENlbnRlcih0aGlzLl9jZW50ZXIpKTtcclxuICAgICAgICByLnNldFByb3BlcnR5KFwid2lkdGhcIiwgdGhpcy5nZXRXaWR0aCh0aGlzLl93aWR0aCkpO1xyXG4gICAgICAgIHIuc2V0UHJvcGVydHkoXCJoZWlnaHRcIiwgdGhpcy5nZXRIZWlnaHQodGhpcy5faGVpZ2h0KSk7XHJcbiAgICAgICAgci5zZXRQcm9wZXJ0eShcInJvdW5kXCIsIHRoaXMuZ2V0Um91bmQodGhpcy5fcm91bmQpKTtcclxuICAgICAgICByLnNldFByb3BlcnR5KFwiZmVhdGhlclwiLCB0aGlzLmdldEZlYXRoZXIodGhpcy5fZmVhdGhlcikpO1xyXG4gICAgfTtcclxuICAgIGUucHJvdG90eXBlLmNpcmNsZSA9IGZ1bmN0aW9uICh0LCBlLCBpKSB7XHJcbiAgICAgICAgdGhpcy5fc2hhcGUgPSBsLkNpcmNsZTtcclxuICAgICAgICBpZiAobnVsbCAhPSB0KSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2NlbnRlciA9IHQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChudWxsICE9IGUpIHtcclxuICAgICAgICAgICAgdGhpcy5fcmFkaXVzID0gZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKG51bGwgIT0gaSkge1xyXG4gICAgICAgICAgICB0aGlzLl9mZWF0aGVyID0gaSA+PSAwID8gaSA6IDA7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBvID0gdGhpcy5tYXRlcmlhbDtcclxuICAgICAgICBvLnNldFByb3BlcnR5KFwic2l6ZVwiLCB0aGlzLmdldE5vZGVTaXplKCkpO1xyXG4gICAgICAgIG8uc2V0UHJvcGVydHkoXCJjZW50ZXJcIiwgdGhpcy5nZXRDZW50ZXIodGhpcy5fY2VudGVyKSk7XHJcbiAgICAgICAgby5zZXRQcm9wZXJ0eShcIndpZHRoXCIsIHRoaXMuZ2V0V2lkdGgoMiAqIHRoaXMuX3JhZGl1cykpO1xyXG4gICAgICAgIG8uc2V0UHJvcGVydHkoXCJoZWlnaHRcIiwgdGhpcy5nZXRIZWlnaHQoMiAqIHRoaXMuX3JhZGl1cykpO1xyXG4gICAgICAgIG8uc2V0UHJvcGVydHkoXCJyb3VuZFwiLCB0aGlzLmdldFJvdW5kKHRoaXMuX3JhZGl1cykpO1xyXG4gICAgICAgIG8uc2V0UHJvcGVydHkoXCJmZWF0aGVyXCIsIHRoaXMuZ2V0RmVhdGhlcih0aGlzLl9mZWF0aGVyKSk7XHJcbiAgICB9O1xyXG4gICAgZS5wcm90b3R5cGUucmVjdFRvID0gZnVuY3Rpb24gKHQsIGUsIGksIG8sIG4sIHMpIHtcclxuICAgICAgICB2YXIgciA9IHRoaXM7XHJcbiAgICAgICAgaWYgKHZvaWQgMCA9PT0gbikge1xyXG4gICAgICAgICAgICBuID0gMDtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHZvaWQgMCA9PT0gcykge1xyXG4gICAgICAgICAgICBzID0gMDtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChhKSB7XHJcbiAgICAgICAgICAgIHIuX3NoYXBlID0gbC5SZWN0O1xyXG4gICAgICAgICAgICBjYy5Ud2Vlbi5zdG9wQWxsQnlUYXJnZXQocik7XHJcbiAgICAgICAgICAgIHIudW5zY2hlZHVsZUFsbENhbGxiYWNrcygpO1xyXG4gICAgICAgICAgICBpZiAoci50d2VlblJlcykge1xyXG4gICAgICAgICAgICAgICAgci50d2VlblJlcygpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHIudHdlZW5SZXMgPSBhO1xyXG4gICAgICAgICAgICBuID0gTWF0aC5taW4obiwgaSAvIDIsIG8gLyAyKTtcclxuICAgICAgICAgICAgcyA9IE1hdGgubWluKHMsIG4pO1xyXG4gICAgICAgICAgICBjYy50d2VlbihyKVxyXG4gICAgICAgICAgICAgICAgLnRvKHQsIHtcclxuICAgICAgICAgICAgICAgICAgICBjZW50ZXI6IGUsXHJcbiAgICAgICAgICAgICAgICAgICAgd2lkdGg6IGksXHJcbiAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiBvLFxyXG4gICAgICAgICAgICAgICAgICAgIHJvdW5kOiBuLFxyXG4gICAgICAgICAgICAgICAgICAgIGZlYXRoZXI6IHNcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAuY2FsbChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgci5zY2hlZHVsZU9uY2UoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoci50d2VlblJlcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgci50d2VlblJlcygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgci50d2VlblJlcyA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAuc3RhcnQoKTtcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbiAgICBlLnByb3RvdHlwZS5jaXJjbGVUbyA9IGZ1bmN0aW9uICh0LCBlLCBpLCBvKSB7XHJcbiAgICAgICAgdmFyIG4gPSB0aGlzO1xyXG4gICAgICAgIGlmICh2b2lkIDAgPT09IG8pIHtcclxuICAgICAgICAgICAgbyA9IDA7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocykge1xyXG4gICAgICAgICAgICBuLl9zaGFwZSA9IGwuQ2lyY2xlO1xyXG4gICAgICAgICAgICBjYy5Ud2Vlbi5zdG9wQWxsQnlUYXJnZXQobik7XHJcbiAgICAgICAgICAgIG4udW5zY2hlZHVsZUFsbENhbGxiYWNrcygpO1xyXG4gICAgICAgICAgICBpZiAobi50d2VlblJlcykge1xyXG4gICAgICAgICAgICAgICAgbi50d2VlblJlcygpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIG4udHdlZW5SZXMgPSBzO1xyXG4gICAgICAgICAgICBjYy50d2VlbihuKVxyXG4gICAgICAgICAgICAgICAgLnRvKHQsIHtcclxuICAgICAgICAgICAgICAgICAgICBjZW50ZXI6IGUsXHJcbiAgICAgICAgICAgICAgICAgICAgcmFkaXVzOiBpLFxyXG4gICAgICAgICAgICAgICAgICAgIGZlYXRoZXI6IG9cclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAuY2FsbChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbi5zY2hlZHVsZU9uY2UoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobi50d2VlblJlcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbi50d2VlblJlcygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbi50d2VlblJlcyA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAuc3RhcnQoKTtcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbiAgICBlLnByb3RvdHlwZS5yZXNldCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB0aGlzLnJlY3QoY2MudjIoKSwgMCwgMCwgMCwgMCk7XHJcbiAgICB9O1xyXG4gICAgZS5wcm90b3R5cGUuc2V0Tm9kZVNpemUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIHQgPSB0aGlzLm5vZGU7XHJcbiAgICAgICAgdmFyIGUgPSB0LndpZHRoO1xyXG4gICAgICAgIHZhciBpID0gdC5oZWlnaHQ7XHJcbiAgICAgICAgdGhpcy5fcmFkaXVzID0gTWF0aC5zcXJ0KE1hdGgucG93KGUsIDIpICsgTWF0aC5wb3coaSwgMikpIC8gMjtcclxuICAgICAgICB0aGlzLnJlY3QodC5nZXRQb3NpdGlvbigpLCBlLCBpLCAwLCAwKTtcclxuICAgIH07XHJcbiAgICBlLnByb3RvdHlwZS5nZXRDZW50ZXIgPSBmdW5jdGlvbiAodCkge1xyXG4gICAgICAgIHZhciBlID0gdGhpcy5ub2RlO1xyXG4gICAgICAgIHZhciBpID0gZS53aWR0aDtcclxuICAgICAgICB2YXIgbyA9IGUuaGVpZ2h0O1xyXG4gICAgICAgIHZhciBuID0gKHQueCArIGkgLyAyKSAvIGk7XHJcbiAgICAgICAgdmFyIHMgPSAoLXQueSArIG8gLyAyKSAvIG87XHJcbiAgICAgICAgcmV0dXJuIGNjLnYyKG4sIHMpO1xyXG4gICAgfTtcclxuICAgIGUucHJvdG90eXBlLmdldE5vZGVTaXplID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiBjYy52Mih0aGlzLm5vZGUud2lkdGgsIHRoaXMubm9kZS5oZWlnaHQpO1xyXG4gICAgfTtcclxuICAgIGUucHJvdG90eXBlLmdldFdpZHRoID0gZnVuY3Rpb24gKHQpIHtcclxuICAgICAgICByZXR1cm4gdCAvIHRoaXMubm9kZS53aWR0aDtcclxuICAgIH07XHJcbiAgICBlLnByb3RvdHlwZS5nZXRIZWlnaHQgPSBmdW5jdGlvbiAodCkge1xyXG4gICAgICAgIHJldHVybiB0IC8gdGhpcy5ub2RlLndpZHRoO1xyXG4gICAgfTtcclxuICAgIGUucHJvdG90eXBlLmdldFJvdW5kID0gZnVuY3Rpb24gKHQpIHtcclxuICAgICAgICByZXR1cm4gdCAvIHRoaXMubm9kZS53aWR0aDtcclxuICAgIH07XHJcbiAgICBlLnByb3RvdHlwZS5nZXRGZWF0aGVyID0gZnVuY3Rpb24gKHQpIHtcclxuICAgICAgICByZXR1cm4gdCAvIHRoaXMubm9kZS53aWR0aDtcclxuICAgIH07XHJcbiAgICBfX2RlY29yYXRlKFtwXSwgZS5wcm90b3R5cGUsIFwiX2VmZmVjdFwiLCB2b2lkIDApO1xyXG4gICAgX19kZWNvcmF0ZShcclxuICAgICAgICBbXHJcbiAgICAgICAgICAgIHAoe1xyXG4gICAgICAgICAgICAgICAgdHlwZTogY2MuRWZmZWN0QXNzZXQsXHJcbiAgICAgICAgICAgICAgICByZWFkb25seTogITBcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICBdLFxyXG4gICAgICAgIGUucHJvdG90eXBlLFxyXG4gICAgICAgIFwiZWZmZWN0XCIsXHJcbiAgICAgICAgbnVsbFxyXG4gICAgKTtcclxuICAgIF9fZGVjb3JhdGUoW3BdLCBlLnByb3RvdHlwZSwgXCJfc2hhcGVcIiwgdm9pZCAwKTtcclxuICAgIF9fZGVjb3JhdGUoXHJcbiAgICAgICAgW1xyXG4gICAgICAgICAgICBwKHtcclxuICAgICAgICAgICAgICAgIHR5cGU6IGNjLkVudW0obClcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICBdLFxyXG4gICAgICAgIGUucHJvdG90eXBlLFxyXG4gICAgICAgIFwic2hhcGVcIixcclxuICAgICAgICBudWxsXHJcbiAgICApO1xyXG4gICAgX19kZWNvcmF0ZShbcF0sIGUucHJvdG90eXBlLCBcIl9jZW50ZXJcIiwgdm9pZCAwKTtcclxuICAgIF9fZGVjb3JhdGUoW3Aoe30pXSwgZS5wcm90b3R5cGUsIFwiY2VudGVyXCIsIG51bGwpO1xyXG4gICAgX19kZWNvcmF0ZShbcF0sIGUucHJvdG90eXBlLCBcIl93aWR0aFwiLCB2b2lkIDApO1xyXG4gICAgX19kZWNvcmF0ZShcclxuICAgICAgICBbXHJcbiAgICAgICAgICAgIHAoe1xyXG4gICAgICAgICAgICAgICAgdmlzaWJsZTogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9zaGFwZSA9PT0gbC5SZWN0O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIF0sXHJcbiAgICAgICAgZS5wcm90b3R5cGUsXHJcbiAgICAgICAgXCJ3aWR0aFwiLFxyXG4gICAgICAgIG51bGxcclxuICAgICk7XHJcbiAgICBfX2RlY29yYXRlKFtwXSwgZS5wcm90b3R5cGUsIFwiX2hlaWdodFwiLCB2b2lkIDApO1xyXG4gICAgX19kZWNvcmF0ZShcclxuICAgICAgICBbXHJcbiAgICAgICAgICAgIHAoe1xyXG4gICAgICAgICAgICAgICAgdmlzaWJsZTogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9zaGFwZSA9PT0gbC5SZWN0O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIF0sXHJcbiAgICAgICAgZS5wcm90b3R5cGUsXHJcbiAgICAgICAgXCJoZWlnaHRcIixcclxuICAgICAgICBudWxsXHJcbiAgICApO1xyXG4gICAgX19kZWNvcmF0ZShbcF0sIGUucHJvdG90eXBlLCBcIl9yb3VuZFwiLCB2b2lkIDApO1xyXG4gICAgX19kZWNvcmF0ZShcclxuICAgICAgICBbXHJcbiAgICAgICAgICAgIHAoe1xyXG4gICAgICAgICAgICAgICAgdmlzaWJsZTogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9zaGFwZSA9PT0gbC5SZWN0O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIF0sXHJcbiAgICAgICAgZS5wcm90b3R5cGUsXHJcbiAgICAgICAgXCJyb3VuZFwiLFxyXG4gICAgICAgIG51bGxcclxuICAgICk7XHJcbiAgICBfX2RlY29yYXRlKFtwXSwgZS5wcm90b3R5cGUsIFwiX3JhZGl1c1wiLCB2b2lkIDApO1xyXG4gICAgX19kZWNvcmF0ZShcclxuICAgICAgICBbXHJcbiAgICAgICAgICAgIHAoe1xyXG4gICAgICAgICAgICAgICAgdmlzaWJsZTogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9zaGFwZSA9PT0gbC5DaXJjbGU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgXSxcclxuICAgICAgICBlLnByb3RvdHlwZSxcclxuICAgICAgICBcInJhZGl1c1wiLFxyXG4gICAgICAgIG51bGxcclxuICAgICk7XHJcbiAgICBfX2RlY29yYXRlKFtwXSwgZS5wcm90b3R5cGUsIFwiX2ZlYXRoZXJcIiwgdm9pZCAwKTtcclxuICAgIF9fZGVjb3JhdGUoXHJcbiAgICAgICAgW1xyXG4gICAgICAgICAgICBwKHtcclxuICAgICAgICAgICAgICAgIHZpc2libGU6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fc2hhcGUgPT09IGwuQ2lyY2xlIHx8IHRoaXMucm91bmQgPiAwO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIF0sXHJcbiAgICAgICAgZS5wcm90b3R5cGUsXHJcbiAgICAgICAgXCJmZWF0aGVyXCIsXHJcbiAgICAgICAgbnVsbFxyXG4gICAgKTtcclxuICAgIF9fZGVjb3JhdGUoW3BdLCBlLnByb3RvdHlwZSwgXCJpc1N0YXJ0SW5pdFwiLCB2b2lkIDApO1xyXG4gICAgcmV0dXJuIF9fZGVjb3JhdGUoW2QsIGYoY2MuU3ByaXRlKSwgaCwgbSwgeSgtMjApXSwgZSk7XHJcbn0pKGNjLkNvbXBvbmVudCk7XHJcbmV4cG9ydHMuZGVmYXVsdCA9IGc7XHJcbiJdfQ==