{"version":3,"sources":["assets\\game_script\\scripts\\SkillView.js"],"names":["o","$assetsMap","require","$eventManager","$list","$uIManager","$remoteAudio","$configContext","$localEventName","$roleContext","$itemView","$startView","$skillListItem","g","cc","_decorator","_","ccclass","k","property","v","t","e","apply","arguments","skillList","btnRobot","robot","__extends","prototype","start","numItems","instance","basicSkillConfigs","length","on","RENDER_DOT","renderDot","clickRobot","render","onDestroy","off","reuse","updateAll","unuse","armatureName","ins","currSkinInfo","children","active","hasRobotSkinDot","playEffectMusic","UIManager","replaceView","AssetsMap","StartBundles","prefabs","assetsList","RobotShopView","MenuType","Skill","renderItem","getComponent","node","__decorate","Node","dragonBones","ArmatureDisplay","exports"],"mappings":";;;;;;AAAA,IAAIA,CAAJ;;AACA,IAAIC,UAAU,GAAGC,OAAO,CAAC,aAAD,CAAxB;;AACA,IAAIC,aAAa,GAAGD,OAAO,CAAC,gBAAD,CAA3B;;AACA,IAAIE,KAAK,GAAGF,OAAO,CAAC,QAAD,CAAnB;;AACA,IAAIG,UAAU,GAAGH,OAAO,CAAC,aAAD,CAAxB;;AACA,IAAII,YAAY,GAAGJ,OAAO,CAAC,eAAD,CAA1B;;AACA,IAAIK,cAAc,GAAGL,OAAO,CAAC,iBAAD,CAA5B;;AACA,IAAIM,eAAe,GAAGN,OAAO,CAAC,kBAAD,CAA7B;;AACA,IAAIO,YAAY,GAAGP,OAAO,CAAC,eAAD,CAA1B;;AACA,IAAIQ,SAAS,GAAGR,OAAO,CAAC,YAAD,CAAvB;;AACA,IAAIS,UAAU,GAAGT,OAAO,CAAC,aAAD,CAAxB;;AACA,IAAIU,cAAc,GAAGV,OAAO,CAAC,iBAAD,CAA5B;;AACA,IAAIW,CAAC,GAAGC,EAAE,CAACC,UAAX;AACA,IAAIC,CAAC,GAAGH,CAAC,CAACI,OAAV;AACA,IAAIC,CAAC,GAAGL,CAAC,CAACM,QAAV;;AACA,IAAIC,CAAC,GAAI,UAAUC,CAAV,EAAa;EAClB,SAASC,CAAT,GAAa;IACT,IAAIA,CAAC,GAAI,SAASD,CAAT,IAAcA,CAAC,CAACE,KAAF,CAAQ,IAAR,EAAcC,SAAd,CAAf,IAA4C,IAApD;IACAF,CAAC,CAACG,SAAF,GAAc,IAAd;IACAH,CAAC,CAACI,QAAF,GAAa,IAAb;IACAJ,CAAC,CAACK,KAAF,GAAU,IAAV;IACA,OAAOL,CAAP;EACH;;EACDM,SAAS,CAACN,CAAD,EAAID,CAAJ,CAAT;;EACAC,CAAC,CAACO,SAAF,CAAYC,KAAZ,GAAoB,YAAY;IAC5B,KAAKL,SAAL,CAAeM,QAAf,GAA0BxB,cAAc,WAAd,CAAuByB,QAAvB,CAAgCC,iBAAhC,CAAkDC,MAA5E;IACA/B,aAAa,WAAb,CAAsBgC,EAAtB,CAAyB3B,eAAe,WAAf,CAAwB4B,UAAjD,EAA6D,KAAKC,SAAlE,EAA6E,IAA7E;IACA,KAAKX,QAAL,CAAcS,EAAd,CAAiB,OAAjB,EAA0B,KAAKG,UAA/B,EAA2C,IAA3C;IACA,KAAKC,MAAL;EACH,CALD;;EAMAjB,CAAC,CAACO,SAAF,CAAYW,SAAZ,GAAwB,YAAY;IAChCrC,aAAa,WAAb,CAAsBsC,GAAtB,CAA0BjC,eAAe,WAAf,CAAwB4B,UAAlD,EAA8D,KAAKC,SAAnE,EAA8E,IAA9E;IACA,KAAKX,QAAL,CAAce,GAAd,CAAkB,OAAlB,EAA2B,KAAKH,UAAhC,EAA4C,IAA5C;EACH,CAHD;;EAIAhB,CAAC,CAACO,SAAF,CAAYa,KAAZ,GAAoB,YAAY;IAC5BvC,aAAa,WAAb,CAAsBgC,EAAtB,CAAyB3B,eAAe,WAAf,CAAwB4B,UAAjD,EAA6D,KAAKC,SAAlE,EAA6E,IAA7E;IACA,KAAKZ,SAAL,CAAekB,SAAf;EACH,CAHD;;EAIArB,CAAC,CAACO,SAAF,CAAYe,KAAZ,GAAoB,YAAY;IAC5BzC,aAAa,WAAb,CAAsBsC,GAAtB,CAA0BjC,eAAe,WAAf,CAAwB4B,UAAlD,EAA8D,KAAKC,SAAnE,EAA8E,IAA9E;EACH,CAFD;;EAGAf,CAAC,CAACO,SAAF,CAAYU,MAAZ,GAAqB,YAAY;IAC7B,KAAKZ,KAAL,CAAWkB,YAAX,GAA0B,OAAOpC,YAAY,WAAZ,CAAqBqC,GAArB,CAAyBC,YAAzB,CAAsCpB,KAAvE;IACA,KAAKD,QAAL,CAAcsB,QAAd,CAAuB,CAAvB,EAA0BC,MAA1B,GAAmCxC,YAAY,WAAZ,CAAqBqC,GAArB,CAAyBI,eAAzB,EAAnC;EACH,CAHD;;EAIA5B,CAAC,CAACO,SAAF,CAAYS,UAAZ,GAAyB,YAAY;IACjChC,YAAY,WAAZ,CAAqB0B,QAArB,CAA8BmB,eAA9B,CAA8C,OAA9C;IACA9C,UAAU,CAAC+C,SAAX,CAAqBpB,QAArB,CAA8BqB,WAA9B,CAA0CpD,UAAU,CAACqD,SAAX,CAAqBC,YAArB,CAAkCC,OAAlC,CAA0CC,UAA1C,CAAqDC,aAA/F;EACH,CAHD;;EAIApC,CAAC,CAACO,SAAF,CAAYQ,SAAZ,GAAwB,UAAUhB,CAAV,EAAa;IACjC,IAAIA,CAAC,KAAKV,UAAU,CAACgD,QAAX,CAAoBC,KAA9B,EAAqC;MACjC,KAAKnC,SAAL,CAAekB,SAAf;IACH;EACJ,CAJD;;EAKArB,CAAC,CAACO,SAAF,CAAYgC,UAAZ,GAAyB,UAAUxC,CAAV,EAAaC,CAAb,EAAgB;IACrCD,CAAC,CAACyC,YAAF,CAAelD,cAAc,WAA7B,EAAuC2B,MAAvC,CAA8ChC,cAAc,WAAd,CAAuByB,QAAvB,CAAgCC,iBAAhC,CAAkDX,CAAlD,CAA9C,EAAoG,KAAKyC,IAAzG;EACH,CAFD;;EAGAC,UAAU,CAAC,CAAC9C,CAAC,CAACd,KAAK,WAAN,CAAF,CAAD,EAAqBkB,CAAC,CAACO,SAAvB,EAAkC,WAAlC,EAA+C,KAAK,CAApD,CAAV;;EACAmC,UAAU,CAAC,CAAC9C,CAAC,CAACJ,EAAE,CAACmD,IAAJ,CAAF,CAAD,EAAe3C,CAAC,CAACO,SAAjB,EAA4B,UAA5B,EAAwC,KAAK,CAA7C,CAAV;;EACAmC,UAAU,CAAC,CAAC9C,CAAC,CAACgD,WAAW,CAACC,eAAb,CAAF,CAAD,EAAmC7C,CAAC,CAACO,SAArC,EAAgD,OAAhD,EAAyD,KAAK,CAA9D,CAAV;;EACA,OAAOmC,UAAU,CAAC,CAAChD,CAAD,CAAD,EAAMM,CAAN,CAAjB;AACH,CA9CO,CA8CLZ,SAAS,WA9CJ,CAAR;;AA+CA0D,OAAO,WAAP,GAAkBhD,CAAlB","sourceRoot":"/","sourcesContent":["var o;\r\nvar $assetsMap = require(\"./AssetsMap\");\r\nvar $eventManager = require(\"./EventManager\");\r\nvar $list = require(\"./List\");\r\nvar $uIManager = require(\"./UIManager\");\r\nvar $remoteAudio = require(\"./RemoteAudio\");\r\nvar $configContext = require(\"./ConfigContext\");\r\nvar $localEventName = require(\"./LocalEventName\");\r\nvar $roleContext = require(\"./RoleContext\");\r\nvar $itemView = require(\"./ItemView\");\r\nvar $startView = require(\"./StartView\");\r\nvar $skillListItem = require(\"./SkillListItem\");\r\nvar g = cc._decorator;\r\nvar _ = g.ccclass;\r\nvar k = g.property;\r\nvar v = (function (t) {\r\n    function e() {\r\n        var e = (null !== t && t.apply(this, arguments)) || this;\r\n        e.skillList = null;\r\n        e.btnRobot = null;\r\n        e.robot = null;\r\n        return e;\r\n    }\r\n    __extends(e, t);\r\n    e.prototype.start = function () {\r\n        this.skillList.numItems = $configContext.default.instance.basicSkillConfigs.length;\r\n        $eventManager.default.on($localEventName.default.RENDER_DOT, this.renderDot, this);\r\n        this.btnRobot.on(\"click\", this.clickRobot, this);\r\n        this.render();\r\n    };\r\n    e.prototype.onDestroy = function () {\r\n        $eventManager.default.off($localEventName.default.RENDER_DOT, this.renderDot, this);\r\n        this.btnRobot.off(\"click\", this.clickRobot, this);\r\n    };\r\n    e.prototype.reuse = function () {\r\n        $eventManager.default.on($localEventName.default.RENDER_DOT, this.renderDot, this);\r\n        this.skillList.updateAll();\r\n    };\r\n    e.prototype.unuse = function () {\r\n        $eventManager.default.off($localEventName.default.RENDER_DOT, this.renderDot, this);\r\n    };\r\n    e.prototype.render = function () {\r\n        this.robot.armatureName = \"hl\" + $roleContext.default.ins.currSkinInfo.robot;\r\n        this.btnRobot.children[0].active = $roleContext.default.ins.hasRobotSkinDot();\r\n    };\r\n    e.prototype.clickRobot = function () {\r\n        $remoteAudio.default.instance.playEffectMusic(\"Click\");\r\n        $uIManager.UIManager.instance.replaceView($assetsMap.AssetsMap.StartBundles.prefabs.assetsList.RobotShopView);\r\n    };\r\n    e.prototype.renderDot = function (t) {\r\n        if (t === $startView.MenuType.Skill) {\r\n            this.skillList.updateAll();\r\n        }\r\n    };\r\n    e.prototype.renderItem = function (t, e) {\r\n        t.getComponent($skillListItem.default).render($configContext.default.instance.basicSkillConfigs[e], this.node);\r\n    };\r\n    __decorate([k($list.default)], e.prototype, \"skillList\", void 0);\r\n    __decorate([k(cc.Node)], e.prototype, \"btnRobot\", void 0);\r\n    __decorate([k(dragonBones.ArmatureDisplay)], e.prototype, \"robot\", void 0);\r\n    return __decorate([_], e);\r\n})($itemView.default);\r\nexports.default = v;\r\n"]}