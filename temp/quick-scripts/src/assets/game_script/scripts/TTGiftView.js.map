{"version":3,"sources":["assets\\game_script\\scripts\\TTGiftView.js"],"names":["o","$uIManager","require","$popupView","$aD","$switchContext","$userDataContext","d","cc","_decorator","p","ccclass","f","property","h","t","e","apply","arguments","btnTip","icons","zis","__extends","prototype","onResetView","console","log","toutiao","isSidebarCome","getComponentInChildren","Label","string","length","active","SwitchContext","currVersion","addEvent","on","clickBtn","removeEvent","off","Ins","opearCoin","UIManager","instance","showToast","closeScene","onClickClose","call","navigateToScene","__decorate","Node","PopupView","exports"],"mappings":"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","sourceRoot":"/","sourcesContent":["var o;\r\nvar $uIManager = require(\"./UIManager\");\r\nvar $popupView = require(\"./PopupView\");\r\nvar $aD = require(\"./AD\");\r\nvar $switchContext = require(\"./SwitchContext\");\r\nvar $userDataContext = require(\"./UserDataContext\");\r\nvar d = cc._decorator;\r\nvar p = d.ccclass;\r\nvar f = d.property;\r\nvar h = (function (t) {\r\n    function e() {\r\n        var e = (null !== t && t.apply(this, arguments)) || this;\r\n        e.btnTip = null;\r\n        e.icons = [];\r\n        e.zis = [];\r\n        return e;\r\n    }\r\n    __extends(e, t);\r\n    e.prototype.onResetView = function () {\r\n        console.log(\"=========================\", $aD.default.toutiao.isSidebarCome());\r\n        var t = $aD.default.toutiao.isSidebarCome() ? \"领取奖励\" : \"前往侧边栏\";\r\n        this.btnTip.getComponentInChildren(cc.Label).string = t;\r\n        for (var e = 0; e < this.icons.length; e++) {\r\n            this.icons[e].active = $switchContext.SwitchContext.currVersion === e;\r\n            this.zis[e].active = $switchContext.SwitchContext.currVersion === e;\r\n        }\r\n    };\r\n    e.prototype.addEvent = function () {\r\n        this.btnTip.on(\"click\", this.clickBtn, this);\r\n    };\r\n    e.prototype.removeEvent = function () {\r\n        this.btnTip.off(\"click\", this.clickBtn, this);\r\n    };\r\n    e.prototype.clickBtn = function () {\r\n        $aD.default.toutiao.isSidebarCome()\r\n            ? ($userDataContext.default.Ins.opearCoin(100),\r\n              $uIManager.UIManager.instance.showToast(\"领取成功,金币+100\"),\r\n              $aD.default.toutiao.closeScene(),\r\n              t.prototype.onClickClose.call(this))\r\n            : ($aD.default.toutiao.navigateToScene(null, function () {\r\n                  $uIManager.UIManager.instance.showToast(\"若点击按钮无反应，可主动从侧边栏访问本游戏后领奖\");\r\n              }),\r\n              t.prototype.onClickClose.call(this));\r\n    };\r\n    __decorate([f(cc.Node)], e.prototype, \"btnTip\", void 0);\r\n    __decorate([f([cc.Node])], e.prototype, \"icons\", void 0);\r\n    __decorate([f([cc.Node])], e.prototype, \"zis\", void 0);\r\n    return __decorate([p], e);\r\n})($popupView.PopupView);\r\nexports.default = h;\r\n"]}