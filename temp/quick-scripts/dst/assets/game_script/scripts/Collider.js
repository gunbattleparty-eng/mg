
                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/game_script/scripts/Collider.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'e9918lPZAlNEZGC1kb/9cqo', 'Collider');
// game_script/scripts/Collider.js

"use strict";

exports.cCollider = void 0;

var $agent = require("./Agent");

var $body = require("./Body");

var $object = require("./Object");

var $shape = require("./Shape");

var a = function () {
  function t() {
    this.id = 0;
    this.pools = [];
    this.axis = -1;
    this.frameID = 0;
    this.bodys = [];
    this.isDirty = !1;
    this.pairs = new Map();
  }

  Object.defineProperty(t, "inst", {
    get: function get() {
      if (null == this._inst) {
        this._inst = new t();
      }

      return this._inst;
    },
    enumerable: !1,
    configurable: !0
  });

  t.prototype.create = function (t) {
    var e = this.pools.pop();
    return e ? (e.object = t, e) : ((e = new $body.cBody(t)).id = this.id++, e);
  };

  t.prototype.insert = function (t, e) {
    if (void 0 === e) {
      e = !1;
    }

    if (t) {
      if (!t.inCollider) {
        this.bodys.push(t);
        t.inCollider = !0;
      }

      t.isRemove = !1;
      t.isRetrieve = !1;

      if (e && t.object) {
        t.object.isDirty = $object.Dirty.RTS;
      }
    }
  };

  t.prototype.remove = function (t, e) {
    if (void 0 === e) {
      e = !1;
    }

    if (t) {
      t.isRemove = !0;
      t.isRetrieve = e;
    }
  };

  t.prototype.reset = function () {
    this.axis = -1;
    this.frameID = 0;
    this.isDirty = !0;
    var t = this.bodys;

    for (var e = t.length - 1; e >= 0; e--) {
      var i = t[e];
      this.pools.push(i);
      i.clear();
    }

    t.length = 0;
  };

  t.prototype.clear = function () {
    this.id = 0;
    this.axis = -1;
    this.frameID = 0;
    this.isDirty = !0;
    this.pools.length = 0;
    var t = this.bodys;

    for (var e = t.length - 1; e >= 0; e--) {
      t[e].clear();
    }

    t.length = 0;
  };

  t.prototype.update = function () {
    this.reBuild();
    this.triggers();
    $agent.Agent.inst.process(this.bodys);
  };

  t.prototype.triggers = function () {
    ++this.frameID;
    var t = this.axis;
    var e = t >> 2 & 3;
    var i = t >> 4 & 3;
    var n = this.bodys;
    var s = $agent.Agent.inst;
    var a = 0;
    var l = 0;
    var c = n.length;

    for (a = 0; a < c; a++) {
      var u = n[a];

      if (!u.isRemove) {
        var d = u.aabb;
        var p = d[e];
        var f = d[i];
        var h = u.mask;
        var m = u.group;
        var y = u.upper;
        var g = u.object;

        for (l = a + 1; l < c; l++) {
          var _ = n[l];

          if (!_.isRemove) {
            if (y <= _.lower) {
              break;
            }

            var k = _.aabb;
            var v = _.object;
            var b = h & _.group;
            var w = _.mask & m;

            if (!(p > k[e + 3] || k[e] > d[e + 3] || f > k[i + 3] || k[i] > d[i + 3])) {
              if (u.isAgent && _.isAgent) {
                var A = u.priority - _.priority;

                if (A <= 0) {
                  s.check(u, _);
                }

                if (A >= 0) {
                  s.check(_, u);
                }
              }

              if (b || w) {
                var S = g.shape.type;
                var C = v.shape.type;

                if (S > C) {
                  if (!$shape.ShapeSupport[C | S](_, u)) {
                    continue;
                  }
                } else {
                  if (!$shape.ShapeSupport[S | C](u, _)) {
                    continue;
                  }
                }

                this.onTrigger(u, _, (b ? 1 : 0) | (w ? 2 : 0));
              }
            }
          }
        }
      }
    }

    this.endTrigger();
  };

  t.prototype.onTrigger = function (t, e, i) {
    var o = 0;
    var n = 0;
    var r = t.id;
    var a = e.id;

    if (r < a) {
      n = r;
      r = a;
      a = n;
    }

    n = (r * (r + 1) >> 1) + a - 1;
    var l = this.pairs;
    var c = l.get(n);
    void 0 !== c ? (o = $object.Trigger.stay, c.frameID = this.frameID, c.state = i) : (o = $object.Trigger.enter, l.set(n, {
      id: n,
      a: t,
      b: e,
      frameID: this.frameID,
      state: i
    }));
    var u = t.object;

    if (1 & i && u && u.trigger && !t.isRemove) {
      u.onTrigger(e, o);
    }

    var d = e.object;

    if (2 & i && d && d.trigger && !e.isRemove) {
      d.onTrigger(t, o);
    }
  };

  t.prototype.endTrigger = function () {
    var t = [];
    var e = this.pairs;
    var i = e.size;
    var o = this.frameID;
    var n = e.values();

    for (var r = 0; r < i; r++) {
      var a = n.next().value;
      var l = a.a;
      var c = a.b;

      if (a.frameID != o || l.isRemove || l.isRemove) {
        var u = l.object;

        if (u && u.trigger && !l.isRemove) {
          u.onTrigger(c, $object.Trigger.exit);
        }

        var d = c.object;

        if (d && d.trigger && !c.isRemove) {
          d.onTrigger(l, $object.Trigger.exit);
        }

        t.push(a.id);
      }
    }

    for (i = t.length - 1; i >= 0;) {
      e["delete"](t[i--]);
    }

    t.length = 0;
  };

  t.prototype.reBuild = function () {
    var t = !1;
    var e = this.preBuildAxis();

    if ((3 & e) != (3 & this.axis) || this.axis < 0) {
      this.axis = e;
      t = !0;
    }

    if (t || this.isDirty) {
      this.isDirty = !1;
      var i = this.bodys;
      e = 3 & this.axis;
      var o = 0;

      for (var n = i.length; o !== n; o++) {
        var s = i[o];
        var r = s.aabb;
        s.lower = r[e];
        s.upper = r[e + 3];
      }

      t ? i.sort(function (t, e) {
        return t.lower - e.lower;
      }) : this.sort(i);
    }
  };

  t.prototype.sort = function (t) {
    var e;
    var i = 0;
    var o = 0;
    i = 1;

    for (e = t.length; i < e; i++) {
      var n = t[i];
      var s = n.lower;

      for (o = i - 1; o >= 0; o--) {
        var r = t[o];

        if (r.lower <= s) {
          break;
        }

        t[o + 1] = r;
      }

      if (o + 1 != i) {
        t[o + 1] = n;
      }
    }
  };

  t.prototype.preBuildAxis = function () {
    var t = 0;
    var e = 0;
    var i = 0;
    var o = 0;
    var n = 0;
    var s = 0;
    var r = 0;
    var a = 0;
    var l = 0;
    var c = 0;
    var u = this.bodys;
    var d = u.length;
    var p = 0;
    var f = !1;

    for (var h = 0; h < d; h++) {
      var m = u[h];

      if (m.isRemove) {
        m.isRetrieve && (this.pools.push(m), m.clear());
        m.inCollider = !1;
      } else {
        {
          if (++p <= h) {
            u[p - 1] = m;
          }

          if (m.updateBound()) {
            f = !0;
          }

          var y = m.aabb;
          var g = y[3] - y[0];

          var _ = y[4] - y[1];

          var k = y[5] - y[2];
          a += g * g;
          l += _ * _;
          c += k * k;
          var v = 0.5 * (y[3] + y[0]);
          e += v;
          i += v * v;
          var b = 0.5 * (y[4] + y[1]);
          o += b;
          n += b * b;
          var w = 0.5 * (y[5] + y[2]);
          s += w;
          r += w * w;
        }
      }
    }

    this.bodys.length = p;
    this.isDirty = f;
    var A = 1 / p;
    var S = (i - e * e * A) * (a = a > 0 ? p / a : 0);
    var C = (n - o * o * A) * (l = l > 0 ? p / l : 0);
    var I = (r - s * s * A) * (c = c > 0 ? p / c : 0);

    if (0 == S) {
      S = a;
    }

    if (0 == C) {
      C = l;
    }

    if (0 == I) {
      I = c;
    }

    S > C ? S > I ? (t = 0, t |= C > I ? 36 : 24) : (t = 2, t |= S > C ? 16 : 4) : C > I ? (t = 1, t |= S > I ? 32 : 8) : (t = 2, t |= S > C ? 16 : 4);
    return t;
  };

  t._inst = null;
  return t;
}();

exports.cCollider = a;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcZ2FtZV9zY3JpcHRcXHNjcmlwdHNcXENvbGxpZGVyLmpzIl0sIm5hbWVzIjpbImV4cG9ydHMiLCJjQ29sbGlkZXIiLCIkYWdlbnQiLCJyZXF1aXJlIiwiJGJvZHkiLCIkb2JqZWN0IiwiJHNoYXBlIiwiYSIsInQiLCJpZCIsInBvb2xzIiwiYXhpcyIsImZyYW1lSUQiLCJib2R5cyIsImlzRGlydHkiLCJwYWlycyIsIk1hcCIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZ2V0IiwiX2luc3QiLCJlbnVtZXJhYmxlIiwiY29uZmlndXJhYmxlIiwicHJvdG90eXBlIiwiY3JlYXRlIiwiZSIsInBvcCIsIm9iamVjdCIsImNCb2R5IiwiaW5zZXJ0IiwiaW5Db2xsaWRlciIsInB1c2giLCJpc1JlbW92ZSIsImlzUmV0cmlldmUiLCJEaXJ0eSIsIlJUUyIsInJlbW92ZSIsInJlc2V0IiwibGVuZ3RoIiwiaSIsImNsZWFyIiwidXBkYXRlIiwicmVCdWlsZCIsInRyaWdnZXJzIiwiQWdlbnQiLCJpbnN0IiwicHJvY2VzcyIsIm4iLCJzIiwibCIsImMiLCJ1IiwiZCIsImFhYmIiLCJwIiwiZiIsImgiLCJtYXNrIiwibSIsImdyb3VwIiwieSIsInVwcGVyIiwiZyIsIl8iLCJsb3dlciIsImsiLCJ2IiwiYiIsInciLCJpc0FnZW50IiwiQSIsInByaW9yaXR5IiwiY2hlY2siLCJTIiwic2hhcGUiLCJ0eXBlIiwiQyIsIlNoYXBlU3VwcG9ydCIsIm9uVHJpZ2dlciIsImVuZFRyaWdnZXIiLCJvIiwiciIsIlRyaWdnZXIiLCJzdGF5Iiwic3RhdGUiLCJlbnRlciIsInNldCIsInRyaWdnZXIiLCJzaXplIiwidmFsdWVzIiwibmV4dCIsInZhbHVlIiwiZXhpdCIsInByZUJ1aWxkQXhpcyIsInNvcnQiLCJ1cGRhdGVCb3VuZCIsIkkiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUFBLE9BQU8sQ0FBQ0MsU0FBUixHQUFvQixLQUFLLENBQXpCOztB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QyxHQUFHb0IsQ0FBSixHQUFRLEVBQVIsR0FBYSxFQURqQyxLQUVNeEYsQ0FBQyxHQUFHLENBQUwsRUFBVUEsQ0FBQyxJQUFJaUUsQ0FBQyxHQUFHRyxDQUFKLEdBQVEsRUFBUixHQUFhLENBRmpDLENBRE4sR0FJTUEsQ0FBQyxHQUFHb0IsQ0FBSixJQUNFeEYsQ0FBQyxHQUFHLENBQUwsRUFBVUEsQ0FBQyxJQUFJaUUsQ0FBQyxHQUFHdUIsQ0FBSixHQUFRLEVBQVIsR0FBYSxDQUQ3QixLQUVFeEYsQ0FBQyxHQUFHLENBQUwsRUFBVUEsQ0FBQyxJQUFJaUUsQ0FBQyxHQUFHRyxDQUFKLEdBQVEsRUFBUixHQUFhLENBRjdCLENBSk47SUFPQSxPQUFPcEUsQ0FBUDtFQUNILENBdEVEOztFQXVFQUEsQ0FBQyxDQUFDWSxLQUFGLEdBQVUsSUFBVjtFQUNBLE9BQU9aLENBQVA7QUFDSCxDQTVUTyxFQUFSOztBQTZUQVIsT0FBTyxDQUFDQyxTQUFSLEdBQW9CTSxDQUFwQiIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0cy5jQ29sbGlkZXIgPSB2b2lkIDA7XHJcbnZhciAkYWdlbnQgPSByZXF1aXJlKFwiLi9BZ2VudFwiKTtcclxudmFyICRib2R5ID0gcmVxdWlyZShcIi4vQm9keVwiKTtcclxudmFyICRvYmplY3QgPSByZXF1aXJlKFwiLi9PYmplY3RcIik7XHJcbnZhciAkc2hhcGUgPSByZXF1aXJlKFwiLi9TaGFwZVwiKTtcclxudmFyIGEgPSAoZnVuY3Rpb24gKCkge1xyXG4gICAgZnVuY3Rpb24gdCgpIHtcclxuICAgICAgICB0aGlzLmlkID0gMDtcclxuICAgICAgICB0aGlzLnBvb2xzID0gW107XHJcbiAgICAgICAgdGhpcy5heGlzID0gLTE7XHJcbiAgICAgICAgdGhpcy5mcmFtZUlEID0gMDtcclxuICAgICAgICB0aGlzLmJvZHlzID0gW107XHJcbiAgICAgICAgdGhpcy5pc0RpcnR5ID0gITE7XHJcbiAgICAgICAgdGhpcy5wYWlycyA9IG5ldyBNYXAoKTtcclxuICAgIH1cclxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCBcImluc3RcIiwge1xyXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBpZiAobnVsbCA9PSB0aGlzLl9pbnN0KSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9pbnN0ID0gbmV3IHQoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5faW5zdDtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGVudW1lcmFibGU6ICExLFxyXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogITBcclxuICAgIH0pO1xyXG4gICAgdC5wcm90b3R5cGUuY3JlYXRlID0gZnVuY3Rpb24gKHQpIHtcclxuICAgICAgICB2YXIgZSA9IHRoaXMucG9vbHMucG9wKCk7XHJcbiAgICAgICAgcmV0dXJuIGUgPyAoKGUub2JqZWN0ID0gdCksIGUpIDogKCgoZSA9IG5ldyAkYm9keS5jQm9keSh0KSkuaWQgPSB0aGlzLmlkKyspLCBlKTtcclxuICAgIH07XHJcbiAgICB0LnByb3RvdHlwZS5pbnNlcnQgPSBmdW5jdGlvbiAodCwgZSkge1xyXG4gICAgICAgIGlmICh2b2lkIDAgPT09IGUpIHtcclxuICAgICAgICAgICAgZSA9ICExO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodCkge1xyXG4gICAgICAgICAgICBpZiAoIXQuaW5Db2xsaWRlcikge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5ib2R5cy5wdXNoKHQpO1xyXG4gICAgICAgICAgICAgICAgdC5pbkNvbGxpZGVyID0gITA7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdC5pc1JlbW92ZSA9ICExO1xyXG4gICAgICAgICAgICB0LmlzUmV0cmlldmUgPSAhMTtcclxuICAgICAgICAgICAgaWYgKGUgJiYgdC5vYmplY3QpIHtcclxuICAgICAgICAgICAgICAgIHQub2JqZWN0LmlzRGlydHkgPSAkb2JqZWN0LkRpcnR5LlJUUztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICB0LnByb3RvdHlwZS5yZW1vdmUgPSBmdW5jdGlvbiAodCwgZSkge1xyXG4gICAgICAgIGlmICh2b2lkIDAgPT09IGUpIHtcclxuICAgICAgICAgICAgZSA9ICExO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodCkge1xyXG4gICAgICAgICAgICB0LmlzUmVtb3ZlID0gITA7XHJcbiAgICAgICAgICAgIHQuaXNSZXRyaWV2ZSA9IGU7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIHQucHJvdG90eXBlLnJlc2V0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHRoaXMuYXhpcyA9IC0xO1xyXG4gICAgICAgIHRoaXMuZnJhbWVJRCA9IDA7XHJcbiAgICAgICAgdGhpcy5pc0RpcnR5ID0gITA7XHJcbiAgICAgICAgdmFyIHQgPSB0aGlzLmJvZHlzO1xyXG4gICAgICAgIGZvciAodmFyIGUgPSB0Lmxlbmd0aCAtIDE7IGUgPj0gMDsgZS0tKSB7XHJcbiAgICAgICAgICAgIHZhciBpID0gdFtlXTtcclxuICAgICAgICAgICAgdGhpcy5wb29scy5wdXNoKGkpO1xyXG4gICAgICAgICAgICBpLmNsZWFyKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHQubGVuZ3RoID0gMDtcclxuICAgIH07XHJcbiAgICB0LnByb3RvdHlwZS5jbGVhciA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB0aGlzLmlkID0gMDtcclxuICAgICAgICB0aGlzLmF4aXMgPSAtMTtcclxuICAgICAgICB0aGlzLmZyYW1lSUQgPSAwO1xyXG4gICAgICAgIHRoaXMuaXNEaXJ0eSA9ICEwO1xyXG4gICAgICAgIHRoaXMucG9vbHMubGVuZ3RoID0gMDtcclxuICAgICAgICB2YXIgdCA9IHRoaXMuYm9keXM7XHJcbiAgICAgICAgZm9yICh2YXIgZSA9IHQubGVuZ3RoIC0gMTsgZSA+PSAwOyBlLS0pIHtcclxuICAgICAgICAgICAgdFtlXS5jbGVhcigpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0Lmxlbmd0aCA9IDA7XHJcbiAgICB9O1xyXG4gICAgdC5wcm90b3R5cGUudXBkYXRlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHRoaXMucmVCdWlsZCgpO1xyXG4gICAgICAgIHRoaXMudHJpZ2dlcnMoKTtcclxuICAgICAgICAkYWdlbnQuQWdlbnQuaW5zdC5wcm9jZXNzKHRoaXMuYm9keXMpO1xyXG4gICAgfTtcclxuICAgIHQucHJvdG90eXBlLnRyaWdnZXJzID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICsrdGhpcy5mcmFtZUlEO1xyXG4gICAgICAgIHZhciB0ID0gdGhpcy5heGlzO1xyXG4gICAgICAgIHZhciBlID0gKHQgPj4gMikgJiAzO1xyXG4gICAgICAgIHZhciBpID0gKHQgPj4gNCkgJiAzO1xyXG4gICAgICAgIHZhciBuID0gdGhpcy5ib2R5cztcclxuICAgICAgICB2YXIgcyA9ICRhZ2VudC5BZ2VudC5pbnN0O1xyXG4gICAgICAgIHZhciBhID0gMDtcclxuICAgICAgICB2YXIgbCA9IDA7XHJcbiAgICAgICAgdmFyIGMgPSBuLmxlbmd0aDtcclxuICAgICAgICBmb3IgKGEgPSAwOyBhIDwgYzsgYSsrKSB7XHJcbiAgICAgICAgICAgIHZhciB1ID0gblthXTtcclxuICAgICAgICAgICAgaWYgKCF1LmlzUmVtb3ZlKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgZCA9IHUuYWFiYjtcclxuICAgICAgICAgICAgICAgIHZhciBwID0gZFtlXTtcclxuICAgICAgICAgICAgICAgIHZhciBmID0gZFtpXTtcclxuICAgICAgICAgICAgICAgIHZhciBoID0gdS5tYXNrO1xyXG4gICAgICAgICAgICAgICAgdmFyIG0gPSB1Lmdyb3VwO1xyXG4gICAgICAgICAgICAgICAgdmFyIHkgPSB1LnVwcGVyO1xyXG4gICAgICAgICAgICAgICAgdmFyIGcgPSB1Lm9iamVjdDtcclxuICAgICAgICAgICAgICAgIGZvciAobCA9IGEgKyAxOyBsIDwgYzsgbCsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIF8gPSBuW2xdO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghXy5pc1JlbW92ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoeSA8PSBfLmxvd2VyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgayA9IF8uYWFiYjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHYgPSBfLm9iamVjdDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGIgPSBoICYgXy5ncm91cDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHcgPSBfLm1hc2sgJiBtO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIShwID4ga1tlICsgM10gfHwga1tlXSA+IGRbZSArIDNdIHx8IGYgPiBrW2kgKyAzXSB8fCBrW2ldID4gZFtpICsgM10pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodS5pc0FnZW50ICYmIF8uaXNBZ2VudCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBBID0gdS5wcmlvcml0eSAtIF8ucHJpb3JpdHk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKEEgPD0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzLmNoZWNrKHUsIF8pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoQSA+PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHMuY2hlY2soXywgdSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGIgfHwgdykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBTID0gZy5zaGFwZS50eXBlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBDID0gdi5zaGFwZS50eXBlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChTID4gQykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoISRzaGFwZS5TaGFwZVN1cHBvcnRbQyB8IFNdKF8sIHUpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghJHNoYXBlLlNoYXBlU3VwcG9ydFtTIHwgQ10odSwgXykpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMub25UcmlnZ2VyKHUsIF8sIChiID8gMSA6IDApIHwgKHcgPyAyIDogMCkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuZW5kVHJpZ2dlcigpO1xyXG4gICAgfTtcclxuICAgIHQucHJvdG90eXBlLm9uVHJpZ2dlciA9IGZ1bmN0aW9uICh0LCBlLCBpKSB7XHJcbiAgICAgICAgdmFyIG8gPSAwO1xyXG4gICAgICAgIHZhciBuID0gMDtcclxuICAgICAgICB2YXIgciA9IHQuaWQ7XHJcbiAgICAgICAgdmFyIGEgPSBlLmlkO1xyXG4gICAgICAgIGlmIChyIDwgYSkge1xyXG4gICAgICAgICAgICBuID0gcjtcclxuICAgICAgICAgICAgciA9IGE7XHJcbiAgICAgICAgICAgIGEgPSBuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBuID0gKChyICogKHIgKyAxKSkgPj4gMSkgKyBhIC0gMTtcclxuICAgICAgICB2YXIgbCA9IHRoaXMucGFpcnM7XHJcbiAgICAgICAgdmFyIGMgPSBsLmdldChuKTtcclxuICAgICAgICB2b2lkIDAgIT09IGNcclxuICAgICAgICAgICAgPyAoKG8gPSAkb2JqZWN0LlRyaWdnZXIuc3RheSksIChjLmZyYW1lSUQgPSB0aGlzLmZyYW1lSUQpLCAoYy5zdGF0ZSA9IGkpKVxyXG4gICAgICAgICAgICA6ICgobyA9ICRvYmplY3QuVHJpZ2dlci5lbnRlciksXHJcbiAgICAgICAgICAgICAgbC5zZXQobiwge1xyXG4gICAgICAgICAgICAgICAgICBpZDogbixcclxuICAgICAgICAgICAgICAgICAgYTogdCxcclxuICAgICAgICAgICAgICAgICAgYjogZSxcclxuICAgICAgICAgICAgICAgICAgZnJhbWVJRDogdGhpcy5mcmFtZUlELFxyXG4gICAgICAgICAgICAgICAgICBzdGF0ZTogaVxyXG4gICAgICAgICAgICAgIH0pKTtcclxuICAgICAgICB2YXIgdSA9IHQub2JqZWN0O1xyXG4gICAgICAgIGlmICgxICYgaSAmJiB1ICYmIHUudHJpZ2dlciAmJiAhdC5pc1JlbW92ZSkge1xyXG4gICAgICAgICAgICB1Lm9uVHJpZ2dlcihlLCBvKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIGQgPSBlLm9iamVjdDtcclxuICAgICAgICBpZiAoMiAmIGkgJiYgZCAmJiBkLnRyaWdnZXIgJiYgIWUuaXNSZW1vdmUpIHtcclxuICAgICAgICAgICAgZC5vblRyaWdnZXIodCwgbyk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIHQucHJvdG90eXBlLmVuZFRyaWdnZXIgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIHQgPSBbXTtcclxuICAgICAgICB2YXIgZSA9IHRoaXMucGFpcnM7XHJcbiAgICAgICAgdmFyIGkgPSBlLnNpemU7XHJcbiAgICAgICAgdmFyIG8gPSB0aGlzLmZyYW1lSUQ7XHJcbiAgICAgICAgdmFyIG4gPSBlLnZhbHVlcygpO1xyXG4gICAgICAgIGZvciAodmFyIHIgPSAwOyByIDwgaTsgcisrKSB7XHJcbiAgICAgICAgICAgIHZhciBhID0gbi5uZXh0KCkudmFsdWU7XHJcbiAgICAgICAgICAgIHZhciBsID0gYS5hO1xyXG4gICAgICAgICAgICB2YXIgYyA9IGEuYjtcclxuICAgICAgICAgICAgaWYgKGEuZnJhbWVJRCAhPSBvIHx8IGwuaXNSZW1vdmUgfHwgbC5pc1JlbW92ZSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHUgPSBsLm9iamVjdDtcclxuICAgICAgICAgICAgICAgIGlmICh1ICYmIHUudHJpZ2dlciAmJiAhbC5pc1JlbW92ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHUub25UcmlnZ2VyKGMsICRvYmplY3QuVHJpZ2dlci5leGl0KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHZhciBkID0gYy5vYmplY3Q7XHJcbiAgICAgICAgICAgICAgICBpZiAoZCAmJiBkLnRyaWdnZXIgJiYgIWMuaXNSZW1vdmUpIHtcclxuICAgICAgICAgICAgICAgICAgICBkLm9uVHJpZ2dlcihsLCAkb2JqZWN0LlRyaWdnZXIuZXhpdCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB0LnB1c2goYS5pZCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZm9yIChpID0gdC5sZW5ndGggLSAxOyBpID49IDA7ICkge1xyXG4gICAgICAgICAgICBlLmRlbGV0ZSh0W2ktLV0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0Lmxlbmd0aCA9IDA7XHJcbiAgICB9O1xyXG4gICAgdC5wcm90b3R5cGUucmVCdWlsZCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgdCA9ICExO1xyXG4gICAgICAgIHZhciBlID0gdGhpcy5wcmVCdWlsZEF4aXMoKTtcclxuICAgICAgICBpZiAoKDMgJiBlKSAhPSAoMyAmIHRoaXMuYXhpcykgfHwgdGhpcy5heGlzIDwgMCkge1xyXG4gICAgICAgICAgICB0aGlzLmF4aXMgPSBlO1xyXG4gICAgICAgICAgICB0ID0gITA7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0IHx8IHRoaXMuaXNEaXJ0eSkge1xyXG4gICAgICAgICAgICB0aGlzLmlzRGlydHkgPSAhMTtcclxuICAgICAgICAgICAgdmFyIGkgPSB0aGlzLmJvZHlzO1xyXG4gICAgICAgICAgICBlID0gMyAmIHRoaXMuYXhpcztcclxuICAgICAgICAgICAgdmFyIG8gPSAwO1xyXG4gICAgICAgICAgICBmb3IgKHZhciBuID0gaS5sZW5ndGg7IG8gIT09IG47IG8rKykge1xyXG4gICAgICAgICAgICAgICAgdmFyIHMgPSBpW29dO1xyXG4gICAgICAgICAgICAgICAgdmFyIHIgPSBzLmFhYmI7XHJcbiAgICAgICAgICAgICAgICBzLmxvd2VyID0gcltlXTtcclxuICAgICAgICAgICAgICAgIHMudXBwZXIgPSByW2UgKyAzXTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0XHJcbiAgICAgICAgICAgICAgICA/IGkuc29ydChmdW5jdGlvbiAodCwgZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHQubG93ZXIgLSBlLmxvd2VyO1xyXG4gICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgOiB0aGlzLnNvcnQoaSk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIHQucHJvdG90eXBlLnNvcnQgPSBmdW5jdGlvbiAodCkge1xyXG4gICAgICAgIHZhciBlO1xyXG4gICAgICAgIHZhciBpID0gMDtcclxuICAgICAgICB2YXIgbyA9IDA7XHJcbiAgICAgICAgaSA9IDE7XHJcbiAgICAgICAgZm9yIChlID0gdC5sZW5ndGg7IGkgPCBlOyBpKyspIHtcclxuICAgICAgICAgICAgdmFyIG4gPSB0W2ldO1xyXG4gICAgICAgICAgICB2YXIgcyA9IG4ubG93ZXI7XHJcbiAgICAgICAgICAgIGZvciAobyA9IGkgLSAxOyBvID49IDA7IG8tLSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHIgPSB0W29dO1xyXG4gICAgICAgICAgICAgICAgaWYgKHIubG93ZXIgPD0gcykge1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdFtvICsgMV0gPSByO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChvICsgMSAhPSBpKSB7XHJcbiAgICAgICAgICAgICAgICB0W28gKyAxXSA9IG47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgdC5wcm90b3R5cGUucHJlQnVpbGRBeGlzID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciB0ID0gMDtcclxuICAgICAgICB2YXIgZSA9IDA7XHJcbiAgICAgICAgdmFyIGkgPSAwO1xyXG4gICAgICAgIHZhciBvID0gMDtcclxuICAgICAgICB2YXIgbiA9IDA7XHJcbiAgICAgICAgdmFyIHMgPSAwO1xyXG4gICAgICAgIHZhciByID0gMDtcclxuICAgICAgICB2YXIgYSA9IDA7XHJcbiAgICAgICAgdmFyIGwgPSAwO1xyXG4gICAgICAgIHZhciBjID0gMDtcclxuICAgICAgICB2YXIgdSA9IHRoaXMuYm9keXM7XHJcbiAgICAgICAgdmFyIGQgPSB1Lmxlbmd0aDtcclxuICAgICAgICB2YXIgcCA9IDA7XHJcbiAgICAgICAgdmFyIGYgPSAhMTtcclxuICAgICAgICBmb3IgKHZhciBoID0gMDsgaCA8IGQ7IGgrKykge1xyXG4gICAgICAgICAgICB2YXIgbSA9IHVbaF07XHJcbiAgICAgICAgICAgIGlmIChtLmlzUmVtb3ZlKSB7XHJcbiAgICAgICAgICAgICAgICBtLmlzUmV0cmlldmUgJiYgKHRoaXMucG9vbHMucHVzaChtKSwgbS5jbGVhcigpKTtcclxuICAgICAgICAgICAgICAgIG0uaW5Db2xsaWRlciA9ICExO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICgrK3AgPD0gaCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB1W3AgLSAxXSA9IG07XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChtLnVwZGF0ZUJvdW5kKCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZiA9ICEwO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB2YXIgeSA9IG0uYWFiYjtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgZyA9IHlbM10gLSB5WzBdO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBfID0geVs0XSAtIHlbMV07XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGsgPSB5WzVdIC0geVsyXTtcclxuICAgICAgICAgICAgICAgICAgICBhICs9IGcgKiBnO1xyXG4gICAgICAgICAgICAgICAgICAgIGwgKz0gXyAqIF87XHJcbiAgICAgICAgICAgICAgICAgICAgYyArPSBrICogaztcclxuICAgICAgICAgICAgICAgICAgICB2YXIgdiA9IDAuNSAqICh5WzNdICsgeVswXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgZSArPSB2O1xyXG4gICAgICAgICAgICAgICAgICAgIGkgKz0gdiAqIHY7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGIgPSAwLjUgKiAoeVs0XSArIHlbMV0pO1xyXG4gICAgICAgICAgICAgICAgICAgIG8gKz0gYjtcclxuICAgICAgICAgICAgICAgICAgICBuICs9IGIgKiBiO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciB3ID0gMC41ICogKHlbNV0gKyB5WzJdKTtcclxuICAgICAgICAgICAgICAgICAgICBzICs9IHc7XHJcbiAgICAgICAgICAgICAgICAgICAgciArPSB3ICogdztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmJvZHlzLmxlbmd0aCA9IHA7XHJcbiAgICAgICAgdGhpcy5pc0RpcnR5ID0gZjtcclxuICAgICAgICB2YXIgQSA9IDEgLyBwO1xyXG4gICAgICAgIHZhciBTID0gKGkgLSBlICogZSAqIEEpICogKGEgPSBhID4gMCA/IHAgLyBhIDogMCk7XHJcbiAgICAgICAgdmFyIEMgPSAobiAtIG8gKiBvICogQSkgKiAobCA9IGwgPiAwID8gcCAvIGwgOiAwKTtcclxuICAgICAgICB2YXIgSSA9IChyIC0gcyAqIHMgKiBBKSAqIChjID0gYyA+IDAgPyBwIC8gYyA6IDApO1xyXG4gICAgICAgIGlmICgwID09IFMpIHtcclxuICAgICAgICAgICAgUyA9IGE7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICgwID09IEMpIHtcclxuICAgICAgICAgICAgQyA9IGw7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICgwID09IEkpIHtcclxuICAgICAgICAgICAgSSA9IGM7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFMgPiBDXHJcbiAgICAgICAgICAgID8gUyA+IElcclxuICAgICAgICAgICAgICAgID8gKCh0ID0gMCksICh0IHw9IEMgPiBJID8gMzYgOiAyNCkpXHJcbiAgICAgICAgICAgICAgICA6ICgodCA9IDIpLCAodCB8PSBTID4gQyA/IDE2IDogNCkpXHJcbiAgICAgICAgICAgIDogQyA+IElcclxuICAgICAgICAgICAgPyAoKHQgPSAxKSwgKHQgfD0gUyA+IEkgPyAzMiA6IDgpKVxyXG4gICAgICAgICAgICA6ICgodCA9IDIpLCAodCB8PSBTID4gQyA/IDE2IDogNCkpO1xyXG4gICAgICAgIHJldHVybiB0O1xyXG4gICAgfTtcclxuICAgIHQuX2luc3QgPSBudWxsO1xyXG4gICAgcmV0dXJuIHQ7XHJcbn0pKCk7XHJcbmV4cG9ydHMuY0NvbGxpZGVyID0gYTtcclxuIl19