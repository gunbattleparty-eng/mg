
                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/game_script/scripts/UICache.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'c0308faNKNOt7yGDo9FfKMw', 'UICache');
// game_script/scripts/UICache.js

"use strict";

exports.UICache = void 0;

var $resManager = require("./ResManager");

var $uIView = require("./UIView");

var s = function () {
  function t() {
    this.currViewManager = new Map();
    this.cacheViewManager = new Map();
    this.baseUIMap = new Map();
    this.baseUICache = new Map();
    this.popBgPrefab = null;
    this.popBg = new cc.NodePool();
  }

  t.prototype.getPopBg = function () {
    return this.popBg.size() > 0 ? this.popBg.get() : cc.instantiate(this.popBgPrefab);
  };

  t.prototype.setPopBg = function (t) {
    this.popBg.put(t);
  };

  t.prototype.removeBaseUICache = function (t) {
    if (this.baseUIMap.has(t)) {
      this.baseUIMap["delete"](t);
    }
  };

  t.prototype.setBaseUI = function (t, e) {
    this.baseUIMap.set(t, e);
  };

  t.prototype.getBaseUI = function (t) {
    if (!this.baseUIMap.has(t)) {
      console.warn("没有初始化预制体：", t);
      return null;
    }

    if (!this.baseUICache.has(t)) {
      var e = new cc.NodePool($uIView.UIView);
      this.baseUICache.set(t, e);
    }

    return this.baseUICache.get(t).size() > 0 ? this.baseUICache.get(t).get().getComponent($uIView.UIView) : cc.instantiate(this.baseUIMap.get(t)).getComponent($uIView.UIView);
  };

  t.prototype.cacheBaseUI = function (t, e) {
    this.baseUICache.get(t).put(e.node);
  };

  t.prototype.getCurrView = function (t) {
    return this.currViewManager.has(t) ? this.currViewManager.get(t) : [];
  };

  t.prototype.putCurrView = function (t, e) {
    if (!this.currViewManager.has(t)) {
      this.currViewManager.set(t, []);
    }

    this.currViewManager.get(t).push(e);
  };

  t.prototype.removeCurrView = function (t, e) {
    var i = this.currViewManager.get(t).indexOf(e);
    return -1 !== i && (this.currViewManager.get(t).splice(i, 1), !0);
  };

  t.prototype.getCacheView = function (t) {
    if (this.cacheViewManager.has(t) && this.cacheViewManager.get(t).size() > 0) {
      return this.cacheViewManager.get(t).get();
    }

    var e = $resManager.ResManager.instance.get(t);
    return e ? cc.instantiate(e) : null;
  };

  t.prototype.cacheView = function (t, e) {
    if (!this.cacheViewManager.has(t)) {
      this.cacheViewManager.set(t, new cc.NodePool($uIView.UIView));
    }

    e.isCache ? this.cacheViewManager.get(t).put(e.node) : e.node.destroy();
  };

  t.instance = new t();
  return t;
}();

exports.UICache = s;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcZ2FtZV9zY3JpcHRcXHNjcmlwdHNcXFVJQ2FjaGUuanMiXSwibmFtZXMiOlsiZXhwb3J0cyIsIlVJQ2FjaGUiLCIkcmVzTWFuYWdlciIsInJlcXVpcmUiLCIkdUlWaWV3IiwicyIsInQiLCJjdXJyVmlld01hbmFnZXIiLCJNYXAiLCJjYWNoZVZpZXdNYW5hZ2VyIiwiYmFzZVVJTWFwIiwiYmFzZVVJQ2FjaGUiLCJwb3BCZ1ByZWZhYiIsInBvcEJnIiwiY2MiLCJOb2RlUG9vbCIsInByb3RvdHlwZSIsImdldFBvcEJnIiwic2l6ZSIsImdldCIsImluc3RhbnRpYXRlIiwic2V0UG9wQmciLCJwdXQiLCJyZW1vdmVCYXNlVUlDYWNoZSIsImhhcyIsInNldEJhc2VVSSIsImUiLCJzZXQiLCJnZXRCYXNlVUkiLCJjb25zb2xlIiwid2FybiIsIlVJVmlldyIsImdldENvbXBvbmVudCIsImNhY2hlQmFzZVVJIiwibm9kZSIsImdldEN1cnJWaWV3IiwicHV0Q3VyclZpZXciLCJwdXNoIiwicmVtb3ZlQ3VyclZpZXciLCJpIiwiaW5kZXhPZiIsInNwbGljZSIsImdldENhY2hlVmlldyIsIlJlc01hbmFnZXIiLCJpbnN0YW5jZSIsImNhY2hlVmlldyIsImlzQ2FjaGUiLCJkZXN0cm95Il0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7OztBQUFBQSxPQUFPLENBQUNDLE9BQVIsR0FBa0IsS0FBSyxDQUF2Qjs7QUFDQSxJQUFJQyxXQUFXLEdBQUdDLE9BQU8sQ0FBQyxjQUFELENBQXpCOztBQUNBLElBQUlDLE9BQU8sR0FBR0QsT0FBTyxDQUFDLFVBQUQsQ0FBckI7O0FBQ0EsSUFBSUUsQ0FBQyxHQUFJLFlBQVk7RUFDakIsU0FBU0MsQ0FBVCxHQUFhO0lBQ1QsS0FBS0MsZUFBTCxHQUF1QixJQUFJQyxHQUFKLEVBQXZCO0lBQ0EsS0FBS0MsZ0JBQUwsR0FBd0IsSUFBSUQsR0FBSixFQUF4QjtJQUNBLEtBQUtFLFNBQUwsR0FBaUIsSUFBSUYsR0FBSixF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Q0FBQ00sV0FBSCxDQUFlTSxDQUFmLENBQUgsR0FBdUIsSUFBL0I7RUFDSCxDQU5EOztFQU9BcEIsQ0FBQyxDQUFDVSxTQUFGLENBQVk2QixTQUFaLEdBQXdCLFVBQVV2QyxDQUFWLEVBQWFvQixDQUFiLEVBQWdCO0lBQ3BDLElBQUksQ0FBQyxLQUFLakIsZ0JBQUwsQ0FBc0JlLEdBQXRCLENBQTBCbEIsQ0FBMUIsQ0FBTCxFQUFtQztNQUMvQixLQUFLRyxnQkFBTCxDQUFzQmtCLEdBQXRCLENBQTBCckIsQ0FBMUIsRUFBNkIsSUFBSVEsRUFBRSxDQUFDQyxRQUFQLENBQWdCWCxPQUFPLENBQUMyQixNQUF4QixDQUE3QjtJQUNIOztJQUNETCxDQUFDLENBQUNvQixPQUFGLEdBQVksS0FBS3JDLGdCQUFMLENBQXNCVSxHQUF0QixDQUEwQmIsQ0FBMUIsRUFBNkJnQixHQUE3QixDQUFpQ0ksQ0FBQyxDQUFDUSxJQUFuQyxDQUFaLEdBQXVEUixDQUFDLENBQUNRLElBQUYsQ0FBT2EsT0FBUCxFQUF2RDtFQUNILENBTEQ7O0VBTUF6QyxDQUFDLENBQUNzQyxRQUFGLEdBQWEsSUFBSXRDLENBQUosRUFBYjtFQUNBLE9BQU9BLENBQVA7QUFDSCxDQW5FTyxFQUFSOztBQW9FQU4sT0FBTyxDQUFDQyxPQUFSLEdBQWtCSSxDQUFsQiIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0cy5VSUNhY2hlID0gdm9pZCAwO1xyXG52YXIgJHJlc01hbmFnZXIgPSByZXF1aXJlKFwiLi9SZXNNYW5hZ2VyXCIpO1xyXG52YXIgJHVJVmlldyA9IHJlcXVpcmUoXCIuL1VJVmlld1wiKTtcclxudmFyIHMgPSAoZnVuY3Rpb24gKCkge1xyXG4gICAgZnVuY3Rpb24gdCgpIHtcclxuICAgICAgICB0aGlzLmN1cnJWaWV3TWFuYWdlciA9IG5ldyBNYXAoKTtcclxuICAgICAgICB0aGlzLmNhY2hlVmlld01hbmFnZXIgPSBuZXcgTWFwKCk7XHJcbiAgICAgICAgdGhpcy5iYXNlVUlNYXAgPSBuZXcgTWFwKCk7XHJcbiAgICAgICAgdGhpcy5iYXNlVUlDYWNoZSA9IG5ldyBNYXAoKTtcclxuICAgICAgICB0aGlzLnBvcEJnUHJlZmFiID0gbnVsbDtcclxuICAgICAgICB0aGlzLnBvcEJnID0gbmV3IGNjLk5vZGVQb29sKCk7XHJcbiAgICB9XHJcbiAgICB0LnByb3RvdHlwZS5nZXRQb3BCZyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5wb3BCZy5zaXplKCkgPiAwID8gdGhpcy5wb3BCZy5nZXQoKSA6IGNjLmluc3RhbnRpYXRlKHRoaXMucG9wQmdQcmVmYWIpO1xyXG4gICAgfTtcclxuICAgIHQucHJvdG90eXBlLnNldFBvcEJnID0gZnVuY3Rpb24gKHQpIHtcclxuICAgICAgICB0aGlzLnBvcEJnLnB1dCh0KTtcclxuICAgIH07XHJcbiAgICB0LnByb3RvdHlwZS5yZW1vdmVCYXNlVUlDYWNoZSA9IGZ1bmN0aW9uICh0KSB7XHJcbiAgICAgICAgaWYgKHRoaXMuYmFzZVVJTWFwLmhhcyh0KSkge1xyXG4gICAgICAgICAgICB0aGlzLmJhc2VVSU1hcC5kZWxldGUodCk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIHQucHJvdG90eXBlLnNldEJhc2VVSSA9IGZ1bmN0aW9uICh0LCBlKSB7XHJcbiAgICAgICAgdGhpcy5iYXNlVUlNYXAuc2V0KHQsIGUpO1xyXG4gICAgfTtcclxuICAgIHQucHJvdG90eXBlLmdldEJhc2VVSSA9IGZ1bmN0aW9uICh0KSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLmJhc2VVSU1hcC5oYXModCkpIHtcclxuICAgICAgICAgICAgY29uc29sZS53YXJuKFwi5rKh5pyJ5Yid5aeL5YyW6aKE5Yi25L2T77yaXCIsIHQpO1xyXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKCF0aGlzLmJhc2VVSUNhY2hlLmhhcyh0KSkge1xyXG4gICAgICAgICAgICB2YXIgZSA9IG5ldyBjYy5Ob2RlUG9vbCgkdUlWaWV3LlVJVmlldyk7XHJcbiAgICAgICAgICAgIHRoaXMuYmFzZVVJQ2FjaGUuc2V0KHQsIGUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdGhpcy5iYXNlVUlDYWNoZS5nZXQodCkuc2l6ZSgpID4gMFxyXG4gICAgICAgICAgICA/IHRoaXMuYmFzZVVJQ2FjaGUuZ2V0KHQpLmdldCgpLmdldENvbXBvbmVudCgkdUlWaWV3LlVJVmlldylcclxuICAgICAgICAgICAgOiBjYy5pbnN0YW50aWF0ZSh0aGlzLmJhc2VVSU1hcC5nZXQodCkpLmdldENvbXBvbmVudCgkdUlWaWV3LlVJVmlldyk7XHJcbiAgICB9O1xyXG4gICAgdC5wcm90b3R5cGUuY2FjaGVCYXNlVUkgPSBmdW5jdGlvbiAodCwgZSkge1xyXG4gICAgICAgIHRoaXMuYmFzZVVJQ2FjaGUuZ2V0KHQpLnB1dChlLm5vZGUpO1xyXG4gICAgfTtcclxuICAgIHQucHJvdG90eXBlLmdldEN1cnJWaWV3ID0gZnVuY3Rpb24gKHQpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5jdXJyVmlld01hbmFnZXIuaGFzKHQpID8gdGhpcy5jdXJyVmlld01hbmFnZXIuZ2V0KHQpIDogW107XHJcbiAgICB9O1xyXG4gICAgdC5wcm90b3R5cGUucHV0Q3VyclZpZXcgPSBmdW5jdGlvbiAodCwgZSkge1xyXG4gICAgICAgIGlmICghdGhpcy5jdXJyVmlld01hbmFnZXIuaGFzKHQpKSB7XHJcbiAgICAgICAgICAgIHRoaXMuY3VyclZpZXdNYW5hZ2VyLnNldCh0LCBbXSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuY3VyclZpZXdNYW5hZ2VyLmdldCh0KS5wdXNoKGUpO1xyXG4gICAgfTtcclxuICAgIHQucHJvdG90eXBlLnJlbW92ZUN1cnJWaWV3ID0gZnVuY3Rpb24gKHQsIGUpIHtcclxuICAgICAgICB2YXIgaSA9IHRoaXMuY3VyclZpZXdNYW5hZ2VyLmdldCh0KS5pbmRleE9mKGUpO1xyXG4gICAgICAgIHJldHVybiAtMSAhPT0gaSAmJiAodGhpcy5jdXJyVmlld01hbmFnZXIuZ2V0KHQpLnNwbGljZShpLCAxKSwgITApO1xyXG4gICAgfTtcclxuICAgIHQucHJvdG90eXBlLmdldENhY2hlVmlldyA9IGZ1bmN0aW9uICh0KSB7XHJcbiAgICAgICAgaWYgKHRoaXMuY2FjaGVWaWV3TWFuYWdlci5oYXModCkgJiYgdGhpcy5jYWNoZVZpZXdNYW5hZ2VyLmdldCh0KS5zaXplKCkgPiAwKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmNhY2hlVmlld01hbmFnZXIuZ2V0KHQpLmdldCgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgZSA9ICRyZXNNYW5hZ2VyLlJlc01hbmFnZXIuaW5zdGFuY2UuZ2V0KHQpO1xyXG4gICAgICAgIHJldHVybiBlID8gY2MuaW5zdGFudGlhdGUoZSkgOiBudWxsO1xyXG4gICAgfTtcclxuICAgIHQucHJvdG90eXBlLmNhY2hlVmlldyA9IGZ1bmN0aW9uICh0LCBlKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLmNhY2hlVmlld01hbmFnZXIuaGFzKHQpKSB7XHJcbiAgICAgICAgICAgIHRoaXMuY2FjaGVWaWV3TWFuYWdlci5zZXQodCwgbmV3IGNjLk5vZGVQb29sKCR1SVZpZXcuVUlWaWV3KSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGUuaXNDYWNoZSA/IHRoaXMuY2FjaGVWaWV3TWFuYWdlci5nZXQodCkucHV0KGUubm9kZSkgOiBlLm5vZGUuZGVzdHJveSgpO1xyXG4gICAgfTtcclxuICAgIHQuaW5zdGFuY2UgPSBuZXcgdCgpO1xyXG4gICAgcmV0dXJuIHQ7XHJcbn0pKCk7XHJcbmV4cG9ydHMuVUlDYWNoZSA9IHM7XHJcbiJdfQ==