
                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/game_script/scripts/QQAd.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '22794Q1rYZIQ77Dp57EKwU/', 'QQAd');
// game_script/scripts/QQAd.js

"use strict";

var o;
exports.QQAd = void 0;

var $aDConfig = require("./ADConfig");

var $baseAd = require("./BaseAd");

var $qQAppBox = require("./QQAppBox");

var $qQBanner = require("./QQBanner");

var $qQBlock = require("./QQBlock");

var $qQInterstitial = require("./QQInterstitial");

var $qQRewardedVideo = require("./QQRewardedVideo");

var $qQShare = require("./QQShare");

var f = function (t) {
  function e() {
    var e = t.call(this) || this;
    e.qqReward = null;
    e.qqBanner = null;
    e.qqInterstitial = null;
    e.qqShare = null;
    e.qqAppBox = null;
    e.qqBlock = null;
    console.warn("初始化QQ广告...");
    e.qqReward = new $qQRewardedVideo.QQRewardedVideo();
    e.qqReward.initAd($aDConfig.ADConfig.qq.rewarded_video_id);
    e.qqBanner = new $qQBanner.QQBanner();
    e.qqBanner.initAd($aDConfig.ADConfig.qq.banner_id);
    e.qqInterstitial = new $qQInterstitial["default"]();
    e.qqInterstitial.initAd($aDConfig.ADConfig.qq.interstitial_id);
    e.qqAppBox = new $qQAppBox["default"]();
    e.qqAppBox.initAd($aDConfig.ADConfig.qq.app_box_id);
    e.qqBlock = new $qQBlock.QQBlock();
    e.qqBlock.initAd($aDConfig.ADConfig.qq.block_id);
    e.qqShare = new $qQShare["default"]();
    e.qqShare.init();
    return e;
  }

  __extends(e, t);

  e.prototype.showRewardedVideo = function (t, e, i) {
    if ("" !== $aDConfig.ADConfig.qq.rewarded_video_id) {
      this.qqReward.showRewardedVideo(t, e, i);
    }
  };

  e.prototype.showBanner = function (t, e, i) {
    if ("" !== $aDConfig.ADConfig.qq.banner_id) {
      this.qqBanner.showBanner(t, e, i);
    }
  };

  e.prototype.hideBanner = function (t) {
    if ("" !== $aDConfig.ADConfig.qq.banner_id) {
      this.qqBanner.hideBanner(t);
    }
  };

  e.prototype.forbiddenBanner = function (t) {
    if ("" !== $aDConfig.ADConfig.qq.banner_id) {
      this.qqBanner.forbiddenBanner(t);
    }
  };

  e.prototype.showInterstitial = function (t, e, i) {
    if ("" !== $aDConfig.ADConfig.qq.interstitial_id) {
      this.qqInterstitial.showInterstitial(t, e, i);
    }
  };

  e.prototype.showAppBox = function (t, e, i) {
    if ("" !== $aDConfig.ADConfig.qq.app_box_id) {
      this.qqAppBox.showAppBox(t, e, i);
    }
  };

  e.prototype.share = function (t) {
    if (void 0 === t) {
      t = null;
    }

    if (!t) {
      t = {
        share_title: $aDConfig.ADConfig.qq.share_title,
        share_imageUrl: $aDConfig.ADConfig.qq.share_imageUrl
      };
    }

    this.qqShare.share(t);
  };

  e.prototype.showBlock = function (t, e, i) {
    if ("" !== $aDConfig.ADConfig.qq.block_id) {
      this.qqBlock.showBlock({
        top: 100
      }, e, i);
    }
  };

  e.prototype.hideBlock = function (t) {
    if ("" !== $aDConfig.ADConfig.qq.block_id) {
      this.qqBlock.hideBlock(t);
    }
  };

  e.prototype.forbiddenBlock = function (t) {
    if ("" !== $aDConfig.ADConfig.qq.block_id) {
      this.qqBlock.forbiddenBlock(t);
    }
  };

  return e;
}($baseAd.BaseAd);

exports.QQAd = f;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcZ2FtZV9zY3JpcHRcXHNjcmlwdHNcXFFRQWQuanMiXSwibmFtZXMiOlsibyIsImV4cG9ydHMiLCJRUUFkIiwiJGFEQ29uZmlnIiwicmVxdWlyZSIsIiRiYXNlQWQiLCIkcVFBcHBCb3giLCIkcVFCYW5uZXIiLCIkcVFCbG9jayIsIiRxUUludGVyc3RpdGlhbCIsIiRxUVJld2FyZGVkVmlkZW8iLCIkcVFTaGFyZSIsImYiLCJ0IiwiZSIsImNhbGwiLCJxcVJld2FyZCIsInFxQmFubmVyIiwicXFJbnRlcnN0aXRpYWwiLCJxcVNoYXJlIiwicXFBcHBCb3giLCJxcUJsb2NrIiwiY29uc29sZSIsIndhcm4iLCJRUVJld2FyZGVkVmlkZW8iLCJpbml0QWQiLCJBRENvbmZpZyIsInFxIiwicmV3YXJkZWRfdmlkZW9faWQiLCJRUUJhbm5lciIsImJhbm5lcl9pZCIsImludGVyc3RpdGlhbF9pZCIsImFwcF9ib3hfaWQiLCJRUUJsb2NrIiwiYmxvY2tfaWQiLCJpbml0IiwiX19leHRlbmRzIiwicHJvdG90eXBlIiwic2hvd1Jld2FyZGVkVmlkZW8iLCJpIiwic2hvd0Jhbm5lciIsImhpZGVCYW5uZXIiLCJmb3JiaWRkZW5CYW5uZXIiLCJzaG93SW50ZXJzdGl0aWFsIiwic2hvd0FwcEJveCIsInNoYXJlIiwic2hhcmVfdGl0bGUiLCJzaGFyZV9pbWFnZVVybCIsInNob3dCbG9jayIsInRvcCIsImhpZGVCbG9jayIsImZvcmJpZGRlbkJsb2NrIiwiQmFzZUFkIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLElBQUlBLENBQUo7QUFDQUMsT0FBTyxDQUFDQyxJQUFSLEdBQWUsS0FBSyxDQUFwQjs7QUFDQSxJQUFJQyxTQUFTLEdBQUdDLE9BQU8sQ0FBQyxZQUFELENBQXZCOztBQUNBLElBQUlDLE9BQU8sR0FBR0QsT0FBTyxDQUFDLFVBQUQsQ0FBckI7O0FBQ0EsSUFBSUUsU0FBUyxHQUFHRixPQUFPLENBQUMsWUFBRCxDQUF2Qjs7QUFD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QVYsQ0FBbUJDLEVBQW5CLENBQXNCTyxRQUFqQyxFQUEyQztNQUN2QyxLQUFLYixPQUFMLENBQWE4QixjQUFiLENBQTRCdEMsQ0FBNUI7SUFDSDtFQUNKLENBSkQ7O0VBS0EsT0FBT0MsQ0FBUDtBQUNILENBekZPLENBeUZMVCxPQUFPLENBQUMrQyxNQXpGSCxDQUFSOztBQTBGQW5ELE9BQU8sQ0FBQ0MsSUFBUixHQUFlVSxDQUFmIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgbztcclxuZXhwb3J0cy5RUUFkID0gdm9pZCAwO1xyXG52YXIgJGFEQ29uZmlnID0gcmVxdWlyZShcIi4vQURDb25maWdcIik7XHJcbnZhciAkYmFzZUFkID0gcmVxdWlyZShcIi4vQmFzZUFkXCIpO1xyXG52YXIgJHFRQXBwQm94ID0gcmVxdWlyZShcIi4vUVFBcHBCb3hcIik7XHJcbnZhciAkcVFCYW5uZXIgPSByZXF1aXJlKFwiLi9RUUJhbm5lclwiKTtcclxudmFyICRxUUJsb2NrID0gcmVxdWlyZShcIi4vUVFCbG9ja1wiKTtcclxudmFyICRxUUludGVyc3RpdGlhbCA9IHJlcXVpcmUoXCIuL1FRSW50ZXJzdGl0aWFsXCIpO1xyXG52YXIgJHFRUmV3YXJkZWRWaWRlbyA9IHJlcXVpcmUoXCIuL1FRUmV3YXJkZWRWaWRlb1wiKTtcclxudmFyICRxUVNoYXJlID0gcmVxdWlyZShcIi4vUVFTaGFyZVwiKTtcclxudmFyIGYgPSAoZnVuY3Rpb24gKHQpIHtcclxuICAgIGZ1bmN0aW9uIGUoKSB7XHJcbiAgICAgICAgdmFyIGUgPSB0LmNhbGwodGhpcykgfHwgdGhpcztcclxuICAgICAgICBlLnFxUmV3YXJkID0gbnVsbDtcclxuICAgICAgICBlLnFxQmFubmVyID0gbnVsbDtcclxuICAgICAgICBlLnFxSW50ZXJzdGl0aWFsID0gbnVsbDtcclxuICAgICAgICBlLnFxU2hhcmUgPSBudWxsO1xyXG4gICAgICAgIGUucXFBcHBCb3ggPSBudWxsO1xyXG4gICAgICAgIGUucXFCbG9jayA9IG51bGw7XHJcbiAgICAgICAgY29uc29sZS53YXJuKFwi5Yid5aeL5YyWUVHlub/lkYouLi5cIik7XHJcbiAgICAgICAgZS5xcVJld2FyZCA9IG5ldyAkcVFSZXdhcmRlZFZpZGVvLlFRUmV3YXJkZWRWaWRlbygpO1xyXG4gICAgICAgIGUucXFSZXdhcmQuaW5pdEFkKCRhRENvbmZpZy5BRENvbmZpZy5xcS5yZXdhcmRlZF92aWRlb19pZCk7XHJcbiAgICAgICAgZS5xcUJhbm5lciA9IG5ldyAkcVFCYW5uZXIuUVFCYW5uZXIoKTtcclxuICAgICAgICBlLnFxQmFubmVyLmluaXRBZCgkYURDb25maWcuQURDb25maWcucXEuYmFubmVyX2lkKTtcclxuICAgICAgICBlLnFxSW50ZXJzdGl0aWFsID0gbmV3ICRxUUludGVyc3RpdGlhbC5kZWZhdWx0KCk7XHJcbiAgICAgICAgZS5xcUludGVyc3RpdGlhbC5pbml0QWQoJGFEQ29uZmlnLkFEQ29uZmlnLnFxLmludGVyc3RpdGlhbF9pZCk7XHJcbiAgICAgICAgZS5xcUFwcEJveCA9IG5ldyAkcVFBcHBCb3guZGVmYXVsdCgpO1xyXG4gICAgICAgIGUucXFBcHBCb3guaW5pdEFkKCRhRENvbmZpZy5BRENvbmZpZy5xcS5hcHBfYm94X2lkKTtcclxuICAgICAgICBlLnFxQmxvY2sgPSBuZXcgJHFRQmxvY2suUVFCbG9jaygpO1xyXG4gICAgICAgIGUucXFCbG9jay5pbml0QWQoJGFEQ29uZmlnLkFEQ29uZmlnLnFxLmJsb2NrX2lkKTtcclxuICAgICAgICBlLnFxU2hhcmUgPSBuZXcgJHFRU2hhcmUuZGVmYXVsdCgpO1xyXG4gICAgICAgIGUucXFTaGFyZS5pbml0KCk7XHJcbiAgICAgICAgcmV0dXJuIGU7XHJcbiAgICB9XHJcbiAgICBfX2V4dGVuZHMoZSwgdCk7XHJcbiAgICBlLnByb3RvdHlwZS5zaG93UmV3YXJkZWRWaWRlbyA9IGZ1bmN0aW9uICh0LCBlLCBpKSB7XHJcbiAgICAgICAgaWYgKFwiXCIgIT09ICRhRENvbmZpZy5BRENvbmZpZy5xcS5yZXdhcmRlZF92aWRlb19pZCkge1xyXG4gICAgICAgICAgICB0aGlzLnFxUmV3YXJkLnNob3dSZXdhcmRlZFZpZGVvKHQsIGUsIGkpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBlLnByb3RvdHlwZS5zaG93QmFubmVyID0gZnVuY3Rpb24gKHQsIGUsIGkpIHtcclxuICAgICAgICBpZiAoXCJcIiAhPT0gJGFEQ29uZmlnLkFEQ29uZmlnLnFxLmJhbm5lcl9pZCkge1xyXG4gICAgICAgICAgICB0aGlzLnFxQmFubmVyLnNob3dCYW5uZXIodCwgZSwgaSk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIGUucHJvdG90eXBlLmhpZGVCYW5uZXIgPSBmdW5jdGlvbiAodCkge1xyXG4gICAgICAgIGlmIChcIlwiICE9PSAkYURDb25maWcuQURDb25maWcucXEuYmFubmVyX2lkKSB7XHJcbiAgICAgICAgICAgIHRoaXMucXFCYW5uZXIuaGlkZUJhbm5lcih0KTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgZS5wcm90b3R5cGUuZm9yYmlkZGVuQmFubmVyID0gZnVuY3Rpb24gKHQpIHtcclxuICAgICAgICBpZiAoXCJcIiAhPT0gJGFEQ29uZmlnLkFEQ29uZmlnLnFxLmJhbm5lcl9pZCkge1xyXG4gICAgICAgICAgICB0aGlzLnFxQmFubmVyLmZvcmJpZGRlbkJhbm5lcih0KTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgZS5wcm90b3R5cGUuc2hvd0ludGVyc3RpdGlhbCA9IGZ1bmN0aW9uICh0LCBlLCBpKSB7XHJcbiAgICAgICAgaWYgKFwiXCIgIT09ICRhRENvbmZpZy5BRENvbmZpZy5xcS5pbnRlcnN0aXRpYWxfaWQpIHtcclxuICAgICAgICAgICAgdGhpcy5xcUludGVyc3RpdGlhbC5zaG93SW50ZXJzdGl0aWFsKHQsIGUsIGkpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBlLnByb3RvdHlwZS5zaG93QXBwQm94ID0gZnVuY3Rpb24gKHQsIGUsIGkpIHtcclxuICAgICAgICBpZiAoXCJcIiAhPT0gJGFEQ29uZmlnLkFEQ29uZmlnLnFxLmFwcF9ib3hfaWQpIHtcclxuICAgICAgICAgICAgdGhpcy5xcUFwcEJveC5zaG93QXBwQm94KHQsIGUsIGkpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBlLnByb3RvdHlwZS5zaGFyZSA9IGZ1bmN0aW9uICh0KSB7XHJcbiAgICAgICAgaWYgKHZvaWQgMCA9PT0gdCkge1xyXG4gICAgICAgICAgICB0ID0gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKCF0KSB7XHJcbiAgICAgICAgICAgIHQgPSB7XHJcbiAgICAgICAgICAgICAgICBzaGFyZV90aXRsZTogJGFEQ29uZmlnLkFEQ29uZmlnLnFxLnNoYXJlX3RpdGxlLFxyXG4gICAgICAgICAgICAgICAgc2hhcmVfaW1hZ2VVcmw6ICRhRENvbmZpZy5BRENvbmZpZy5xcS5zaGFyZV9pbWFnZVVybFxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLnFxU2hhcmUuc2hhcmUodCk7XHJcbiAgICB9O1xyXG4gICAgZS5wcm90b3R5cGUuc2hvd0Jsb2NrID0gZnVuY3Rpb24gKHQsIGUsIGkpIHtcclxuICAgICAgICBpZiAoXCJcIiAhPT0gJGFEQ29uZmlnLkFEQ29uZmlnLnFxLmJsb2NrX2lkKSB7XHJcbiAgICAgICAgICAgIHRoaXMucXFCbG9jay5zaG93QmxvY2soXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgdG9wOiAxMDBcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBlLFxyXG4gICAgICAgICAgICAgICAgaVxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBlLnByb3RvdHlwZS5oaWRlQmxvY2sgPSBmdW5jdGlvbiAodCkge1xyXG4gICAgICAgIGlmIChcIlwiICE9PSAkYURDb25maWcuQURDb25maWcucXEuYmxvY2tfaWQpIHtcclxuICAgICAgICAgICAgdGhpcy5xcUJsb2NrLmhpZGVCbG9jayh0KTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgZS5wcm90b3R5cGUuZm9yYmlkZGVuQmxvY2sgPSBmdW5jdGlvbiAodCkge1xyXG4gICAgICAgIGlmIChcIlwiICE9PSAkYURDb25maWcuQURDb25maWcucXEuYmxvY2tfaWQpIHtcclxuICAgICAgICAgICAgdGhpcy5xcUJsb2NrLmZvcmJpZGRlbkJsb2NrKHQpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICByZXR1cm4gZTtcclxufSkoJGJhc2VBZC5CYXNlQWQpO1xyXG5leHBvcnRzLlFRQWQgPSBmO1xyXG4iXX0=