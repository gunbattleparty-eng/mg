{"version":3,"sources":["assets\\game_script\\scripts\\RBullet_6.js"],"names":["o","$object","require","$remoteAudio","$countDownUtil","$util","$globalParam","$gameContext","$gameSkillInfo","$baseBullet","h","cc","_decorator","m","ccclass","y","property","t","e","apply","arguments","buttleType","BulletType","r_bullet_6","leftTime","__extends","prototype","initButtle","call","instance","playLoopEffect","ins","skillInfo","robotParam","atk","Math","ceil","skillParam","skillAtk","Skill4Param","FINAL","setAngle","dirConverAngle","velocity","set","multiplyScalar","speed","onTrigger","i","object","Trigger","stay","CountDownUtil","time","getLastAtkTime","gameRatio","setLastAtkTime","sufferAtk","skillSpecialitys","updateFrame","isGamePuase","stopLoopEffect","removeSelf","__decorate","exports"],"mappings":"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","sourceRoot":"/","sourcesContent":["var o;\r\nvar $object = require(\"./Object\");\r\nvar $remoteAudio = require(\"./RemoteAudio\");\r\nvar $countDownUtil = require(\"./CountDownUtil\");\r\nvar $util = require(\"./Util\");\r\nvar $globalParam = require(\"./GlobalParam\");\r\nvar $gameContext = require(\"./GameContext\");\r\nvar $gameSkillInfo = require(\"./GameSkillInfo\");\r\nvar $baseBullet = require(\"./BaseBullet\");\r\nvar h = cc._decorator;\r\nvar m = h.ccclass;\r\nvar y =\r\n    (h.property,\r\n    (function (t) {\r\n        function e() {\r\n            var e = (null !== t && t.apply(this, arguments)) || this;\r\n            e.buttleType = $baseBullet.BulletType.r_bullet_6;\r\n            e.leftTime = 0;\r\n            return e;\r\n        }\r\n        __extends(e, t);\r\n        e.prototype.initButtle = function (e) {\r\n            t.prototype.initButtle.call(this, null, null);\r\n            $remoteAudio.default.instance.playLoopEffect(\"laser\");\r\n            this.leftTime = $gameContext.default.ins.skillInfo.robotParam[4];\r\n            this.atk = Math.ceil(\r\n                $gameContext.default.ins.skillInfo.robotParam[0] *\r\n                    this.skillParam.skillAtk[$gameSkillInfo.Skill4Param.FINAL]\r\n            );\r\n            this.setAngle($util.default.dirConverAngle(e));\r\n            t.prototype.initButtle.call(this, e, null);\r\n            if (e) {\r\n                this.velocity.set(e).multiplyScalar(this.speed);\r\n            }\r\n        };\r\n        e.prototype.onTrigger = function (t, e) {\r\n            var i = t.object;\r\n            if (e === $object.Trigger.stay) {\r\n                if (\r\n                    $countDownUtil.CountDownUtil.time - i.getLastAtkTime(5) <=\r\n                    $gameContext.default.ins.skillInfo.robotParam[3] / $gameContext.default.ins.gameRatio\r\n                ) {\r\n                    return;\r\n                }\r\n                i.setLastAtkTime(5, $countDownUtil.CountDownUtil.time);\r\n                i.sufferAtk({\r\n                    skillSpecialitys: this.skillSpecialitys,\r\n                    atk: this.atk\r\n                });\r\n            }\r\n        };\r\n        e.prototype.updateFrame = function (t) {\r\n            if (!($globalParam.default.isGamePuase || this.leftTime <= 0)) {\r\n                this.leftTime -= t;\r\n                if (this.leftTime <= 0) {\r\n                    $remoteAudio.default.instance.stopLoopEffect(\"laser\");\r\n                    this.removeSelf();\r\n                }\r\n            }\r\n        };\r\n        return __decorate([m], e);\r\n    })($baseBullet.default));\r\nexports.default = y;\r\n"]}