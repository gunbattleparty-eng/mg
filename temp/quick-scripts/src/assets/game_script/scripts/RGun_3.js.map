{"version":3,"sources":["assets\\game_script\\scripts\\RGun_3.js"],"names":["o","$assetsLoader","require","$assetsMap","$resUtil","$configContext","$globalParam","$baseBullet","$gameContext","p","t","e","i","call","ins","skillInfo","robotParam","instance","robotConfigs","find","id","Petsskin_skill_value","timeLeft","__extends","prototype","updateF","isAttacking","isGamePuase","startGun","createButtle","schedulesOnce","getButtlePool","BulletType","r_bullet_3","getRes","BundleNames","Game","AssetsMap","GameBundles","prefabs","assetsList","RBullet_3","ResUtil","instantiate","floorLayer","parent","getComponent","setPosition","cc","v3","pointNode","y","initButtle","insert","exports"],"mappings":"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","sourceRoot":"/","sourcesContent":["var o;\r\nvar $assetsLoader = require(\"./AssetsLoader\");\r\nvar $assetsMap = require(\"./AssetsMap\");\r\nvar $resUtil = require(\"./ResUtil\");\r\nvar $configContext = require(\"./ConfigContext\");\r\nvar $globalParam = require(\"./GlobalParam\");\r\nvar $baseBullet = require(\"./BaseBullet\");\r\nvar $gameContext = require(\"./GameContext\");\r\nvar p = (function (t) {\r\n    function e(e) {\r\n        var i = t.call(this, e) || this;\r\n        $gameContext.default.ins.skillInfo.robotParam = $configContext.default.instance.robotConfigs.find(function (t) {\r\n            return 4 === t.id;\r\n        }).Petsskin_skill_value;\r\n        i.timeLeft = $gameContext.default.ins.skillInfo.robotParam[1];\r\n        return i;\r\n    }\r\n    __extends(e, t);\r\n    e.prototype.updateF = function (e) {\r\n        t.prototype.updateF.call(this, e);\r\n        if (!(this.isAttacking || $globalParam.default.isGamePuase)) {\r\n            this.timeLeft -= e;\r\n            if (this.timeLeft <= 0) {\r\n                this.startGun();\r\n            }\r\n        }\r\n    };\r\n    e.prototype.startGun = function () {\r\n        var t = this;\r\n        this.isAttacking = !0;\r\n        this.createButtle();\r\n        this.schedulesOnce(function () {\r\n            t.timeLeft = $gameContext.default.ins.skillInfo.robotParam[1];\r\n            t.isAttacking = !1;\r\n        }, $gameContext.default.ins.skillInfo.robotParam[5]);\r\n    };\r\n    e.prototype.createButtle = function () {\r\n        var t = $gameContext.default.ins.getButtlePool($baseBullet.BulletType.r_bullet_3);\r\n        if (!t) {\r\n            var e = $assetsLoader.default.instance.getRes(\r\n                $assetsMap.BundleNames.Game,\r\n                $assetsMap.AssetsMap.GameBundles.prefabs.assetsList.RBullet_3\r\n            );\r\n            t = $resUtil.ResUtil.instantiate(e, $gameContext.default.ins.floorLayer.parent).getComponent(\r\n                $baseBullet.default\r\n            );\r\n        }\r\n        t.setPosition(cc.v3(0, this.pointNode.y + $gameContext.default.ins.skillInfo.robotParam[2]));\r\n        t.initButtle(null);\r\n        t.insert($gameContext.default.ins.floorLayer);\r\n    };\r\n    return e;\r\n})(require(\"./BaseGun\").default);\r\nexports.default = p;\r\n"]}