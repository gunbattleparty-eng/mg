{"version":3,"sources":["assets\\game_script\\scripts\\DartSkill.js"],"names":["o","exports","DartSkill","$skillContext","require","$gameSkillInfo","a","t","e","apply","arguments","skillReleaseCount","speed","time","interval","slowAdd","size","stayTime","stunTime","burnTime","burnAtk","delayRecover","releaseCount","releaseSize","releaseAtk","releaseInterval","releaseTime","isDoubleSize","allAtkTime","allAtkAdd","bounceSpeed","releaseDistance","enemySlowTime","enemySlowAdd","__extends","prototype","chooseSkill","id","Skill4Param","BASIC","add_sx","skillCD","Ins","getSkillCD","skillAtkRange","skillAtk","getBasicAtk","caculateFinal","updateAndCalculate","ADD","DEC","getSlowSpeed","Math","ceil","FINAL","getNormalSpeed","toString","call","BaseSkill"],"mappings":"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","sourceRoot":"/","sourcesContent":["var o;\r\nexports.DartSkill = void 0;\r\nvar $skillContext = require(\"./SkillContext\");\r\nvar $gameSkillInfo = require(\"./GameSkillInfo\");\r\nvar a = (function (t) {\r\n    function e() {\r\n        var e = (null !== t && t.apply(this, arguments)) || this;\r\n        e.skillReleaseCount = 1;\r\n        e.speed = [0, 0, 0, 1];\r\n        e.time = [0, 0, 0, 1];\r\n        e.interval = 0;\r\n        e.slowAdd = 0;\r\n        e.size = 1;\r\n        e.stayTime = 0;\r\n        e.stunTime = 0;\r\n        e.burnTime = 0;\r\n        e.burnAtk = 0;\r\n        e.delayRecover = 0.1;\r\n        e.releaseCount = 1;\r\n        e.releaseSize = 1;\r\n        e.releaseAtk = [0, 0, 0, 1];\r\n        e.releaseInterval = 0;\r\n        e.releaseTime = 0;\r\n        e.isDoubleSize = !1;\r\n        e.allAtkTime = 0;\r\n        e.allAtkAdd = 0;\r\n        e.bounceSpeed = 0;\r\n        e.releaseDistance = 0;\r\n        e.enemySlowTime = 0;\r\n        e.enemySlowAdd = 0;\r\n        return e;\r\n    }\r\n    __extends(e, t);\r\n    e.prototype.chooseSkill = function (t) {\r\n        247 === t.id\r\n            ? ((this.speed[$gameSkillInfo.Skill4Param.BASIC] = t.add_sx[0]),\r\n              (this.time[$gameSkillInfo.Skill4Param.BASIC] = t.add_sx[1]),\r\n              (this.interval = t.add_sx[2]),\r\n              (this.skillCD[$gameSkillInfo.Skill4Param.BASIC] = $skillContext.default.Ins.getSkillCD(t)),\r\n              (this.skillAtkRange[$gameSkillInfo.Skill4Param.BASIC] = t.add_sx[4]),\r\n              (this.skillAtk[$gameSkillInfo.Skill4Param.BASIC] = $skillContext.default.Ins.getBasicAtk(t)),\r\n              (this.slowAdd = t.add_sx[6]),\r\n              (this.size = t.add_sx[7]),\r\n              (this.releaseSize = this.size),\r\n              this.caculateFinal(this.speed),\r\n              this.caculateFinal(this.time, !1),\r\n              this.caculateFinal(this.skillCD, !1),\r\n              this.caculateFinal(this.skillAtkRange),\r\n              this.caculateFinal(this.skillAtk))\r\n            : 248 === t.id\r\n            ? this.updateAndCalculate(this.skillAtk, t.add_sx[0], $gameSkillInfo.Skill4Param.ADD)\r\n            : 249 === t.id\r\n            ? this.updateAndCalculate(this.time, t.add_sx[0], $gameSkillInfo.Skill4Param.ADD)\r\n            : 250 === t.id\r\n            ? (this.updateAndCalculate(this.speed, t.add_sx[0], $gameSkillInfo.Skill4Param.ADD),\r\n              this.updateAndCalculate(this.skillAtk, t.add_sx[1], $gameSkillInfo.Skill4Param.ADD))\r\n            : 251 === t.id\r\n            ? (this.size += t.add_sx[0])\r\n            : 252 === t.id\r\n            ? ((this.releaseCount = t.add_sx[0]),\r\n              (this.releaseSize = t.add_sx[1]),\r\n              this.isDoubleSize && (this.releaseSize *= 2),\r\n              (this.releaseTime = t.add_sx[2]),\r\n              (this.releaseAtk[$gameSkillInfo.Skill4Param.BASIC] = this.getBasicAtk(t.add_sx[3])),\r\n              (this.releaseInterval = t.add_sx[4]),\r\n              (this.releaseDistance = t.add_sx[5]),\r\n              this.caculateFinal(this.releaseAtk))\r\n            : 253 === t.id\r\n            ? (this.stayTime += t.add_sx[0])\r\n            : 254 === t.id\r\n            ? (this.stunTime += t.add_sx[0])\r\n            : 255 === t.id\r\n            ? ((this.burnTime += t.add_sx[0]), (this.burnAtk = this.getBasicAtk(t.add_sx[1])))\r\n            : 257 === t.id\r\n            ? ((this.enemySlowTime = t.add_sx[0]), (this.enemySlowAdd = t.add_sx[1]))\r\n            : 258 === t.id\r\n            ? (this.isDoubleSize = !0)\r\n            : 259 === t.id\r\n            ? ((this.allAtkTime = t.add_sx[0]), (this.allAtkAdd = t.add_sx[1]))\r\n            : 261 === t.id\r\n            ? (this.bounceSpeed = t.add_sx[0])\r\n            : 262 === t.id &&\r\n              ((this.skillReleaseCount += t.add_sx[0]),\r\n              this.updateAndCalculate(this.skillAtk, t.add_sx[1], $gameSkillInfo.Skill4Param.DEC));\r\n    };\r\n    e.prototype.getSlowSpeed = function () {\r\n        return Math.ceil(this.speed[$gameSkillInfo.Skill4Param.FINAL] * (1 + this.slowAdd));\r\n    };\r\n    e.prototype.getNormalSpeed = function (t) {\r\n        if (void 0 === t) {\r\n            t = 0;\r\n        }\r\n        return Math.ceil(this.speed[$gameSkillInfo.Skill4Param.FINAL] * (1 + this.bounceSpeed * t));\r\n    };\r\n    e.prototype.toString = function () {\r\n        return (\r\n            t.prototype.toString.call(this) +\r\n            \"\\n        技能释放次数: \" +\r\n            this.skillReleaseCount +\r\n            \"\\n        飞镖速度: \" +\r\n            this.speed +\r\n            \"\\n        飞镖持续时间: \" +\r\n            this.time +\r\n            \"\\n        飞镖伤害间隔: \" +\r\n            this.interval +\r\n            \"\\n        飞镖减速系数: \" +\r\n            this.slowAdd +\r\n            \"\\n        飞镖大小: \" +\r\n            this.size +\r\n            \"\\n        结束后停留时长: \" +\r\n            this.stayTime +\r\n            \"\\n        眩晕时间: \" +\r\n            this.stunTime +\r\n            \"\\n        点燃时长: \" +\r\n            this.burnTime +\r\n            \"\\n        点燃伤害: \" +\r\n            this.burnAtk +\r\n            \"\\n        延迟恢复时间: \" +\r\n            this.delayRecover +\r\n            \"\\n        释放利刃数量: \" +\r\n            this.releaseCount +\r\n            \"\\n        利刃大小: \" +\r\n            this.releaseSize +\r\n            \"\\n        利刃伤害: \" +\r\n            this.releaseAtk +\r\n            \"\\n        利刃伤害间隔: \" +\r\n            this.releaseInterval +\r\n            \"\\n        利刃持续时间: \" +\r\n            this.releaseTime +\r\n            \"\\n        选择是是否体积翻倍: \" +\r\n            this.isDoubleSize +\r\n            \"\\n        使敌人内伤时间: \" +\r\n            this.allAtkTime +\r\n            \"\\n        使敌人内伤加成: \" +\r\n            this.allAtkAdd +\r\n            \"\\n        弹射加速: \" +\r\n            this.bounceSpeed +\r\n            \"\\n        \"\r\n        );\r\n    };\r\n    return e;\r\n})(require(\"./BaseSkill\").BaseSkill);\r\nexports.DartSkill = a;\r\n"]}