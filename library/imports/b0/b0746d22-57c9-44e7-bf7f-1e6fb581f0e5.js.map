{"version":3,"sources":["assets\\game_script\\scripts\\Bullet_23.js"],"names":["o","$object","require","$gameSkillInfo","$enemyStatus","$baseBullet","u","cc","_decorator","d","ccclass","p","property","t","e","apply","arguments","buttleType","BulletType","wind_blade_boom","skillSpecialitys","BulletSpeciality","boom","wind","atkedEnemy","Set","__extends","prototype","initButtle","i","call","setScale","v3","atk","skillParam","windBladeWaveAtk","Skill4Param","FINAL","clear","setAnimation","node","children","getComponent","Animation","play","once","EventType","FINISHED","removeSelf","onTrigger","isUse","Trigger","enter","stay","object","has","add","sufferAtk","id","skillId","windBladeWaveFreezeTime","sufferDebuff","type","EnemyDebuffType","FREEZE","timeLeft","value","updateFrame","__decorate","exports"],"mappings":"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","sourceRoot":"/","sourcesContent":["var o;\r\nvar $object = require(\"./Object\");\r\nvar $gameSkillInfo = require(\"./GameSkillInfo\");\r\nvar $enemyStatus = require(\"./EnemyStatus\");\r\nvar $baseBullet = require(\"./BaseBullet\");\r\nvar u = cc._decorator;\r\nvar d = u.ccclass;\r\nvar p =\r\n    (u.property,\r\n    (function (t) {\r\n        function e() {\r\n            var e = (null !== t && t.apply(this, arguments)) || this;\r\n            e.buttleType = $baseBullet.BulletType.wind_blade_boom;\r\n            e.skillSpecialitys = [$baseBullet.BulletSpeciality.boom, $baseBullet.BulletSpeciality.wind];\r\n            e.atkedEnemy = new Set();\r\n            return e;\r\n        }\r\n        __extends(e, t);\r\n        e.prototype.initButtle = function (e, i) {\r\n            t.prototype.initButtle.call(this, e, i);\r\n            this.setScale(cc.v3(1, 1));\r\n            this.atk = this.skillParam.windBladeWaveAtk[$gameSkillInfo.Skill4Param.FINAL];\r\n            this.atkedEnemy.clear();\r\n        };\r\n        e.prototype.setAnimation = function () {\r\n            var t = this;\r\n            var e = this.node.children[0].getComponent(cc.Animation);\r\n            e.play(\"bullet_23\");\r\n            e.once(\r\n                cc.Animation.EventType.FINISHED,\r\n                function () {\r\n                    t.removeSelf();\r\n                },\r\n                this\r\n            );\r\n        };\r\n        e.prototype.onTrigger = function (t, e) {\r\n            if (!this.isUse && (e == $object.Trigger.enter || e == $object.Trigger.stay)) {\r\n                var i = t.object;\r\n                if (this.atkedEnemy.has(i)) {\r\n                    return;\r\n                }\r\n                this.atkedEnemy.add(i);\r\n                i.sufferAtk({\r\n                    id: this.skillId,\r\n                    skillSpecialitys: this.skillSpecialitys,\r\n                    atk: this.atk\r\n                });\r\n                if (this.skillParam.windBladeWaveFreezeTime > 0) {\r\n                    i.sufferDebuff({\r\n                        id: this.skillId,\r\n                        type: $enemyStatus.EnemyDebuffType.FREEZE,\r\n                        timeLeft: this.skillParam.windBladeWaveFreezeTime,\r\n                        value: 0\r\n                    });\r\n                }\r\n            }\r\n        };\r\n        e.prototype.updateFrame = function () {};\r\n        return __decorate([d], e);\r\n    })($baseBullet.default));\r\nexports.default = p;\r\n"]}